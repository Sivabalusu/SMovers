(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a.n(s),r=a(22),c=a.n(r),l=a(2),o=(a(47),a(9)),d=a(11),p=a(6),u=a(5),j=a.n(u),m=a(10),b="SET_MESSAGE",g="REMOVE_MESSAGE",f="GET_DRIVERS",h="GET_DRIVERS_FAIL",O="GET_HELPERS",x="GET_HELPERS_FAIL",v="SIGNUP_SUCCESS",y="SIGNUP_FAIL",N="CLEAR_ERRORS",S="LOGIN_SUCCESS",k="LOGIN_FAIL",_="LOAD_USER",C="AUTH_ERROR",E="LOGOUT_USER",w="UPDATE_BOOKER_INFO",D="UPDATE_BOOKER_INFO_FAIL",z="UPDATE_PASSWORD",L="UPDATE_PASSWORD_FAIL",A="DELETE_ACCOUNT",B="DELETE_ACCOUNT_FAIL",U="CLEAR_DELETE_ERRORS",P="GET_BOOKINGS",I="UPDATE_DRIVER_INFO",F="UPDATE_DRIVER_INFO_FAIL",T="UPDATE_HELPER_INFO",W="UPDATE_HELPER_INFO_FAIL",R="FORGOT_PASSWORD",M="FORGOT_PASSWORD_FAIL",G="CHANGE_PASSWORD",H="CHANGE_PASSWORD_FAIL",q="PROVIDE_AVAILABILITY",Y="PROVIDE_AVAILABILITY_FAIL",V="GET_AVAILABILTIY",K="GET_AVAILABILTIY_FAIL",Q="SEND_BOOKING_PROPOSAL",Z="SEND_BOOKING_PROPOSAL_FAIL",X="BOOKING_RESPONSE",J="BOOKING_RESPONSE_FAIL",$="VIEW_UPCOMING_BOOKINGS",ee="CANCEL_BOOKING",te="CANCEL_BOOKING_FAIL",ae="POST_RATING",ne="POST_RATING_FAIL",se=a(4),ie=a.n(se),re=function(e){e?ie.a.defaults.headers.common["x-auth-token"]=e:delete ie.a.defaults.headers.common["x-auth-token"]},ce=function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),e.prev=1,"booker"!==localStorage.typeOfUser){e.next=8;break}return e.next=5,ie.a.get("/api/auth/1");case 5:a=e.sent,e.next=18;break;case 8:if("driver"!==localStorage.typeOfUser){e.next=14;break}return e.next=11,ie.a.get("/api/auth/2");case 11:a=e.sent,e.next=18;break;case 14:if("helper"!==localStorage.typeOfUser){e.next=18;break}return e.next=17,ie.a.get("/api/auth/3");case 17:a=e.sent;case 18:t({type:_,payload:{token:localStorage.jwt,user:a.data}}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),t({type:C});case 24:return e.prev=24,e.abrupt("return",new Promise((function(e){e(!0)})));case 27:case"end":return e.stop()}}),e,null,[[1,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},le=Object(d.g)(Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),a={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,ie.a.get("/api/bookers/logout",null,a);case 5:e.sent.data.logout&&t({type:E}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.prev=11,e.abrupt("return",new Promise((function(e){e(!0)})));case 14:case"end":return e.stop()}}),e,null,[[2,9,11,14]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.logout,i=e.user,r=Object(s.useMemo)((function(){if(t&&i)return i.name}),[t,i]),c=Object(n.jsxs)("ul",{className:"flexDisplay alignItemsCenter fontSize2_5",children:[Object(n.jsx)(o.b,{to:"/signUp",className:"fontSize2_5 navBarLinks ",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"colorWhite fillColor",children:"Sign Up"})}),Object(n.jsx)(o.b,{to:"/login",className:"fontSize2_5 navBarLinks",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"btn btn-white colorBlack",children:"Login"})})]}),l=Object(n.jsx)(o.b,{to:"/availability",className:"fontSize2_5 navBarLinks ",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"colorWhite fillColor",children:"Availability"})}),d="/".concat(localStorage.getItem("typeOfUser"),"/profile"),p=Object(n.jsxs)("ul",{className:"flexDisplay alignItemsCenter fontSize2_5",children:[Object(n.jsx)("div",{id:"userName",className:"fontSize2_5 navBarLinks",style:{textDecoration:"none"},children:Object(n.jsxs)("li",{className:"colorWhite",children:["Welcome ",Object(n.jsx)("em",{className:"fontSize1_5",children:r})]})}),Object(n.jsx)(o.b,{to:d,className:"fontSize2_5 colorWhite navBarLinks fillColor",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"",children:"Profile"})}),"driver"==localStorage.typeOfUser||"helper"==localStorage.typeOfUser?l:null,Object(n.jsx)(o.b,{to:"/bookings",className:"fontSize2_5 colorWhite navBarLinks fillColor",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"",children:"Bookings"})}),Object(n.jsx)("div",{className:"fontSize2_5 pointer navBarLinks",style:{textDecoration:"none"},children:Object(n.jsx)("li",{className:"btn btn-white colorBlack",onClick:function(){a()},children:"Logout"})})]});return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("section",{className:"padding2 colorLightBlue flexDisplay justifySpaceBetween alignItemsCenter",children:[Object(n.jsx)(o.b,{to:"/",className:"fontSize2_5",style:{textDecoration:"none"},children:Object(n.jsx)("h1",{className:"colorWhite navBarLinks",children:"S_MOVERS"})}),Object(n.jsx)("div",{children:t?p:c})]})})}))),oe=a(3),de=[{label:"-- select an option --",value:"default",disabled:!0},{label:"SUV",value:"suv",disabled:!1},{label:"Hatchback",value:"hatchback",disabled:!1},{label:"Pickup Truck",value:"pickup_truck",disabled:!1},{label:"Sedan",value:"sedan",disabled:!1}],pe=Object(p.b)(null,{getDrivers:function(e){var t=e.location,a=e.date,n=e.carType;return function(){var e=Object(m.a)(j.a.mark((function e(s){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.a.get("api/bookers/searchDrivers",{params:{location:t,date:a,carType:n}});case 3:i=e.sent,s({type:f,payload:i.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:h});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getHelpers:function(e){var t=e.location,a=e.date;return function(){var e=Object(m.a)(j.a.mark((function e(n){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.a.get("api/bookers/searchHelpers",{params:{location:t,date:a}});case 3:s=e.sent,console.log(123),n({type:O,payload:s.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:x});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getDrivers,a=e.getHelpers,i=e.changeTypeOfUser,r=Object(s.useState)(),c=Object(oe.a)(r,2),l=c[0],o=c[1],d=Object(s.useState)(),p=Object(oe.a)(d,2),u=p[0],j=p[1],m=Object(s.useState)(),b=Object(oe.a)(m,2),g=b[0],f=b[1],h=Object(s.useState)("driver"),O=Object(oe.a)(h,2),x=O[0],v=O[1];Object(s.useEffect)((function(){var e;e=l?l.trim():null,"driver"===x?t({location:e,carType:u,date:g}):"helper"===x&&a({location:e,date:g})}),[l,u,g,t,x]);var y=function(e){switch(e.target.name){case"location":o(e.target.value);break;case"carType":j(e.target.value);break;case"date":f(e.target.value);break;case"typeOfUser":"helper"===e.target.value?document.getElementById("carType").disabled=!0:"driver"===e.target.value&&(document.getElementById("carType").disabled=!1),i(e.target.value),v(e.target.value);break;default:return}};return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsxs)("section",{className:"flexDisplay justifyCenter flexWrap alignItemsStart searchBar",children:[Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"location",className:"fontWeight500 padding1",children:"Location"}),Object(n.jsx)("input",{type:"text",name:"location",id:"location",className:"padding1",onChange:y})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"carType",className:"fontWeight500 padding1",children:"Car Type"}),Object(n.jsx)("select",{name:"carType",id:"carType",className:"padding1",onChange:y,children:de.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",children:e.label},e.value)}))})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"date",className:"fontWeight500 padding1",children:"Date"}),Object(n.jsx)("input",{type:"date",name:"date",id:"date",className:"padding1",onChange:y})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn fieldSet fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"typeOfUser",className:"fontWeight500 padding1",children:"Type of service"}),Object(n.jsxs)("div",{className:"fieldSet fontSize2_5 padding1",children:[Object(n.jsx)("input",{type:"radio",name:"typeOfUser",id:"typeOfUser",className:"padding1",value:"driver",defaultChecked:!0,onChange:y}),Object(n.jsx)("label",{htmlFor:"driver",className:"fontWeight500 padding1",children:"Driver"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",id:"typeOfUser",className:"padding1",value:"helper",onChange:y}),Object(n.jsx)("label",{htmlFor:"helper",className:"fontWeight500 padding1",children:"Helper"})]})]})]}),Object(n.jsxs)("h4",{className:"fontSize1_5",style:{display:"inline-block",margin:"2rem auto"},children:["Available ",x,"s"]})]})})),ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABYwAAAWMBjWAytwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAWUSURBVHic5ZtdbBRVFMd/Z7bd2fKlVai2wfigtUCMSMTQYrvLPogETJRIfBNEY6KGD2NCwqPxRXzRiMREHwxCNMYHY3wggZd2WyAkgAIahcQHjFhKUUHLx860O8eHrQ0sbJk7u3emkX+ySTNzzzn/c3ruPfdr4DaHJGVYC5ksos8AEMg3sqw4kASPRAKghfRWkHcqnm6VnP9u3FxiD4Dudzso8SPQUPFqjBQPS7d3Kk4+TpzGACixiRudB2gYfxcrYs0A3c9MSu4ZYFaVJpfwvbnyJH/HxSneDAjcl6nuPMAMXHd9XHQgxgCoIiivhWi6QTU+XvFlwIC7Enjolu2UB+h3V9gnVEZ8AVA2hm4rBm1rRCyDoBbcduAk4QOuBLpA8v5Ji7SA+DJgk6EtQeR1W2SuN2QZIUpfNYzge/fZLon2M2DMXY+58wAzaXTX1ptOJawGQBUBoqeysNF2SbSbAQV3BUJHDRra6XOX143PTWA3APUoZ47dkmhtENRe90EcTlF7kJUU822tEu1lQPk/Vw/9QinUFDqicgvQXmbguGeAO+qkcgTXmyud/FMnfROoOQD6FSnundYCY3MoSRuOtKBBHpEX68DvGkO6E3F6CXSYlA5Cw3mGrgzL85RqUVs1ADpAM5JuYzTVjJRaEWkDaQZtRWlDpBW0DZjDzTc44kIRGATOIjKI6lmQC0D5b3Uu0KCDNBV/k8WMVgoLgA40PkaQehP0EaCFslOJbZhaggLngWHQ4zj6vvSMHhXtz+RQ3QekEyYYNzyQ5aKF9EGQrqTZJAM96IAsTJpGcpBHHeDXpGkkiNMOyLakWSQGlW2O5Iq7gC2UR8nbBQpskWXF3ROlTvvTz6GyG2hKjlcs8EBfkpz/BVTUeu1r6kKCb4HZiVCzDrmAsFqyxcLEk8om46u4PUB7rNzs4zToSsn5P1/78IbVmuS9XwgasiBHYqNmHycYc7ornYfJ1gJ7mY7rfonwtF1u1rGPlLdGuhm52cuq63V5issMe88CH1mjZh36KYG3qprzEHLBowV3M/AeSRynR4OCvC254lu3ahh6xaf96TXjZTJTC7MY4I+Xuc/DNDZa8mpfJo/o18CdkajZx0UCWS35Yl9YAeM1v/anF4DsQbnfVNYyfscJVknP6HETIeM+LVn/J0h1Ad+ZylrEDwROp6nzUMOuz/iZ3xAwLaqOOuEyKa91spF+MkQf1Uczd5O88wDToak5qnD0ADjB0siy9UZQisylhrouUygA0bnUMrGZOgGQ6AGINAjqXqaTcS+S7HnAtRgj8JolzyVTwWgZ0JTpZOo4D9CAZB6PIhixC0yhAfA/SDRO0QKgU/EcIRon4wCUr73IkijG7EKWRrlOY54BB9ILQO8ylrMObaY/bXwdxzwAY87U6/8TMOdmHgAnqGP/1z/Lv3rBfCA0D4DKE8YyNyJAdDeSno/jtwPbobaLDmWYT4jMNkR6Z87G8YdN5SpMHiWQDZK/eug63YXGRSA7apxiK0G6RfIjf4QVMMsAx19KZOflL+ANzhWXVDoPILnR78n63SDrgOFoNhAa/E4TAcMuEKnWltM9aOyQnPfBZHd6RFDJFXcReB1E7RaGcxTDAKhhesoRJOiSrL/WJC0lz0XJeZsJgsXAAZscw+8KK0K/e4lwmyDnENlKT/EzkdpOnVURBjLrUN0G3BNC5ApZb0ZYu+Ez4ChN3PrkeAzYTuDNk2xxZ63Ow3i3yBZ3EnjzUD4ctzEZmujDDa3fhIz2uccQql2pGUB0g2T9EyY6TaEDjQtRZwdKd5UmxyTnLQqrz2wMENkEXK14ehaRF8h6OdvOA0jP6HF6vCwqa4GhitdXUTH6+NL8XKD86eurIG2gh3G9T2xcYQ3F5RCz8NxXUFmM6BCBfhzHd0b/K/wLIWSw2DFSFnsAAAAASUVORK5CYII=",je=function(e){var t=e.dataFromParent,a=e.typeOfUser,i=Object(s.useState)(!1),r=Object(oe.a)(i,2),c=r[0],l=r[1];if(!t)return Object(n.jsx)("div",{});var p=t.availability,u=t.carType,j=t.name,m=t.location,b=t.totalTrips,g=t.rating,f=p.map((function(e,t){var a=new Date;return a.setDate(a.getDate()-a.getDay()+t),a.setHours(0,0,0,0),e?Object(n.jsxs)("li",{className:"fontSize1_5",children:[Object(n.jsx)("h3",{style:{padding:"1rem",textAlign:"center",backgroundColor:"#99FF99",borderRadius:"50%"},children:"Yes"}),Object(n.jsx)("h3",{children:a.toLocaleDateString()})]},t):Object(n.jsxs)("li",{className:"fontSize1_5",children:[Object(n.jsx)("h3",{style:{padding:"1rem",textAlign:"center",backgroundColor:"#FF6666",borderRadius:"50%"},children:"No"}),Object(n.jsx)("h3",{children:a.toLocaleDateString()})]},t)}));return c?Object(n.jsx)(d.a,{to:{pathname:"/viewProfile",state:{dataFromParent:{dataFromParent:t},typeOfUser:{typeOfUser:a}}}}):Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("section",{className:"flexDisplay cardContainer padding2 pointer",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn",style:{flexGrow:2},onClick:function(){l(!0)},children:[Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Name: "})," ",j]}),Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Location: "}),m?m.charAt(0).toUpperCase()+m.slice(1):null]}),Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Total Services: "}),b]}),"driver"===a?Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Car Type: "}),u.toUpperCase()]}):null,Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"fontSize1_5 fontWeight400",children:Object(n.jsx)("strong",{className:"fontSize1_5 ",children:"Availability"})}),Object(n.jsx)("ul",{className:"flexDisplay flexWrap fontSize1_5",children:f})]})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn",style:{flexGrow:"1"},children:[Object(n.jsxs)("div",{style:{flexGrow:"1"},children:[Object(n.jsx)("h3",{children:Object(n.jsx)("strong",{className:"fontSize1_5",children:"Rating"})}),Object(n.jsxs)("pre",{className:"fontSize1_5 flexDisplay alignItemsCenter",children:[g," \xa0",Object(n.jsx)("img",{src:ue,style:{width:"20%"}})]})]}),Object(n.jsx)(o.b,{to:{pathname:"/book",state:{city:t.location,email:t.email,fromURL:!1,typeOfUser:a}},children:Object(n.jsx)("button",{className:"btn btn-theme fontSize1_5",children:"Book"})})]})]})})},me=Object(p.b)((function(e){return{drivers:e.drivers}}))((function(e){var t=e.drivers.drivers,a=null!=t&&t.length>0&&t.map((function(e,t){if(void 0!==e)return Object(n.jsx)(je,{dataFromParent:e[0],typeOfUser:"driver"},e[0]._id)}));return a?Object(n.jsx)(s.Fragment,{children:a}):Object(n.jsx)(s.Fragment,{children:Object(n.jsx)("div",{className:"fontSize2_5",style:{display:"block",margin:"2rem auto"},children:"No Driver available"})})})),be=Object(p.b)((function(e){return{helpers:e.helpers}}))((function(e){var t=e.helpers.helpers,a=null!=t&&t.length>0&&t.map((function(e,t){if(void 0!==e)return Object(n.jsx)(je,{dataFromParent:e[0],typeOfUser:"helper"},e[0]._id)}));return a?Object(n.jsx)(s.Fragment,{children:a}):Object(n.jsx)(s.Fragment,{children:Object(n.jsx)("div",{className:"fontSize2_5",style:{display:"block",margin:"2rem auto"},children:"No Helper available"})})})),ge=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.isAuthenticated,a=Object(s.useState)("driver"),i=Object(oe.a)(a,2),r=i[0],c=i[1];return t&&"driver"===localStorage.typeOfUser?Object(n.jsx)(d.a,{to:"/driver/profile"}):t&&"helper"===localStorage.typeOfUser?Object(n.jsx)(d.a,{to:"/helper/profile"}):Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:"flexDisplayColumn",children:[Object(n.jsx)(pe,{changeTypeOfUser:function(e){c(e)}}),"driver"===r?Object(n.jsx)(me,{}):Object(n.jsx)(be,{})]})})})),fe=a(7),he=[{label:"-- select an option -- ",value:"0",disabled:!0,default:!0},{label:"Toronto",value:"toronto",disabled:!1,default:!1},{label:"Kitchener",value:"kitchener",disabled:!1,default:!1},{label:"Waterloo",value:"waterloo",disabled:!1,default:!1},{label:"Cambridge",value:"cambridge",disabled:!1,default:!1}],Oe=function(e){var t=e.msg;return Object(n.jsxs)("div",{className:" flexDisplayColumn justifyCenter alignItemsCenter",id:"spinnerContainer",children:[Object(n.jsx)("div",{id:"spinner",className:"padding1 "}),Object(n.jsx)("div",{className:"padding2 fontSize1_5 colorWhite",children:t})]})},xe=Object(p.b)((function(e){return{errors:e.auth.errors,isAuthenticated:e.auth.isAuthenticated}}),{signUp:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={header:{"Content-Type":"application/json"}},t.prev=1,"booker"!==e.typeOfUser){t.next=8;break}return t.next=5,ie.a.post("/api/bookers",e,n);case 5:s=t.sent,t.next=18;break;case 8:if("driver"!==e.typeOfUser){t.next=14;break}return t.next=11,ie.a.post("/api/drivers",e,n);case 11:s=t.sent,t.next=18;break;case 14:if("helper"!==e.typeOfUser){t.next=18;break}return t.next=17,ie.a.post("/api/helpers",e,n);case 17:s=t.sent;case 18:return a({type:v,payload:{data:s.data,typeOfUser:e.typeOfUser}}),t.abrupt("return",new Promise((function(e){e(!0)})));case 22:t.prev=22,t.t0=t.catch(1),a({type:y,payload:t.t0.response.data.errors});case 25:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:ce})((function(e){var t=e.signUp,a=e.errors,i=e.loadUser,r=e.isAuthenticated,c=Object(s.useState)(!0),o=Object(oe.a)(c,2),p=o[0],u=o[1],j=Object(s.useState)({typeOfUser:"booker",email:"",name:"",password:"",confirmPassword:"",location:"toronto",carType:"suv",rate:"",drivingExperience:"",licenseIssuedDate:Date.now()}),m=Object(oe.a)(j,2),b=m[0],g=m[1],f=Object(s.useState)({email:"",name:"",password:"",confirmPassword:"",rate:"",drivingExperience:""}),h=Object(oe.a)(f,2),O=h[0],x=h[1],v={email:"",name:"",password:"",confirmPassword:"",rate:"",drivingExperience:""};Object(s.useEffect)((function(){a&&a.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;v[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),r&&(document.getElementById("form").disabled=!0,setTimeout((function(){return u(!1)}),4e3)),x(v)}),[a,r]);var y=function(e){g(Object(l.a)(Object(l.a)({},b),{},Object(fe.a)({},e.target.name,e.target.value)))},N=Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"carType",className:"fontWeight500 padding1",children:"Car Type"}),Object(n.jsx)("select",{name:"carType",id:"carType",className:"padding1",value:b.carType,onChange:y,children:de.map((function(e){return Object(n.jsx)("option",{value:e.value,name:"carType",className:"fontSize1_5",disabled:e.disabled,children:e.label},e.value)}))})]}),S=Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drivingExperience",className:"fontWeight500 padding1",children:"Driving Experience"}),Object(n.jsx)("input",{type:"number",name:"drivingExperience",id:"drivingExperience",className:"padding1",onChange:y,min:"1",required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:O.drivingExperience})]}),k=Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"location",className:"fontWeight500 padding1",children:"Location"}),Object(n.jsx)("select",{name:"location",id:"location",className:"padding1",value:b.location,onChange:y,children:he.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",disabled:e.disabled,name:"location",children:e.label},e.value)}))})]}),"driver"===b.typeOfUser&&N,Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"rate",className:"fontWeight500 padding1",children:"Rate"}),Object(n.jsx)("input",{type:"number",name:"rate",id:"rate",className:"padding1",required:!0,placeholder:"20/hr",min:"15",onChange:y}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:O.rate})]}),"driver"===b.typeOfUser&&S]}),_=Object(n.jsxs)("form",{className:"flexDisplayColumn",id:"form",children:[Object(n.jsx)("div",{className:"fontSize2_5 padding1",children:"Sign Up"}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"email",className:"fontWeight500 padding1",children:"Email"}),Object(n.jsx)("input",{type:"email",name:"email",id:"email",className:"padding1",onChange:y,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:O.email})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"name",className:"fontWeight500 padding1",children:"Name"}),Object(n.jsx)("input",{type:"text",name:"name",id:"name",onChange:y,className:"padding1",required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:O.name})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"password",className:"fontWeight500 padding1",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",onChange:y,className:"padding1",required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:O.password})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"confirmPassword",className:"fontWeight500 padding1",children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",className:"padding1",onChange:y,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:O.confirmPassword})]}),("helper"===b.typeOfUser||"driver"===b.typeOfUser)&&k,Object(n.jsxs)("div",{className:"fieldSet fontSize2_5 padding2",children:[Object(n.jsx)("label",{className:"fontWeight500 padding1 displayBlock",children:"Type of Account"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",value:"booker",onChange:y,defaultChecked:!0}),Object(n.jsx)("label",{htmlFor:"booker",className:"fontWeight500 padding1",children:"Booker"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",onChange:y,value:"driver"}),Object(n.jsx)("label",{htmlFor:"driver",className:"fontWeight500 padding1",children:"Driver"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",onChange:y,value:"helper"}),Object(n.jsx)("label",{htmlFor:"helper",className:"fontWeight500 padding1",children:"Helper"})]}),Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("input",{type:"submit",onClick:function(e){e.preventDefault(),function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")}(),t(b).then((function(){i()}))},className:"btn padding2 fontSize1_5 btn-theme width50",value:"Submit"})})]});return Object(n.jsxs)(s.Fragment,{children:[r&&Object(n.jsx)(Oe,{msg:"Loading"}),r&&!p&&Object(n.jsx)(d.a,{to:"/"}),_]})})),ve=Object(p.b)((function(e){return{loginErrors:e.auth.loginErrors,isAuthenticated:e.auth.isAuthenticated}}),{login:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={header:{"Content-Type":"application/json"}},t.prev=1,"booker"!==e.typeOfUser){t.next=8;break}return t.next=5,ie.a.post("/api/bookers/login",e,n);case 5:s=t.sent,t.next=18;break;case 8:if("driver"!==e.typeOfUser){t.next=14;break}return t.next=11,ie.a.post("/api/drivers/login",e,n);case 11:s=t.sent,t.next=18;break;case 14:if("helper"!==e.typeOfUser){t.next=18;break}return t.next=17,ie.a.post("/api/helpers/login",e,n);case 17:s=t.sent;case 18:a({type:S,payload:{data:s.data,typeOfUser:e.typeOfUser}}),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),a({type:k,payload:t.t0.response.data.errors});case 24:return t.prev=24,t.abrupt("return",new Promise((function(e){e(!0)})));case 27:case"end":return t.stop()}}),t,null,[[1,21,24,27]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:ce})((function(e){var t=e.loginErrors,a=e.loadUser,i=e.login,r=e.isAuthenticated,c=Object(s.useState)(!0),p=Object(oe.a)(c,2),u=p[0],j=p[1],m=Object(s.useState)({typeOfUser:"booker",email:"",password:""}),b=Object(oe.a)(m,2),g=b[0],f=b[1],h=Object(s.useState)({email:"",password:"",notFound:""}),O=Object(oe.a)(h,2),x=O[0],v=O[1],y={email:"",password:"",notFound:""};r&&setTimeout((function(){return j(!1)}),4e3),Object(s.useEffect)((function(){t&&t.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;y[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),v(y)}),[t]);var N=function(e){f(Object(l.a)(Object(l.a)({},g),{},Object(fe.a)({},e.target.name,e.target.value)))},S=Object(n.jsxs)("form",{className:"flexDisplayColumn",id:"form",children:[Object(n.jsx)("div",{className:"fontSize2_5 padding1",children:"Login"}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"email",className:"fontWeight500 padding1",children:"Email"}),Object(n.jsx)("input",{type:"email",name:"email",id:"email",className:"padding1",required:!0,value:g.email,onChange:N}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.email})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"password",className:"fontWeight500 padding1",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",className:"padding1",required:!0,value:g.password,onChange:N}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.password})]}),Object(n.jsxs)("div",{className:"fieldSet fontSize2_5 padding2",children:[Object(n.jsx)("label",{className:"fontWeight500 padding1 displayBlock",children:"Type of Account"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",value:"booker",defaultChecked:!0,onChange:N}),Object(n.jsx)("label",{htmlFor:"booker",className:"fontWeight500 padding1",children:"Booker"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",value:"driver",onChange:N}),Object(n.jsx)("label",{htmlFor:"driver",className:"fontWeight500 padding1",children:"Driver"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",value:"helper",onChange:N}),Object(n.jsx)("label",{htmlFor:"helper",className:"fontWeight500 padding1",children:"Helper"})]}),Object(n.jsx)("input",{hidden:!0,id:"notFound"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.notFound}),Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("input",{type:"submit",className:"btn padding2 fontSize1_5 btn-theme width50",value:"Submit",onClick:function(e){e.preventDefault(),function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")}(),i(g).then((function(){a()}))}})}),Object(n.jsx)(o.b,{to:"/forgotPassword",className:"fontSize2_5 navBarLinks padding2 ",style:{textDecoration:"none"},children:Object(n.jsx)("li",{style:{listStyle:"none"},children:"Forgot password?"})})]});return Object(n.jsxs)(s.Fragment,{children:[r&&Object(n.jsx)(Oe,{msg:"Loading"}),r&&!u&&Object(n.jsx)(d.a,{to:"/"}),S]})})),ye=a(18),Ne=a(40),Se=a(41),ke=a(16),_e=[],Ce={drivers:null},Ee={helpers:null},we={token:localStorage.getItem("jwt"),user:null,isAuthenticated:!1,errors:null,loginErrors:null,updateErrors:null,updatePasswordErrors:null,deleteErrors:null,forgotPasswordErrors:null,changePasswordErrors:null},De={previousBookings:null},ze={availability:[],dateUpdated:null,errors:null,responseErrors:null,bookings:null},Le=Object(ye.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case b:return[].concat(Object(ke.a)(e),[n]);case g:return e.filter((function(e){return e.id!=n}));default:return e}},drivers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case f:return Object(l.a)(Object(l.a)({},e),{},{drivers:n});case h:return Object(l.a)(Object(l.a)({},e),{},{drivers:null});case q:case Y:default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case _:return Object(l.a)(Object(l.a)({},e),{},{token:n.token,isAuthenticated:!0,user:n.user});case v:return localStorage.setItem("jwt",n.data.token),localStorage.setItem("typeOfUser",n.typeOfUser),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!0,errors:null});case S:return localStorage.setItem("jwt",n.data.token),localStorage.setItem("typeOfUser",n.typeOfUser),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!0,loginErrors:null});case y:return localStorage.removeItem("jwt"),localStorage.removeItem("typeOfUser"),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!1,user:null,token:null,errors:Object(ke.a)(n)});case k:return localStorage.removeItem("jwt"),localStorage.removeItem("typeOfUser"),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!1,user:null,token:null,loginErrors:Object(ke.a)(n)});case w:case I:case T:return Object(l.a)(Object(l.a)({},e),{},{updateErrors:null});case D:case F:case W:return Object(l.a)(Object(l.a)({},e),{},{updateErrors:Object(ke.a)(n)});case z:return Object(l.a)(Object(l.a)({},e),{},{updatePasswordErrors:null});case L:return Object(l.a)(Object(l.a)({},e),{},{updatePasswordErrors:Object(ke.a)(n)});case C:case E:case A:return localStorage.removeItem("jwt"),localStorage.removeItem("typeOfUser"),Object(l.a)(Object(l.a)({},e),{},{token:null,isAuthenticated:!1,user:null,deleteErrors:null});case B:return Object(l.a)(Object(l.a)({},e),{},{deleteErrors:Object(ke.a)(n)});case U:return Object(l.a)(Object(l.a)({},e),{},{deleteErrors:null});case N:return Object(l.a)(Object(l.a)({},e),{},{errors:null,loginErrors:null});case M:return Object(l.a)(Object(l.a)({},e),{},{forgotPasswordErrors:Object(ke.a)(n)});case R:return Object(l.a)(Object(l.a)({},e),{},{forgotPasswordErrors:null});case G:return Object(l.a)(Object(l.a)({},e),{},{changePasswordErrors:null});case H:return Object(l.a)(Object(l.a)({},e),{},{changePasswordErrors:Object(ke.a)(n)});default:return e}},helpers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case O:return Object(l.a)(Object(l.a)({},e),{},{helpers:n});case x:return Object(l.a)(Object(l.a)({},e),{},{helpers:null});default:return e}},bookers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case P:return Object(l.a)(Object(l.a)({},e),{},{previousBookings:n});default:return e}},booking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case V:return Object(l.a)(Object(l.a)({},e),{},{availability:n.availability,dateUpdated:n.dateUpdated});case K:return Object(l.a)(Object(l.a)({},e),{},{availability:[],dateUpdated:null});case Z:return Object(l.a)(Object(l.a)({},e),{},{errors:Object(ke.a)(n)});case Q:return Object(l.a)(Object(l.a)({},e),{},{errors:null});case q:case Y:case J:return Object(l.a)(Object(l.a)({},e),{},{responseErrors:Object(ke.a)(n)});case X:return Object(l.a)(Object(l.a)({},e),{},{responseErrors:null});case $:return Object(l.a)(Object(l.a)({},e),{},{bookings:n});case ee:case te:case ne:case ae:default:return e}}}),Ae=[Se.a],Be=Object(ye.createStore)(Le,{},Object(Ne.composeWithDevTools)(ye.applyMiddleware.apply(void 0,Ae))),Ue=Object(p.b)((function(e){return{deleteErrors:e.auth.deleteErrors}}),{deleteAccount:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.jwt||!localStorage.typeOfUser){t.next=28;break}if(n={"Content-Type":"application/json","x-auth-token":localStorage.jwt},t.prev=2,"booker"!==localStorage.typeOfUser){t.next=9;break}return t.next=6,ie.a.delete("/api/bookers/",{header:n,data:e});case 6:s=t.sent,t.next=19;break;case 9:if("driver"!==localStorage.typeOfUser){t.next=15;break}return t.next=12,ie.a.delete("/api/drivers/",{header:n,data:e});case 12:s=t.sent,t.next=19;break;case 15:if("helper"!==localStorage.typeOfUser){t.next=19;break}return t.next=18,ie.a.delete("/api/helpers/",{header:n,data:e});case 18:s=t.sent;case 19:return i=new Promise((function(e){e(s)})),t.abrupt("return",i);case 23:return t.prev=23,t.t0=t.catch(2),a({type:B,payload:t.t0.response.data.errors}),i=new Promise((function(e){e(t.t0.response)})),t.abrupt("return",i);case 28:case"end":return t.stop()}}),t,null,[[2,23]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.cancelModal,a=e.deleteAccount,i=e.deleteErrors,r=Object(s.useState)({password:""}),c=Object(oe.a)(r,2),o=c[0],p=c[1],u=Object(s.useState)({password:""}),j=Object(oe.a)(u,2),m=j[0],b=j[1],g={password:""},f=Object(s.useState)(!1),h=Object(oe.a)(f,2),O=h[0],x=h[1],v=Object(s.useState)(!1),y=Object(oe.a)(v,2),N=y[0],S=y[1],k=function(){x(!0)};O&&setTimeout((function(){return S(!0)}),5e3),Object(s.useEffect)((function(){i&&(i.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;g[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),b(g))}),[i]);var _=Object(n.jsx)("section",{id:"modalBox",className:" flexDisplay alignItemsCenter",children:Object(n.jsxs)("div",{id:"modalHolder",className:"flexDisplayColumn justifyCenter alignItemCenter center padding2",children:[Object(n.jsx)("h2",{className:"fontSize1_5 padding1",children:"Confirm Password"}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding1",children:[Object(n.jsx)("label",{htmlFor:"password",className:"fontWeight500 padding1",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",className:"padding1",value:o.password,onChange:function(e){p(Object(l.a)(Object(l.a)({},o),{},Object(fe.a)({},e.target.name,e.target.value)))},required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:m.password})]}),Object(n.jsxs)("div",{className:"flexDisplay",children:[Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-danger",value:"Delete",onClick:function(){!function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")}(),a(o).then((function(e){200==e.status&&(k(),setTimeout((function(){Be.dispatch({type:A})}),5e3))}))}})}),Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme",value:"Cancel",onClick:function(){Be.dispatch({type:U}),t()}})})]})]})});return N?Object(n.jsx)(d.a,{to:"/"}):O?Object(n.jsx)(Oe,{msg:"Hope to see you back!"}):Object(n.jsx)(s.Fragment,{children:_})})),Pe=Object(p.b)((function(e){return{errors:e.auth.updatePasswordErrors}}),{updatePassword:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),n={header:{"Content-Type":"application/json"}},t.prev=2,"booker"!==localStorage.typeOfUser){t.next=9;break}return t.next=6,ie.a.post("/api/bookers/updatePassword",e,n);case 6:s=t.sent,t.next=19;break;case 9:if("driver"!==localStorage.typeOfUser){t.next=15;break}return t.next=12,ie.a.post("/api/drivers/updatePassword",e,n);case 12:s=t.sent,t.next=19;break;case 15:if("helper"!==localStorage.typeOfUser){t.next=19;break}return t.next=18,ie.a.post("/api/helpers/updatePassword",e,n);case 18:s=t.sent;case 19:return a({type:z}),i=new Promise((function(e){e(s)})),t.abrupt("return",i);case 24:return t.prev=24,t.t0=t.catch(2),a({type:L,payload:t.t0.response.data.errors}),i=new Promise((function(e){e(t.t0.response)})),t.abrupt("return",i);case 29:case"end":return t.stop()}}),t,null,[[2,24]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.updatePassword,a=e.errors,i=e.triggerLoader,r=Object(s.useState)({currentPassword:"",password:"",confirmPassword:""}),c=Object(oe.a)(r,2),o=c[0],d=c[1],p=Object(s.useState)({currentPassword:"",password:"",confirmPassword:"",otherMessage:""}),u=Object(oe.a)(p,2),j=u[0],m=u[1],b={currentPassword:"",password:"",confirmPassword:"",otherMessage:""},g=function(e){d(Object(l.a)(Object(l.a)({},o),{},Object(fe.a)({},e.target.name,e.target.value)))};Object(s.useEffect)((function(){!function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")}(),a?(a.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;b[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),m(b)):a||d(Object(l.a)(Object(l.a)({},j),{},{password:"",currentPassword:"",confirmPassword:""}))}),[a]);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"currentPassword",className:"fontWeight500 padding1",children:"Current Password"}),Object(n.jsx)("input",{type:"password",name:"currentPassword",id:"currentPassword",className:"padding1",value:o.currentPassword,onChange:g,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:j.currentPassword})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"password",className:"fontWeight500 padding1",children:"New Password"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",className:"padding1",value:o.password,onChange:g,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:j.password})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"confirmPassword",className:"fontWeight500 padding1",children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",className:"padding1",value:o.confirmPassword,onChange:g,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:j.confirmPassword}),Object(n.jsx)("div",{id:"otherError"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorSuccess margin1_0",children:j.otherError})]}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme",value:"Change Password",onClick:function(){t(o).then((function(e){200==e.status&&(i(),setTimeout((function(){Be.dispatch({type:E})}),5e3))}))}})})]})})),Ie=Object(p.b)((function(e){return{user:e.auth.user,updateErrors:e.auth.updateErrors,isAuthenticated:e.auth.isAuthenticated}}),{updateBookerInfo:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),n={header:{"Content-Type":"application/json"}},t.prev=2,s=Object(l.a)({},e),e.email&&0!=e.email.trim().length||delete s.email,e.phone&&0!=e.phone.trim().length||delete s.phone,0===Object.keys(s).length&&s.constructor===Object){t.next=11;break}return t.next=9,ie.a.post("/api/bookers/update",s,n);case 9:t.sent,a({type:w});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),a({type:D,payload:t.t0.response.data.errors});case 16:return t.prev=16,t.abrupt("return",new Promise((function(e){e(!0)})));case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:ce})((function(e){var t=e.user,a=e.updateBookerInfo,i=e.updateErrors,r=e.loadUser,c=e.isAuthenticated,o=Object(s.useState)({email:"",phone:""}),p=Object(oe.a)(o,2),u=p[0],j=p[1],m=Object(s.useState)(!1),b=Object(oe.a)(m,2),g=b[0],f=b[1],h=Object(s.useState)({email:"",phone:"",otherError:""}),O=Object(oe.a)(h,2),x=O[0],v=O[1],y=Object(s.useState)(!1),N=Object(oe.a)(y,2),S=N[0],k=N[1],_=Object(s.useState)(!1),C=Object(oe.a)(_,2),E=C[0],w=C[1],D=Object(s.useState)(!1),z=Object(oe.a)(D,2),L=z[0],A=z[1],B={email:"",phone:"",otherError:""};S&&setTimeout((function(){return w(!0)}),5e3);var U=function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")},P=Object(s.useMemo)((function(){if(t)return"https://robohash.org/".concat(t.name)}),[t]);Object(s.useEffect)((function(){if(t&&!g?j(Object(l.a)(Object(l.a)({},u),{},{email:t.email?t.email:"",phone:t.phone?t.phone:""})):g&&u&&j(Object(l.a)(Object(l.a)({},u),{},{email:u.email?u.email:"",phone:u.phone?u.phone:""})),i)i.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;B[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),v(B);else if(!i&&g){I();var e=document.getElementById("otherError").nextSibling;e.classList.add("displayBlock"),e.classList.remove("displayNone"),e.classList.add("padding0_5"),v(Object(l.a)(Object(l.a)({},x),{},{email:"",phone:"",otherError:"Updated Successfully!"}))}}),[t,i]);var I=function(){if(g){var e,t=document.getElementsByClassName("nonEditableFieldSet");for(e=0;e<t.length;e++)t[e].classList.add("displayBlock"),t[e].classList.remove("displayNone");var a=document.getElementsByClassName("editableFieldSet");for(e=0;e<a.length;e++)a[e].classList.remove("displayBlock"),a[e].classList.add("displayNone")}f(!1)},F=function(e){j(Object(l.a)(Object(l.a)({},u),{},Object(fe.a)({},e.target.name,e.target.value)))};return!c||E?Object(n.jsx)(d.a,{to:"/"}):L?Object(n.jsx)(Ue,{id:"deleteModal",cancelModal:function(){A(!1)}}):S?Object(n.jsx)(Oe,{msg:"Password changed! Please login again."}):Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("div",{className:"fontSize2_5 padding1 flexDisplay justifyCenter",id:"profileTitle",children:"Profile"}),Object(n.jsxs)("section",{className:"flexDisplay padding2 justifyCenter alignItemsStart updateForm",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn ",children:[Object(n.jsx)("div",{id:"userImage",children:Object(n.jsx)("img",{className:"",src:P})}),Object(n.jsx)("h2",{className:"fontSize1_5 padding2",style:{textAlign:"center"},children:t?t.name:""})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsx)("label",{htmlFor:"email",className:"fontWeight500 padding1",children:"Email"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t?t.email:""}),Object(n.jsx)("input",{type:"email",name:"email",id:"email",value:u?u.email:"",className:"padding1 displayNone editableFieldSet",required:!0,onChange:F}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.email})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsx)("label",{htmlFor:"phone",className:"fontWeight500 padding1",children:"Phone"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t&&t.phone?t.phone:"Not provided"}),Object(n.jsx)("input",{type:"phone",name:"phone",id:"phone",value:u&&u.phone?u.phone:"",className:"padding1 displayNone editableFieldSet",required:!0,onChange:F}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.phone})]}),Object(n.jsx)("div",{id:"otherError"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorSuccess margin1_0",children:x.otherError}),Object(n.jsxs)("div",{className:"flexDisplay",children:[Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme",value:g?"Confirm":"Edit",onClick:function(){if(U(),!g){var e,t=document.getElementsByClassName("nonEditableFieldSet");for(e=0;e<t.length;e++)t[e].classList.add("displayNone"),t[e].classList.remove("displayBlock");var n=document.getElementsByClassName("editableFieldSet");for(e=0;e<n.length;e++)n[e].classList.remove("displayNone"),n[e].classList.add("displayBlock");f(!0)}g&&a(u).then((function(){r()}))}})}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn colorDanger padding1 fontSize1_5 btn-danger displayNone editableFieldSet",value:"Cancel",onClick:function(){U(),I(),t&&j(Object(l.a)(Object(l.a)({},u),{},{email:t.email?t.email:"",phone:t.phone?t.phone:""}))}})})]}),Object(n.jsx)(Pe,{triggerLoader:function(){k(!0)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsxs)("label",{className:"fontWeight500 padding1",children:["Rating",Object(n.jsxs)("em",{className:"fontSize0_5",children:["(provided by drivers and helpers)"," "]})]}),Object(n.jsxs)("div",{className:"padding1 flexDisplay alignItemsCenter",children:[t?t.rating:""," \xa0",Object(n.jsx)("img",{src:ue,style:{width:"10%"}})]})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsx)("label",{className:"fontWeight500 padding1",children:"Services booked"}),Object(n.jsxs)("div",{className:"padding1 flexDisplay alignItemsCenter",children:[t?t.numberOfServices:""," \xa0"]})]}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn colorDanger padding1 fontSize1_5 btn-danger",value:"Delete Account",onClick:function(){A(!0)}})})]})]})]})})),Fe=function(e){var t=e.location.state.dataFromParent.dataFromParent,a=e.location.state.typeOfUser.typeOfUser,i=t.availability,r=t.carType,c=t.name,l=t.location,d=t.totalTrips,p=t.rating,u=i.map((function(e,t){var a=new Date;return a.setDate(a.getDate()-a.getDay()+t),a.setHours(0,0,0,0),e?Object(n.jsxs)("li",{className:"fontSize1_5",children:[Object(n.jsx)("h3",{style:{padding:"1rem",textAlign:"center",backgroundColor:"#99FF99",borderRadius:"50%"},children:"Yes"}),Object(n.jsx)("h3",{children:a.toLocaleDateString()})]},t):Object(n.jsxs)("li",{className:"fontSize1_5 padding1",children:[Object(n.jsx)("h3",{style:{padding:"1rem",textAlign:"center",backgroundColor:"#FF6666",borderRadius:"50%"},children:"No"}),Object(n.jsx)("h3",{children:a.toLocaleDateString()})]},t)})),j=Object(s.useMemo)((function(){if(c)return"https://robohash.org/".concat(c)}),[c]);return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:"flexDisplayColumn availabilitySection center alignItemsCenter padding2 shadow",style:{margin:"2rem auto"},children:[Object(n.jsxs)("h3",{className:"fontSize1_5",children:["driver"===a?"Driver":"Helper"," Profile"]}),Object(n.jsxs)("section",{className:"flexDisplay padding2 justifyCenter alignItemsStart profileView",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn ",children:[Object(n.jsx)("div",{id:"userImage",children:Object(n.jsx)("img",{className:"",src:j})}),Object(n.jsx)("h2",{className:"fontSize1_5 padding2",style:{textAlign:"center"},children:c})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"flexDisplayColumn padding2 ",children:[Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400 padding2 ",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Location: "}),l.charAt(0).toUpperCase()+l.slice(1)]}),Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400 padding2",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Total Services: "}),d]}),"driver"===a?Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400 padding2",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Car Type: "}),r.toUpperCase()]}):null,Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"fontSize1_5 fontWeight400 padding2",children:Object(n.jsx)("strong",{className:"fontSize1_5 ",children:"Availability"})}),Object(n.jsx)("ul",{className:"flexDisplay flexWrap fontSize1_5 padding1",children:u})]})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn alignItemsStart",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{className:"padding2 flexDisplay alignItemsCenter",children:[Object(n.jsx)("strong",{className:" padding2 fontSize1_5",children:"Rating :"}),Object(n.jsxs)("span",{className:"fontSize1_5 fontWeight400",children:[p," \xa0"]}),Object(n.jsx)("img",{src:ue,style:{width:"5%"}})]})}),Object(n.jsx)(o.b,{to:{pathname:"/book",state:{city:t.location,email:t.email,typeOfUser:a,fromURL:!1}},className:"padding2 ",style:{alignSelf:"center"},children:Object(n.jsx)("button",{className:"btn btn-theme fontSize1_5 ",children:"Book"})})]})]})]})]})})},Te=function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),e.prev=1,a={header:{"Content-Type":"application/json"}},"booker"!=localStorage.typeOfUser){e.next=9;break}return e.next=6,ie.a.get("api/bookers/futureBookings",null,a);case 6:n=e.sent,e.next=19;break;case 9:if("driver"!=localStorage.typeOfUser){e.next=15;break}return e.next=12,ie.a.get("api/drivers/futureBookings",null,a);case 12:n=e.sent,e.next=19;break;case 15:if(!(localStorage.typeOfUser="helper")){e.next=19;break}return e.next=18,ie.a.get("api/helpers/futureBookings",null,a);case 18:n=e.sent;case 19:t({type:$,payload:n.data}),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(1);case 24:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()},We=function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),e.prev=1,a={header:{"Content-Type":"application/json"}},e.next=5,ie.a.get("api/bookers/bookings",null,a);case 5:n=e.sent,t({type:P,payload:n.data}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Re=Object(p.b)(null,{cancelBooking:function(e,t){return function(){var a=Object(m.a)(j.a.mark((function a(n){var s,i,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),a.prev=1,s={header:{"Content-Type":"application/json"}},"booker"!=localStorage.typeOfUser){a.next=9;break}return a.next=6,ie.a.get("/api/bookers/cancelBooking/".concat(e));case 6:i=a.sent,a.next=13;break;case 9:if("driver"!=localStorage.typeOfUser){a.next=13;break}return a.next=12,ie.a.post("/api/drivers/cancelBooking/".concat(e),{bookerEmail:t},s);case 12:i=a.sent;case 13:if("helper"!=localStorage.typeOfUser){a.next=17;break}return a.next=16,ie.a.post("/api/helpers/cancelBooking/".concat(e),{bookerEmail:t},s);case 16:i=a.sent;case 17:return n({type:ee}),r=new Promise((function(e){e(i)})),a.abrupt("return",r);case 22:return a.prev=22,a.t0=a.catch(1),n({type:te}),r=new Promise((function(e){e(a.t0.response)})),a.abrupt("return",r);case 27:case"end":return a.stop()}}),a,null,[[1,22]])})));return function(e){return a.apply(this,arguments)}}()},postRating:function(e,t){return function(){var a=Object(m.a)(j.a.mark((function a(n){var s,i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),a.prev=1,{header:{"Content-Type":"application/json"}},a.next=5,ie.a.post("api/bookers/rate/".concat(e,"/").concat(t));case 5:return s=a.sent,n({type:ae}),i=new Promise((function(e){e(s)})),a.abrupt("return",i);case 11:return a.prev=11,a.t0=a.catch(1),n({type:ne}),i=new Promise((function(e){e(a.t0.response)})),a.abrupt("return",i);case 16:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},getPreviousBookings:We,getUpComingBookings:Te})((function(e){var t=e.booking,a=e.dataFromParent,i=e.cancelBooking,r=e.postRating,c=e.getPreviousBookings,l=e.getUpComingBookings,o=[1,2,3,4,5],d=Object(s.useState)(o[o.length-1]),p=Object(oe.a)(d,2),u=p[0],j=p[1],m=Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 alignItemsCenter padding2",children:[Object(n.jsx)("label",{htmlFor:"rating",className:"fontWeight500 ",children:"Rating"}),Object(n.jsx)("select",{name:"rating",id:"rating",className:"padding1",value:u,onChange:function(e){j(e.target.value)},style:{width:"50px"},children:o.map((function(e){return Object(n.jsx)("option",{value:e,name:"carType",className:"fontSize1_5",children:e},e)}))})]}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme flexDisplay center",value:"Post Rating",onClick:function(){r(String(t._id),u).then((function(e){200==e.status&&c()}))}})})]});return Object(n.jsxs)("section",{className:"flexDisplayColumn cardContainer padding2 pointer",children:[Object(n.jsx)("h3",{className:"fontSize1_5 fontWeight400",children:Object(n.jsx)("strong",{className:"fontSize2_5",children:t.driverEmail?"Driver":"Helper"})}),Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Name: "})," ",t.driverName?t.driverName:t.helperName]}),Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Date: "}),t.date.split("T")[0]]}),t.carType?Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Car Type: "}),t.carType]}):null,Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5 ",children:"Pick up: "})," ","".concat(t.pickUp.number," ").concat(t.pickUp.street,", ").concat(t.pickUp.city,", ").concat(t.pickUp.province,", ").concat(t.pickUp.zipCode)]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5 ",children:"Drop up: "}),"".concat(t.drop.number," ").concat(t.drop.street,", ").concat(t.drop.city,", ").concat(t.drop.province,", ").concat(t.drop.zipCode)]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5 ",children:"Purpose: "})," ",t.motive]})}),a?Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-danger flexDisplay center",value:"Cancel Booking",onClick:function(){i(String(t._id),t.bookerEmail).then((function(e){200==e.status&&l()}))}})}):t.rated?Object(n.jsxs)("h3",{className:"fontSize1_5 fontWeight400",children:[Object(n.jsx)("strong",{className:"fontSize1_5",children:"Rating: "}),t.rating]}):m]})})),Me=Object(p.b)((function(e){return{previousBookings:e.bookers.previousBookings,isAuthenticated:e.auth.isAuthenticated,futureBookings:e.booking.bookings}}),{getPreviousBookings:We,getUpComingBookings:Te})((function(e){var t=e.getPreviousBookings,a=e.previousBookings,i=e.isAuthenticated,r=e.getUpComingBookings,c=e.futureBookings,l=Object(s.useState)(!1),o=Object(oe.a)(l,2),p=o[0],u=o[1],j=Object(s.useState)(!1),m=Object(oe.a)(j,2),b=m[0],g=m[1],f=function(e){"prevBookings"===e.target.id?(h(!0),u(!0),t()):(h(!1),u(!1),r())};Object(s.useEffect)((function(){g(!0)})),Object(s.useEffect)((function(){b&&h(p)}),[b]);var h=function(e){e?(document.getElementById("prevBookings").classList.add("btn-active"),document.getElementById("upcomingBookings").classList.remove("btn-active")):(document.getElementById("upcomingBookings").classList.add("btn-active"),"booker"==localStorage.typeOfUser&&document.getElementById("prevBookings").classList.remove("btn-active"))},O=Object(n.jsxs)("div",{className:"flexDisplay justifyCenter",children:["booker"==localStorage.typeOfUser?Object(n.jsx)("button",{className:"btn fontSize1_5 margin2 btn-theme colorWhite",id:"prevBookings",onClick:f,children:"Previous Bookings"}):null,Object(n.jsx)("button",{className:"btn fontSize1_5 margin2 btn-theme colorWhite",id:"upcomingBookings",onClick:f,children:"Upcoming Bookings"})]}),x=null!=a&&a.length>0&&a.map((function(e,t){if(e)return Object(n.jsx)(Re,{booking:e,index:t,dataFromParent:!1},e._id)})),v=null!=c&&c.length>0&&c.map((function(e,t){if(e)return Object(n.jsx)(Re,{booking:e,index:t,dataFromParent:!0},e._id)}));return i?Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("section",{className:"flexDisplayColumn justifyCenter padding2",children:[O,p?x||Object(n.jsx)("div",{className:"fontSize2_5",style:{display:"block",margin:"2rem auto"},children:"Start booking a service!"}):v||Object(n.jsx)("div",{className:"fontSize2_5",style:{display:"block",margin:"2rem auto"},children:"Start booking a service!"})]})}):Object(n.jsx)(d.a,{to:"/"})})),Ge=Object(p.b)((function(e){return{user:e.auth.user,updateErrors:e.auth.updateErrors,isAuthenticated:e.auth.isAuthenticated}}),{updateDriverInfo:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),n={header:{"Content-Type":"application/json"}},t.prev=2,s=Object(l.a)({},e),e.email&&0!=e.email.trim().length||delete s.email,e.carType&&0!=e.carType.trim().length||delete s.carType,e.location&&0!=e.location.trim().length||delete s.location,e.drivingExperience&&0!=String(e.drivingExperience).trim().length||delete s.drivingExperience,0===Object.keys(s).length&&s.constructor===Object){t.next=13;break}return t.next=11,ie.a.post("/api/drivers/update",s,n);case 11:t.sent,a({type:I});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),a({type:F,payload:t.t0.response.data.errors});case 18:return t.prev=18,t.abrupt("return",new Promise((function(e){e(!0)})));case 21:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:ce})((function(e){var t=e.user,a=e.updateDriverInfo,i=e.updateErrors,r=e.loadUser,c=e.isAuthenticated,o=Object(s.useState)({email:"",location:"",drivingExperience:"",carType:""}),p=Object(oe.a)(o,2),u=p[0],j=p[1],m=Object(s.useState)(!1),b=Object(oe.a)(m,2),g=b[0],f=b[1],h=Object(s.useState)({email:"",location:"",drivingExperience:"",carType:"",otherError:""}),O=Object(oe.a)(h,2),x=O[0],v=O[1],y=Object(s.useState)(!1),N=Object(oe.a)(y,2),S=N[0],k=N[1],_=Object(s.useState)(!1),C=Object(oe.a)(_,2),E=C[0],w=C[1],D=Object(s.useState)(!1),z=Object(oe.a)(D,2),L=z[0],A=z[1],B={email:"",location:"",drivingExperience:"",carType:"",otherError:""};S&&setTimeout((function(){return w(!0)}),5e3);var U=function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")},P=Object(s.useMemo)((function(){if(t)return"https://robohash.org/".concat(t.name)}),[t]);Object(s.useEffect)((function(){if(t&&!g?j(Object(l.a)(Object(l.a)({},u),{},{email:t.email?t.email:"",location:t.location?t.location:"",drivingExperience:t.drivingExperience?t.drivingExperience:"",carType:t.carType?t.carType:""})):g&&u&&j(Object(l.a)(Object(l.a)({},u),{},{email:u.email?u.email:"",location:u.location?u.location:"",drivingExperience:u.drivingExperience?u.drivingExperience:"",carType:u.carType?u.carType:""})),i)i.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;B[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),v(B);else if(!i&&g){I();var e=document.getElementById("otherError").nextSibling;e.classList.add("displayBlock"),e.classList.remove("displayNone"),e.classList.add("padding0_5"),v(Object(l.a)(Object(l.a)({},x),{},{email:"",location:"",drivingExperience:"",carType:"",otherError:"Updated Successfully!"}))}}),[t,i]);var I=function(){if(g){var e,t=document.getElementsByClassName("nonEditableFieldSet");for(e=0;e<t.length;e++)t[e].classList.add("displayBlock"),t[e].classList.remove("displayNone");var a=document.getElementsByClassName("editableFieldSet");for(e=0;e<a.length;e++)a[e].classList.remove("displayBlock"),a[e].classList.add("displayNone")}f(!1)},F=function(e){j(Object(l.a)(Object(l.a)({},u),{},Object(fe.a)({},e.target.name,e.target.value)))};return!c||E?Object(n.jsx)(d.a,{to:"/"}):L?Object(n.jsx)(Ue,{id:"deleteModal",cancelModal:function(){A(!1)}}):S?Object(n.jsx)(Oe,{msg:"Password changed! Please login again."}):Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("div",{className:"fontSize2_5 padding1 flexDisplay justifyCenter",id:"profileTitle",children:"Profile"}),Object(n.jsxs)("section",{className:"flexDisplay padding2 justifyCenter alignItemsStart updateForm",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn ",children:[Object(n.jsx)("div",{id:"userImage",children:Object(n.jsx)("img",{className:"",src:P})}),Object(n.jsx)("h2",{className:"fontSize1_5 padding2",style:{textAlign:"center"},children:t?t.name:""})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsx)("label",{htmlFor:"email",className:"fontWeight500 padding1",children:"Email"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t?t.email:""}),Object(n.jsx)("input",{type:"email",name:"email",id:"email",value:u?u.email:"",className:"padding1 displayNone editableFieldSet",required:!0,onChange:F}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.email})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"carType",className:"fontWeight500 padding1",children:"Car Type"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t?t.carType.toUpperCase():""}),Object(n.jsx)("select",{name:"carType",id:"carType",className:"padding1 displayNone editableFieldSet",value:u?u.carType:"",onChange:F,children:de.map((function(e){if(!e.disabled)return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",children:e.label},e.value)}))}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.carType})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drivingExperience",className:"fontWeight500 padding1",children:"Driving Experience"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t?t.drivingExperience:""}),Object(n.jsx)("input",{type:"number",name:"drivingExperience",id:"drivingExperience",value:u?u.drivingExperience:"",className:"padding1 displayNone editableFieldSet",required:!0,onChange:F}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.drivingExperience})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"location",className:"fontWeight500 padding1",children:"Location"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t?t.location.charAt(0).toUpperCase()+t.location.slice(1):""}),Object(n.jsx)("select",{name:"location",id:"location",className:"padding1 displayNone editableFieldSet",value:u?u.location:"",onChange:F,children:he.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",disabled:e.disabled,name:"location",children:e.label},e.value)}))}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.location})]}),Object(n.jsx)("div",{id:"otherError"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorSuccess margin1_0",children:x.otherError}),Object(n.jsxs)("div",{className:"flexDisplay",children:[Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme",value:g?"Confirm":"Edit",onClick:function(){if(U(),!g){var e,t=document.getElementsByClassName("nonEditableFieldSet");for(e=0;e<t.length;e++)t[e].classList.add("displayNone"),t[e].classList.remove("displayBlock");var n=document.getElementsByClassName("editableFieldSet");for(e=0;e<n.length;e++)n[e].classList.remove("displayNone"),n[e].classList.add("displayBlock");f(!0)}g&&a(u).then((function(){r()}))}})}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn colorDanger padding1 fontSize1_5 btn-danger displayNone editableFieldSet",value:"Cancel",onClick:function(){U(),I(),t&&j(Object(l.a)(Object(l.a)({},u),{},{email:t.email?t.email:"",location:t.location?t.location:"",drivingExperience:t.drivingExperience?t.drivingExperience:"",carType:t.carType?t.carType:""}))}})})]}),Object(n.jsx)(Pe,{triggerLoader:function(){k(!0)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsxs)("label",{className:"fontWeight500 padding1",children:["Rating",Object(n.jsx)("em",{className:"fontSize0_5",children:"(provided by bookers) "})]}),Object(n.jsxs)("div",{className:"padding1 flexDisplay alignItemsCenter",children:[t?t.rating:""," \xa0",Object(n.jsx)("img",{src:ue,style:{width:"10%"}})]})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsx)("label",{className:"fontWeight500 padding1",children:"Services booked"}),Object(n.jsxs)("div",{className:"padding1 flexDisplay alignItemsCenter",children:[t?t.totalTrips:""," \xa0"]})]}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn colorDanger padding1 fontSize1_5 btn-danger",value:"Delete Account",onClick:function(){A(!0)}})})]})]})]})})),He=Object(p.b)((function(e){return{user:e.auth.user,updateErrors:e.auth.updateErrors,isAuthenticated:e.auth.isAuthenticated}}),{updateHelperInfo:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),n={header:{"Content-Type":"application/json"}},t.prev=2,s=Object(l.a)({},e),e.email&&0!=e.email.trim().length||delete s.email,e.location&&0!=e.location.trim().length||delete s.location,0===Object.keys(s).length&&s.constructor===Object){t.next=11;break}return t.next=9,ie.a.post("/api/helpers/update",s,n);case 9:t.sent,a({type:T});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),a({type:W,payload:t.t0.response.data.errors});case 16:return t.prev=16,t.abrupt("return",new Promise((function(e){e(!0)})));case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:ce})((function(e){var t=e.user,a=e.updateHelperInfo,i=e.updateErrors,r=e.loadUser,c=e.isAuthenticated,o=Object(s.useState)({email:"",location:""}),p=Object(oe.a)(o,2),u=p[0],j=p[1],m=Object(s.useState)(!1),b=Object(oe.a)(m,2),g=b[0],f=b[1],h=Object(s.useState)({email:"",location:"",otherError:""}),O=Object(oe.a)(h,2),x=O[0],v=O[1],y=Object(s.useState)(!1),N=Object(oe.a)(y,2),S=N[0],k=N[1],_=Object(s.useState)(!1),C=Object(oe.a)(_,2),E=C[0],w=C[1],D=Object(s.useState)(!1),z=Object(oe.a)(D,2),L=z[0],A=z[1],B={email:"",location:"",otherError:""};S&&setTimeout((function(){return w(!0)}),5e3);var U=function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")},P=Object(s.useMemo)((function(){if(t)return"https://robohash.org/".concat(t.name)}),[t]);Object(s.useEffect)((function(){if(t&&!g?j(Object(l.a)(Object(l.a)({},u),{},{email:t.email?t.email:"",location:t.location?t.location:""})):g&&u&&j(Object(l.a)(Object(l.a)({},u),{},{email:u.email?u.email:"",location:u.location?u.location:""})),i)i.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;B[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),v(B);else if(!i&&g){I();var e=document.getElementById("otherError").nextSibling;e.classList.add("displayBlock"),e.classList.remove("displayNone"),e.classList.add("padding0_5"),v(Object(l.a)(Object(l.a)({},x),{},{email:"",location:"",otherError:"Updated Successfully!"}))}}),[t,i]);var I=function(){if(g){var e,t=document.getElementsByClassName("nonEditableFieldSet");for(e=0;e<t.length;e++)t[e].classList.add("displayBlock"),t[e].classList.remove("displayNone");var a=document.getElementsByClassName("editableFieldSet");for(e=0;e<a.length;e++)a[e].classList.remove("displayBlock"),a[e].classList.add("displayNone")}f(!1)},F=function(e){j(Object(l.a)(Object(l.a)({},u),{},Object(fe.a)({},e.target.name,e.target.value)))};return!c||E?Object(n.jsx)(d.a,{to:"/"}):L?Object(n.jsx)(Ue,{id:"deleteModal",cancelModal:function(){A(!1)}}):S?Object(n.jsx)(Oe,{msg:"Password changed! Please login again."}):Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("div",{className:"fontSize2_5 padding1 flexDisplay justifyCenter",id:"profileTitle",children:"Profile"}),Object(n.jsxs)("section",{className:"flexDisplay padding2 justifyCenter alignItemsStart updateForm",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn ",children:[Object(n.jsx)("div",{id:"userImage",children:Object(n.jsx)("img",{className:"",src:P})}),Object(n.jsx)("h2",{className:"fontSize1_5 padding2",style:{textAlign:"center"},children:t?t.name:""})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn",children:[Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsx)("label",{htmlFor:"email",className:"fontWeight500 padding1",children:"Email"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t?t.email:""}),Object(n.jsx)("input",{type:"email",name:"email",id:"email",value:u?u.email:"",className:"padding1 displayNone editableFieldSet",required:!0,onChange:F}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.email})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"location",className:"fontWeight500 padding1",children:"Location"}),Object(n.jsx)("div",{className:"padding1 nonEditableFieldSet",children:t?t.location.charAt(0).toUpperCase()+t.location.slice(1):""}),Object(n.jsx)("select",{name:"location",id:"location",className:"padding1 displayNone editableFieldSet",value:u?u.location:"",onChange:F,children:he.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",disabled:e.disabled,name:"location",children:e.label},e.value)}))}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:x.location})]}),Object(n.jsx)("div",{id:"otherError"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorSuccess margin1_0",children:x.otherError}),Object(n.jsxs)("div",{className:"flexDisplay",children:[Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme",value:g?"Confirm":"Edit",onClick:function(){if(U(),!g){var e,t=document.getElementsByClassName("nonEditableFieldSet");for(e=0;e<t.length;e++)t[e].classList.add("displayNone"),t[e].classList.remove("displayBlock");var n=document.getElementsByClassName("editableFieldSet");for(e=0;e<n.length;e++)n[e].classList.remove("displayNone"),n[e].classList.add("displayBlock");f(!0)}g&&a(u).then((function(){r()}))}})}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn colorDanger padding1 fontSize1_5 btn-danger displayNone editableFieldSet",value:"Cancel",onClick:function(){U(),I(),t&&j(Object(l.a)(Object(l.a)({},u),{},{email:t.email?t.email:"",location:t.location?t.location:"",drivingExperience:t.drivingExperience?t.drivingExperience:"",carType:t.carType?t.carType:""}))}})})]}),Object(n.jsx)(Pe,{triggerLoader:function(){k(!0)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsxs)("label",{className:"fontWeight500 padding1",children:["Rating",Object(n.jsx)("em",{className:"fontSize0_5",children:"(provided by bookers) "})]}),Object(n.jsxs)("div",{className:"padding1 flexDisplay alignItemsCenter",children:[t?t.rating:""," \xa0",Object(n.jsx)("img",{src:ue,style:{width:"10%"}})]})]}),Object(n.jsxs)("div",{className:"flexDisplayColumn fontSize2_5 padding2 ",children:[Object(n.jsx)("label",{className:"fontWeight500 padding1",children:"Services booked"}),Object(n.jsxs)("div",{className:"padding1 flexDisplay alignItemsCenter",children:[t?t.numberOfServices:""," \xa0"]})]}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn colorDanger padding1 fontSize1_5 btn-danger",value:"Delete Account",onClick:function(){A(!0)}})})]})]})]})})),qe=Object(p.b)((function(e){return{forgotPasswordErrors:e.auth.forgotPasswordErrors}}),{forgotPassword:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"booker"!==e.typeOfUser){t.next=7;break}return t.next=4,ie.a.post("/api/bookers/forgotPassword",e);case 4:n=t.sent,t.next=17;break;case 7:if("driver"!==e.typeOfUser){t.next=13;break}return t.next=10,ie.a.post("/api/drivers/forgotPassword",e);case 10:n=t.sent,t.next=17;break;case 13:if("helper"!==e.typeOfUser){t.next=17;break}return t.next=16,ie.a.post("/api/helpers/forgotPassword",e);case 16:n=t.sent;case 17:return a({type:R,payload:n.data}),s=new Promise((function(e){e(n)})),t.abrupt("return",s);case 22:return t.prev=22,t.t0=t.catch(0),a({type:M,payload:t.t0.response.data.errors}),s=new Promise((function(e){e(t.t0.response)})),t.abrupt("return",s);case 27:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.forgotPassword,a=e.forgotPasswordErrors,i=Object(s.useState)({email:"",typeOfUser:"booker"}),r=Object(oe.a)(i,2),c=r[0],d=r[1],p=Object(s.useState)({email:"",msg:"",successMsg:""}),u=Object(oe.a)(p,2),j=u[0],m=u[1],b={email:"",msg:"",successMsg:""},g=function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")};Object(s.useEffect)((function(){return a&&(a.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;b[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),m(b)),function(){g()}}),[a]);var f=function(e){d(Object(l.a)(Object(l.a)({},c),{},Object(fe.a)({},e.target.name,e.target.value)))};return Object(n.jsx)("section",{id:"modalBox",className:" flexDisplay alignItemsCenter",children:Object(n.jsxs)("div",{id:"modalHolder",className:"flexDisplayColumn justifyCenter alignItemCenter center padding2",children:[Object(n.jsx)("h2",{className:"fontSize1_5 padding1",children:"Enter registered email"}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding1",children:[Object(n.jsx)("label",{htmlFor:"email",className:"fontWeight500 padding1",children:"Email"}),Object(n.jsx)("input",{type:"email",name:"email",id:"email",className:"padding1",value:c.email,onChange:f,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:j.email})]}),Object(n.jsxs)("div",{className:"fieldSet fontSize2_5 padding2",children:[Object(n.jsx)("label",{className:"fontWeight500 padding1 displayBlock",children:"Type of Account"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",value:"booker",onChange:f,defaultChecked:!0}),Object(n.jsx)("label",{htmlFor:"booker",className:"fontWeight500 padding1",children:"Booker"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",value:"driver",onChange:f}),Object(n.jsx)("label",{htmlFor:"driver",className:"fontWeight500 padding1",children:"Driver"}),Object(n.jsx)("input",{type:"radio",name:"typeOfUser",className:"padding1",onChange:f,value:"helper"}),Object(n.jsx)("label",{htmlFor:"helper",className:"fontWeight500 padding1",children:"Helper"})]}),Object(n.jsx)("div",{id:"msg"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:j.msg}),Object(n.jsx)("div",{id:"successMsg"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorSuccess displayNone margin1_0",children:j.successMsg}),Object(n.jsxs)("div",{className:"flexDisplay",children:[Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme",value:"Send",onClick:function(){g(),t(c).then((function(e){if(200==e.status){var t=document.getElementById("successMsg").nextSibling;t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5"),m(Object(l.a)(Object(l.a)({},j),{},{successMsg:"Email sent to change the password"}))}}))}})}),Object(n.jsx)(o.b,{to:"/login",className:"fontSize2_5 navBarLinks padding2 ",style:{textDecoration:"none"},children:Object(n.jsx)("div",{type:"submit",className:"btn padding1 fontSize1_5 btn-danger",children:"Cancel"})})]})]})})})),Ye=Object(p.b)((function(e){return{changePasswordErrors:e.auth.changePasswordErrors}}),{changePassword:function(e,t){return function(){var a=Object(m.a)(j.a.mark((function a(n){var s,i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.post("/api/bookers/changePassword/".concat(t),e);case 3:return s=a.sent,n({type:G,payload:s.data}),i=new Promise((function(e){e(s)})),a.abrupt("return",i);case 9:return a.prev=9,a.t0=a.catch(0),n({type:H,payload:a.t0.response.data.errors}),i=new Promise((function(e){e(a.t0.response)})),a.abrupt("return",i);case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.match.params.id,a=e.changePassword,i=e.changePasswordErrors,r=Object(s.useState)({password:"",confirmPassword:""}),c=Object(oe.a)(r,2),o=c[0],d=c[1],p=Object(s.useState)({password:"",confirmPassword:"",msg:"",otherError:""}),u=Object(oe.a)(p,2),j=u[0],m=u[1],b={password:"",confirmPassword:"",msg:"",otherError:""},g=function(){for(var e=document.querySelectorAll("h5"),t=0;t<e.length;t++)e[t].classList.remove("displayBlock"),e[t].classList.add("displayNone"),e[t].classList.remove("padding0_5")};Object(s.useEffect)((function(){return i&&(i.map((function(e){if(document.getElementById(e.param)){var t=document.getElementById(e.param).nextSibling;b[e.param]=e.msg,t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5")}})),m(b)),function(){g()}}),[i]);var f=function(e){d(Object(l.a)(Object(l.a)({},o),{},Object(fe.a)({},e.target.name,e.target.value)))};return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{id:"changePassword",children:[Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"password",className:"fontWeight500 padding1",children:"New Password"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",className:"padding1",onChange:f,value:o.password,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:j.password})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"confirmPassword",className:"fontWeight500 padding1",children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",className:"padding1",onChange:f,value:o.confirmPassword,required:!0}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger displayNone margin1_0",children:j.confirmPassword}),Object(n.jsx)("div",{id:"msg"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorSuccess margin1_0",children:j.msg}),Object(n.jsx)("div",{id:"otherError"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger margin1_0",children:j.otherError})]}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn padding1 fontSize1_5 btn-theme flexDisplay center",value:"Change Password",onClick:function(){g(),a(o,t).then((function(e){if(200==e.status){var t=document.getElementById("msg").nextSibling;t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5"),m(Object(l.a)(Object(l.a)({},j),{},{msg:"Password changed! Try login."}))}}))}})})]})})})),Ve=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ke=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,availability:e.booking.availability,dateUpdated:e.booking.dateUpdated}}),{provideAvailability:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),n={header:{"Content-Type":"application/json"}},t.prev=2,"driver"!=localStorage.typeOfUser){t.next=9;break}return t.next=6,ie.a.put("api/drivers",e,n);case 6:s=t.sent,t.next=13;break;case 9:if("helper"!=localStorage.typeOfUser){t.next=13;break}return t.next=12,ie.a.put("api/helpers",e,n);case 12:s=t.sent;case 13:return a({type:q}),i=new Promise((function(e){e(s)})),t.abrupt("return",i);case 18:return t.prev=18,t.t0=t.catch(2),a({type:Y}),i=new Promise((function(e){e(t.t0.response)})),t.abrupt("return",i);case 23:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(e){return t.apply(this,arguments)}}()},getAvailability:function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var a,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),a={header:{"Content-Type":"application/json"}},e.prev=2,"driver"!=localStorage.typeOfUser){e.next=9;break}return e.next=6,ie.a.get("api/drivers/availability",null,a);case 6:n=e.sent,e.next=13;break;case 9:if("helper"!=localStorage.typeOfUser){e.next=13;break}return e.next=12,ie.a.get("api/helpers/availability",null,a);case 12:n=e.sent;case 13:return t({type:V,payload:n.data}),s=new Promise((function(e){e(n)})),e.abrupt("return",s);case 18:return e.prev=18,e.t0=e.catch(2),t({type:K}),s=new Promise((function(t){t(e.t0.response)})),e.abrupt("return",s);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.provideAvailability,a=e.isAuthenticated,i=e.availability,r=e.dateUpdated,c=e.getAvailability,o=Object(s.useState)(!1),p=Object(oe.a)(o,2),u=p[0],j=p[1],m=Object(s.useState)({availability:[0,0,0,0,0,0,0]}),b=Object(oe.a)(m,2),g=b[0],f=b[1],h=Object(s.useState)({errorMsg:"",successMsg:""}),O=Object(oe.a)(h,2),x=O[0],v=O[1],y=function(e){var t=g.availability.map((function(t,a){return e.target.attributes.day.value==a?Number(e.target.value):t}));f(Object(l.a)(Object(l.a)({},g),{},{availability:t}))},N=["No","Yes"],S=new Date;S.setHours(0,0,0,0);for(var k=[],_=0;_<7;_++){var C=new Date;C.setHours(0,0,0,0),C.setDate(C.getDate()+_),k.push(C)}Object(s.useEffect)((function(){if(c(),a||j(!0),0!=x.successMsg.trim().length){var e=document.getElementById("successMsg").nextSibling;e.classList.add("displayBlock"),e.classList.remove("displayNone"),e.classList.add("padding0_5"),e.classList.remove("displayBlock"),e.classList.add("displayNone"),e.classList.remove("padding0_5")}else if(0!=x.errorMsg.trim().length){var t=document.getElementById("errorMsg").nextSibling;t.classList.add("displayBlock"),t.classList.remove("displayNone"),t.classList.add("padding0_5"),t.classList.remove("displayBlock"),t.classList.add("displayNone"),t.classList.remove("padding0_5")}}),[a]);var E=new Date(r),w=Object(n.jsxs)("div",{className:"flexDisplayColumn availabilitySection center alignItemsCenter padding2 shadow",style:{margin:"2rem auto"},children:[Object(n.jsx)("h3",{className:"fontSize1_5",children:"Last updated availability"}),k.map((function(e,t){return Object(n.jsxs)("div",{className:" padding2 flexDisplay alignItemsCenter justifySpaceBetween",children:[Object(n.jsx)("div",{className:"fontSize1_5 fontWeight500",style:{margin:"auto 2rem"},children:"".concat(e.toLocaleDateString(),", \n                            ").concat(Ve[e.getDay()])}),0==i[t]?Object(n.jsx)("div",{className:"fontSize1_5 colorDanger padding0_5",children:N[i[t]]}):Object(n.jsx)("div",{className:"fontSize1_5 colorSuccess padding0_5",children:N[i[t]]})]},t)})),Object(n.jsxs)("div",{className:"fontSize1_5 margin2",children:[Object(n.jsx)("span",{className:"fontSize1_5 fontWeight500",children:"Last udpated -"}),"".concat(E.toLocaleDateString(),", \n                            ").concat(Ve[E.getDay()])]})]}),D=Object(n.jsxs)("div",{className:"flexDisplayColumn availabilitySection center alignItemsCenter padding2 shadow",style:{margin:"2rem auto"},children:[Object(n.jsx)("h3",{className:"fontSize1_5",children:"Provide availability"}),k.map((function(e,t){return Object(n.jsxs)("div",{className:" padding2 flexDisplay alignItemsCenter justifySpaceBetween",children:[Object(n.jsx)("div",{className:"fontSize1_5",style:{margin:"auto 2rem"},children:"".concat(e.toLocaleDateString(),", \n                            ").concat(Ve[e.getDay()])}),Object(n.jsx)("div",{children:Object(n.jsx)("select",{className:"fontSize1_5 padding1 ",style:{margin:"auto 2rem"},day:t,name:"option",onChange:y,value:g.availability[t],children:N.map((function(e,t){return Object(n.jsx)("option",{value:t,className:"fontSize1_5",children:e},t)}))})})]},t)})),Object(n.jsx)("div",{id:"successMsg"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorSuccess margin1_0",children:x.successMsg}),Object(n.jsx)("div",{id:"errorMsg"}),Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 colorDanger margin1_0",children:x.errorMsg}),Object(n.jsx)("div",{className:"padding2 ",children:Object(n.jsx)("input",{type:"submit",className:"btn  padding1 fontSize1_5 btn-theme",value:"Submit",onClick:function(){t(g).then((function(e){200==e.status?(c(),v(Object(l.a)(Object(l.a)({},x),{},{errorMsg:"",successMsg:"Availability Updated!"}))):v(Object(l.a)(Object(l.a)({},x),{},{errorMsg:"Please try again later!",successMsg:""}))}))}})})]});return u?Object(n.jsx)(d.a,{to:"/"}):Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("div",{className:"fontSize2_5 padding1 flexDisplay justifyCenter",id:"profileTitle",children:"Availability"}),Object(n.jsxs)("div",{className:"flexDisplay",id:"availabilityBlock",children:[w,0===S.getDay()?D:null]})]})})),Qe=Object(p.b)((function(e){return{responseErrors:e.booking.responseErrors}}),{bookingResponse:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log(e.id,e.accept),"driver"!=String(e.typeOfUser).toLowerCase()){t.next=8;break}return t.next=5,ie.a.put("/api/drivers/bookingProposal/".concat(e.id,"/").concat(e.accept));case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,ie.a.put("/api/helpers/bookingProposal/".concat(e.id,"/").concat(e.accept));case 10:n=t.sent;case 11:return a({type:X}),s=new Promise((function(e){e(n)})),t.abrupt("return",s);case 16:return t.prev=16,t.t0=t.catch(0),console.log(t.t0.response),a({type:J,payload:t.t0.response.data.errors}),s=new Promise((function(e){e(t.t0.response)})),t.abrupt("return",s);case 22:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match.params.accept,a=e.match.params.id,i=e.match.params.typeOfUser,r=e.bookingResponse,c=Object(s.useState)(!1),o=Object(oe.a)(c,2),d=o[0],p=o[1],u=Object(s.useState)({error:null,success:null}),j=Object(oe.a)(u,2),m=j[0],b=j[1];return Object(s.useEffect)((function(){d||r({accept:t,id:a,typeOfUser:i}).then((function(e){200==e.status?b("true"==t?Object(l.a)(Object(l.a)({},m),{},{error:null,success:"You accepted the request. If you want to cancel it go to your bookings!"}):Object(l.a)(Object(l.a)({},m),{},{error:null,success:"You rejected the request. Login to see upcoming bookings!"})):b(Object(l.a)(Object(l.a)({},m),{},{success:null,error:"Cannot use the link again!"}))})),p(!0)}),[d]),Object(s.useEffect)((function(){m.error?(document.getElementById("msg").classList.add("colorDanger"),document.getElementById("msg").classList.remove("colorSuccess"),document.getElementById("msg").classList.remove("displayNone")):m.success?(document.getElementById("msg").classList.add("colorSuccess"),document.getElementById("msg").classList.remove("colorDanger"),document.getElementById("msg").classList.remove("displayNone")):(document.getElementById("msg").classList.add("displayNone"),document.getElementById("msg").classList.add("padding0_5"),document.getElementById("msg").classList.remove("colorDanger"),document.getElementById("msg").classList.remove("colorSuccess"))}),[m]),Object(n.jsx)("div",{className:"center alignItemsCenter padding2 bookingBlock",children:Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 displayNone margin1_0",id:"msg",children:m.error?m.error:m.success})})})),Ze=[{label:"-- select an option -- ",value:"0",disabled:!0,default:!0},{label:"ON",value:"ontario",disabled:!1,default:!1},{label:"BC",value:"britishColumbia",disabled:!1,default:!1},{label:"QC",value:"Quebec",disabled:!1,default:!1},{label:"NS",value:"Nova Scotia",disabled:!1,default:!1}],Xe=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{bookDriver:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),n={header:{"Content-Type":"application/json"}},t.prev=2,t.next=5,ie.a.post("api/bookers/bookDriver",e,n);case 5:return s=t.sent,a({type:Q}),i=new Promise((function(e){e(s)})),t.abrupt("return",i);case 11:return t.prev=11,t.t0=t.catch(2),a({type:Z,payload:t.t0.response.data.errors}),i=new Promise((function(e){e(t.t0.response)})),t.abrupt("return",i);case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},bookHelper:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.jwt&&localStorage.typeOfUser&&re(localStorage.jwt),n={header:{"Content-Type":"application/json"}},t.prev=2,t.next=5,ie.a.post("api/bookers/bookHelper",e,n);case 5:return s=t.sent,a({type:Q}),i=new Promise((function(e){e(s)})),t.abrupt("return",i);case 11:return t.prev=11,t.t0=t.catch(2),a({type:Z,payload:t.t0.response.data.errors}),i=new Promise((function(e){e(t.t0.response)})),t.abrupt("return",i);case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t,a,i=e.bookDriver,r=e.bookHelper,c="",o="",p="",u=!0;e.location.state&&(c=e.location.state.email,o=e.location.state.city,u=e.location.state.fromURL,p=e.location.state.typeOfUser),console.log(p,c);var j=Object(s.useState)({street:"",number:"",city:o,province:"ontario",zipCode:"",country:"Canada"}),m=Object(oe.a)(j,2),b=m[0],g=m[1],f=Object(s.useState)({street:"",number:"",city:o,province:"ontario",zipCode:"",country:"Canada"}),h=Object(oe.a)(f,2),O=h[0],x=h[1],v=Object(s.useState)({driverEmail:c,helperEmail:c,date:"",startTime:"",motive:""}),y=Object(oe.a)(v,2),N=y[0],S=y[1],k=Object(s.useState)(!1),_=Object(oe.a)(k,2),C=_[0],E=_[1],w=Object(s.useState)(!1),D=Object(oe.a)(w,2),z=D[0],L=D[1],A=Object(s.useState)({error:null,success:null}),B=Object(oe.a)(A,2),U=B[0],P=B[1],I=function(e){S(Object(l.a)(Object(l.a)({},N),{},Object(fe.a)({},e.target.id,e.target.value)))},F=function(e){x(Object(l.a)(Object(l.a)({},O),{},Object(fe.a)({},e.target.name,e.target.value)))},T=function(e){g(Object(l.a)(Object(l.a)({},b),{},Object(fe.a)({},e.target.name,e.target.value)))};if(Object(s.useEffect)((function(){console.log("frist"),u?L(!0):E(!0)})),Object(s.useEffect)((function(){console.log("second"),C&&(U.error?(document.getElementById("msg").classList.add("colorDanger"),document.getElementById("msg").classList.remove("colorSuccess"),document.getElementById("msg").classList.remove("displayNone")):U.success?(document.getElementById("msg").classList.add("colorSuccess"),document.getElementById("msg").classList.remove("colorDanger"),document.getElementById("msg").classList.remove("displayNone")):(document.getElementById("msg").classList.add("displayNone"),document.getElementById("msg").classList.add("padding0_5"),document.getElementById("msg").classList.remove("colorDanger"),document.getElementById("msg").classList.remove("colorSuccess")))}),[U]),z)return Object(n.jsx)(d.a,{to:"/"});if(!e.isAuthenticated)return Object(n.jsx)(d.a,{to:"/login"});var W=Object(n.jsxs)("div",{className:"center flexDisplayColumn bookingBlock",children:[Object(n.jsx)("h3",{className:"fontSize1_5 padding2",children:"Pick up address: "}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"pickup.number",className:"fontWeight500 padding1",children:"Building"}),Object(n.jsx)("input",{type:"number",name:"number",min:1,id:"pickup.number",className:"padding1",required:!0,value:b.number,onChange:T})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"pickup.street",className:"fontWeight500 padding1",children:"Street"}),Object(n.jsx)("input",{type:"text",name:"street",min:1,id:"pickup.street",className:"padding1",value:b.street,onChange:T,required:!0})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"pickUp.city",className:"fontWeight500 padding1",children:"City"}),Object(n.jsx)("select",{name:"city",id:"pickUp.city",className:"padding1",value:b.city,onChange:T,children:he.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",disabled:e.disabled,name:"city",children:e.label},e.value)}))})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"pickup.province",className:"fontWeight500 padding1",children:"Province"}),Object(n.jsx)("select",{name:"province",id:"pickup.province",className:"padding1",value:b.province,onChange:T,children:Ze.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",disabled:e.disabled,children:e.label},e.value)}))})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"pickup.zipCode",className:"fontWeight500 padding1",children:"Postal Code"}),Object(n.jsx)("input",{type:"text",name:"zipCode",min:1,id:"pickup.zipCode",className:"padding1",required:!0,maxLength:6,value:b.zipCode,onChange:T})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"pickup.country",className:"fontWeight500 padding1",children:"Country"}),Object(n.jsx)("input",(t={type:"text",name:"country",id:"pickup.country",className:"padding1",value:"Canada",disabled:!0},Object(fe.a)(t,"value",b.country),Object(fe.a)(t,"onChange",T),t))]})]}),R=Object(n.jsxs)("div",{className:"center flexDisplayColumn bookingBlock",children:[Object(n.jsx)("h3",{className:"fontSize1_5 padding2",children:"Drop point address: "}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drop.number",className:"fontWeight500 padding1",children:"Building"}),Object(n.jsx)("input",{type:"number",name:"number",min:1,id:"drop.number",className:"padding1",required:!0,value:O.number,onChange:F})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drop.street",className:"fontWeight500 padding1",children:"Street"}),Object(n.jsx)("input",{type:"text",name:"street",min:1,id:"drop.street",className:"padding1",required:!0,value:O.street,onChange:F})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drop.city",className:"fontWeight500 padding1",children:"City"}),Object(n.jsx)("select",{name:"city",id:"drop.city",className:"padding1",value:O.city,onChange:F,children:he.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",disabled:e.disabled,name:"city",children:e.label},e.value)}))})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drop.province",className:"fontWeight500 padding1",children:"Province"}),Object(n.jsx)("select",{name:"province",id:"drop.province",className:"padding1",value:O.province,onChange:F,children:Ze.map((function(e){return Object(n.jsx)("option",{value:e.value,className:"fontSize1_5",disabled:e.disabled,children:e.label},e.value)}))})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drop.zipCode",className:"fontWeight500 padding1",children:"Postal Code"}),Object(n.jsx)("input",{type:"text",name:"zipCode",min:1,id:"drop.zipCode",className:"padding1",required:!0,maxLength:6,value:O.zipCode,onChange:F})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"drop.country",className:"fontWeight500 padding1",children:"Country"}),Object(n.jsx)("input",(a={type:"text",name:"country",id:"drop.country",className:"padding1",value:"Canada",disabled:!0},Object(fe.a)(a,"value",O.country),Object(fe.a)(a,"onChange",F),a))]})]}),M=Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"motive",className:"fontWeight500 padding1",children:"Motive"}),Object(n.jsx)("input",{type:"text",name:"motive",id:"motive",className:"padding1",placeholder:"Moving, Pick up a thing...",value:N.motive,onChange:I})]})}),G=Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"date",className:"fontWeight500 padding1",children:"Date"}),Object(n.jsx)("input",{type:"date",name:"date",id:"date",className:"padding1",value:N.date,onChange:I})]}),Object(n.jsxs)("div",{className:"fieldSet flexDisplayColumn fontSize2_5 padding2",children:[Object(n.jsx)("label",{htmlFor:"startTime",className:"fontWeight500 padding1",children:"Time"}),Object(n.jsx)("input",{type:"time",name:"time",id:"startTime",className:"padding1",value:N.startTime,onChange:I})]})]});return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:" availabilitySection center alignItemsCenter padding2 bookingBlock",style:{margin:"2rem auto"},children:[Object(n.jsx)("h3",{className:"fontSize2_5 padding2 fontWeight400",children:"Provide booking details"}),Object(n.jsxs)("div",{className:"flexDisplay bookingLocations",children:[W,R]}),G,M,Object(n.jsx)("h5",{className:"fontSize1_5 fontWeight400 displayNone margin1_0",id:"msg",children:U.error?U.error:U.success}),Object(n.jsx)("div",{className:"padding2",children:Object(n.jsx)("button",{className:"btn btn-theme fontSize1_5 ",onClick:function(){var e=Object(l.a)(Object(l.a)({},N),{},{pickUp:b,drop:O});"driver"==p?i(e).then((function(e){200==e.status?P(Object(l.a)(Object(l.a)({},U),{},{error:null,success:"Request sent. Will inform you within 5 minutes on the status."})):P(Object(l.a)(Object(l.a)({},U),{},{success:null,error:"All fields are necessary!"}))})):(console.log(e),r(e).then((function(e){200==e.status?P(Object(l.a)(Object(l.a)({},U),{},{error:null,success:"Request sent. Will inform you within 5 minutes on the status."})):P(Object(l.a)(Object(l.a)({},U),{},{success:null,error:"All fields are necessary!"}))})))},children:"Send proposal"})})]})})})),Je=function(){return Object(s.useEffect)((function(){Be.dispatch(ce())})),Object(n.jsx)(p.a,{store:Be,children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(le,{}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",component:ge}),Object(n.jsx)(d.b,{exact:!0,path:"/signUp",component:xe}),Object(n.jsx)(d.b,{exact:!0,path:"/login",component:ve}),Object(n.jsx)(d.b,{exact:!0,path:"/viewProfile",render:function(e){return Object(n.jsx)(Fe,Object(l.a)({},e))}}),Object(n.jsx)(d.b,{exact:!0,path:"/booker/profile",component:Ie}),Object(n.jsx)(d.b,{exact:!0,path:"/bookings",component:Me}),Object(n.jsx)(d.b,{exact:!0,path:"/driver/profile",component:Ge}),Object(n.jsx)(d.b,{exact:!0,path:"/helper/profile",component:He}),Object(n.jsx)(d.b,{exact:!0,path:"/forgotPassword",component:qe}),Object(n.jsx)(d.b,{exact:!0,path:"/changePassword/:id",component:Ye}),Object(n.jsx)(d.b,{exact:!0,path:"/availability",component:Ke}),Object(n.jsx)(d.b,{exact:!0,path:"/book",component:Xe}),Object(n.jsx)(d.b,{exact:!0,path:"/bookingResponse/:id/:accept/:typeOfUser",component:Qe})]})]})})})};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(Je,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.ac841483.chunk.js.map