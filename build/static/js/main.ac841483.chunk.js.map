{"version":3,"sources":["actions/types.js","lib/setAuthToken.js","actions/auth.js","components/layout/NavBar.js","lib/vehicleTypes.js","components/layout/SearchBar.js","actions/drivers.js","actions/helpers.js","images/star.png","components/layout/Card.js","components/drivers/AvailableDrivers.js","components/helpers/AvailableHelpers.js","components/layout/Landing.js","lib/servicableAreas.js","components/layout/Loader.js","components/auth/SignUp.js","components/auth/Login.js","reducers/alert.js","reducers/drivers.js","reducers/helpers.js","reducers/auth.js","reducers/bookers.js","reducers/booking.js","reducers/index.js","store.js","components/common/DeleteModal.js","components/common/UpdatePassword.js","components/bookers/Profile.js","components/bookers/ShowProfile.js","actions/booking.js","actions/bookers.js","components/common/BookingsCard.js","components/common/Bookings.js","components/drivers/Profile.js","components/helpers/Profile.js","components/common/ForgotPasswordModal.js","components/common/ChangePassword.js","lib/week.js","components/common/Availability.js","components/common/BookingResponse.js","lib/servicableProvinces.js","components/booking/BookingProposal.js","App.js","index.js"],"names":["SET_MESSAGE","REMOVE_MESSAGE","GET_DRIVERS_SUCCESS","GET_DRIVERS_FAIL","GET_HELPERS_SUCCESS","GET_HELPERS_FAIL","SIGNUP_SUCCESS","SIGNUP_FAIL","CLEAR_ERRORS","LOGIN_SUCCESS","LOGIN_FAIL","LOAD_USER","AUTH_ERROR","LOGOUT_USER","UPDATE_BOOKER_INFO","UPDATE_BOOKER_INFO_FAIL","UPDATE_PASSWORD","UPDATE_PASSWORD_FAIL","DELETE_ACCOUNT","DELETE_ACCOUNT_FAIL","CLEAR_DELETE_ERRORS","GET_BOOKINGS","UPDATE_DRIVER_INFO","UPDATE_DRIVER_INFO_FAIL","UPDATE_HELPER_INFO","UPDATE_HELPER_INFO_FAIL","FORGOT_PASSWORD","FORGOT_PASSWORD_FAIL","CHANGE_PASSWORD","CHANGE_PASSWORD_FAIL","PROVIDE_AVAILABILITY","PROVIDE_AVAILABILITY_FAIL","GET_AVAILABILTIY","GET_AVAILABILTIY_FAIL","SEND_BOOKING_PROPOSAL","SEND_BOOKING_PROPOSAL_FAIL","BOOKING_RESPONSE","BOOKING_RESPONSE_FAIL","VIEW_UPCOMING_BOOKINGS","CANCEL_BOOKING","CANCEL_BOOKING_FAIL","POST_RATING","POST_RATING_FAIL","setAuthToken","token","axios","defaults","headers","common","loadUser","dispatch","a","localStorage","jwt","typeOfUser","get","res","type","payload","user","data","Promise","resolve","withRouter","connect","state","isAuthenticated","auth","logout","config","header","userName","useMemo","name","notLoggedIn","className","to","style","textDecoration","availability","profileLinkTo","getItem","loggedIn","id","onClick","vehicleTypes","label","value","disabled","getDrivers","location","date","carType","params","getHelpers","console","log","changeTypeOfUser","useState","setLocation","setCarType","setDate","setTypeOfUser","useEffect","newLocation","trim","updateFilters","e","target","document","getElementById","htmlFor","onChange","map","vehicleType","defaultChecked","display","margin","Card","dataFromParent","viewProfile","setViewProfile","totalTrips","rating","availabilityDisplay","item","index","Date","getDate","getDay","setHours","padding","textAlign","backgroundColor","borderRadius","toLocaleDateString","pathname","flexGrow","charAt","toUpperCase","slice","src","star","width","city","email","fromURL","drivers","driversNested","availableDrivers","length","driver","undefined","_id","helpers","helpersNested","availableHelpers","helper","cities","default","Loader","msg","errors","signUp","userData","post","response","loading","setLoading","password","confirmPassword","rate","drivingExperience","licenseIssuedDate","now","formData","setFormData","messages","setMessages","messagesHack","error","param","messageBox","nextSibling","classList","add","remove","setTimeout","updateData","drivingExp","min","required","driverHelperCommon","placeholder","commonFields","preventDefault","messageBoxes","querySelectorAll","i","hideErrors","then","loginErrors","login","notFound","form","hidden","listStyle","initialState","updateErrors","updatePasswordErrors","deleteErrors","forgotPasswordErrors","changePasswordErrors","previousBookings","dateUpdated","responseErrors","bookings","combineReducers","alert","action","filter","setItem","removeItem","bookers","booking","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","deleteAccount","delete","promise","cancelModal","loader","setLoader","redirect","setRedirect","triggerLoader","deletForm","status","updatePassword","currentPassword","otherMessage","otherError","updateBookerInfo","filteredData","phone","Object","keys","constructor","editingInfo","setEditingInfo","deleteModal","setDeleteModal","img","cancelEditing","nonEditables","getElementsByClassName","editables","updateFormData","numberOfServices","ShowProfile","props","alignSelf","getUpComingBookings","getPreviousBookings","cancelBooking","bookerEmail","postRating","rates","setRating","giveRating","String","driverEmail","driverName","helperName","split","pickUp","number","street","province","zipCode","drop","motive","rated","futureBookings","showPreviousBookings","setShowPreviousBookings","mount","setMount","changeBookingsState","setActiveLink","buttons","prevBookings","upcomingBookings","updateDriverInfo","updateHelperInfo","forgotPassword","successMsg","result","changePassword","match","week","provideAvailability","put","getAvailability","setData","errorMsg","updatedAvailability","attributes","day","Number","options","checkSunday","dates","push","prevUpdatedDate","providedAvailability","getUpdatedAvailability","option","bookingResponse","accept","toLowerCase","success","provinces","bookDriver","bookHelper","country","setPickUpData","setDropData","helperEmail","startTime","updateDropData","updatePickUpData","pickUpInputs","maxLength","dropInputs","dateAndTime","dataToBeSubmitted","App","exact","path","component","Landing","SignUp","Login","render","BookerProfile","Bookings","DriverProfile","HelperProfile","ForgotPasswordModal","ChangePassword","Availability","BookingProposal","BookingResponse","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.ac841483.chunk.js","sourcesContent":["export const SET_MESSAGE = 'SET_MESSAGE';\r\nexport const REMOVE_MESSAGE = 'REMOVE_MESSAGE';\r\nexport const GET_DRIVERS_SUCCESS = 'GET_DRIVERS';\r\nexport const GET_DRIVERS_FAIL = 'GET_DRIVERS_FAIL';\r\nexport const GET_HELPERS_SUCCESS = 'GET_HELPERS';\r\nexport const GET_HELPERS_FAIL = 'GET_HELPERS_FAIL';\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\r\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOAD_USER = 'LOAD_USER';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOGOUT_USER = 'LOGOUT_USER';\r\nexport const UPDATE_BOOKER_INFO = 'UPDATE_BOOKER_INFO';\r\nexport const UPDATE_BOOKER_INFO_FAIL = 'UPDATE_BOOKER_INFO_FAIL';\r\nexport const UPDATE_PASSWORD = 'UPDATE_PASSWORD';\r\nexport const UPDATE_PASSWORD_FAIL = 'UPDATE_PASSWORD_FAIL';\r\nexport const DELETE_ACCOUNT = 'DELETE_ACCOUNT';\r\nexport const DELETE_ACCOUNT_FAIL = 'DELETE_ACCOUNT_FAIL';\r\nexport const CLEAR_DELETE_ERRORS = 'CLEAR_DELETE_ERRORS';\r\nexport const GET_BOOKINGS = 'GET_BOOKINGS';\r\nexport const UPDATE_DRIVER_INFO = 'UPDATE_DRIVER_INFO';\r\nexport const UPDATE_DRIVER_INFO_FAIL = 'UPDATE_DRIVER_INFO_FAIL';\r\nexport const UPDATE_HELPER_INFO = 'UPDATE_HELPER_INFO';\r\nexport const UPDATE_HELPER_INFO_FAIL = 'UPDATE_HELPER_INFO_FAIL';\r\nexport const FORGOT_PASSWORD = 'FORGOT_PASSWORD';\r\nexport const FORGOT_PASSWORD_FAIL = 'FORGOT_PASSWORD_FAIL';\r\nexport const CHANGE_PASSWORD = 'CHANGE_PASSWORD';\r\nexport const CHANGE_PASSWORD_FAIL = 'CHANGE_PASSWORD_FAIL';\r\nexport const PROVIDE_AVAILABILITY = 'PROVIDE_AVAILABILITY';\r\nexport const PROVIDE_AVAILABILITY_FAIL = 'PROVIDE_AVAILABILITY_FAIL';\r\nexport const GET_AVAILABILTIY = 'GET_AVAILABILTIY';\r\nexport const GET_AVAILABILTIY_FAIL = 'GET_AVAILABILTIY_FAIL';\r\nexport const SEND_BOOKING_PROPOSAL = 'SEND_BOOKING_PROPOSAL';\r\nexport const SEND_BOOKING_PROPOSAL_FAIL = 'SEND_BOOKING_PROPOSAL_FAIL';\r\nexport const BOOKING_RESPONSE = 'BOOKING_RESPONSE';\r\nexport const BOOKING_RESPONSE_FAIL = 'BOOKING_RESPONSE_FAIL';\r\nexport const VIEW_UPCOMING_BOOKINGS = 'VIEW_UPCOMING_BOOKINGS';\r\nexport const CANCEL_BOOKING = 'CANCEL_BOOKING';\r\nexport const CANCEL_BOOKING_FAIL = 'CANCEL_BOOKING_FAIL';\r\nexport const POST_RATING = 'POST_RATING';\r\nexport const POST_RATING_FAIL = 'POST_RATING_FAIL';\r\n","import axios from 'axios';\r\n\r\nconst setAuthToken = (token) => {\r\n\tif (token) axios.defaults.headers.common['x-auth-token'] = token;\r\n\telse delete axios.defaults.headers.common['x-auth-token'];\r\n};\r\n\r\nexport default setAuthToken;\r\n","import {\r\n\tSIGNUP_FAIL,\r\n\tSIGNUP_SUCCESS,\r\n\tCLEAR_ERRORS,\r\n\tAUTH_ERROR,\r\n\tLOAD_USER,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT_USER,\r\n\tUPDATE_BOOKER_INFO,\r\n\tUPDATE_BOOKER_INFO_FAIL,\r\n\tUPDATE_PASSWORD_FAIL,\r\n\tUPDATE_PASSWORD,\r\n\tUPDATE_DRIVER_INFO,\r\n\tUPDATE_DRIVER_INFO_FAIL,\r\n\tDELETE_ACCOUNT_FAIL,\r\n\tUPDATE_HELPER_INFO,\r\n\tUPDATE_HELPER_INFO_FAIL,\r\n\tFORGOT_PASSWORD,\r\n\tFORGOT_PASSWORD_FAIL,\r\n\tCHANGE_PASSWORD_FAIL,\r\n\tCHANGE_PASSWORD,\r\n} from './types';\r\nimport setAuthToken from '../lib/setAuthToken';\r\nimport axios from 'axios';\r\n\r\n/*Action - loadUser- To laod the a user using the token received stored\r\n */\r\nexport const loadUser = () => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\ttry {\r\n\t\tlet res;\r\n\t\tif (localStorage.typeOfUser === 'booker')\r\n\t\t\tres = await axios.get('/api/auth/1');\r\n\t\telse if (localStorage.typeOfUser === 'driver')\r\n\t\t\tres = await axios.get('/api/auth/2');\r\n\t\telse if (localStorage.typeOfUser === 'helper')\r\n\t\t\tres = await axios.get('/api/auth/3');\r\n\t\tdispatch({\r\n\t\t\ttype: LOAD_USER,\r\n\t\t\tpayload: { token: localStorage.jwt, user: res.data },\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: AUTH_ERROR,\r\n\t\t});\r\n\t} finally {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(true);\r\n\t\t});\r\n\t}\r\n};\r\n/*Action - signUp - To signup a user using the details provided from the form\r\n */\r\nexport const signUp = (userData) => async (dispatch) => {\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tif (userData.typeOfUser === 'booker')\r\n\t\t\tres = await axios.post('/api/bookers', userData, config);\r\n\t\telse if (userData.typeOfUser === 'driver')\r\n\t\t\tres = await axios.post('/api/drivers', userData, config);\r\n\t\telse if (userData.typeOfUser === 'helper')\r\n\t\t\tres = await axios.post('/api/helpers', userData, config);\r\n\t\tdispatch({\r\n\t\t\ttype: SIGNUP_SUCCESS,\r\n\t\t\tpayload: {\r\n\t\t\t\tdata: res.data,\r\n\t\t\t\ttypeOfUser: userData.typeOfUser,\r\n\t\t\t},\r\n\t\t});\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(true);\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: SIGNUP_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t}\r\n};\r\n/*Action - login - To login a user using the details provided from the form\r\n */\r\nexport const login = (userData) => async (dispatch) => {\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tif (userData.typeOfUser === 'booker')\r\n\t\t\tres = await axios.post('/api/bookers/login', userData, config);\r\n\t\telse if (userData.typeOfUser === 'driver')\r\n\t\t\tres = await axios.post('/api/drivers/login', userData, config);\r\n\t\telse if (userData.typeOfUser === 'helper')\r\n\t\t\tres = await axios.post('/api/helpers/login', userData, config);\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: {\r\n\t\t\t\tdata: res.data,\r\n\t\t\t\ttypeOfUser: userData.typeOfUser,\r\n\t\t\t},\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t} finally {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(true);\r\n\t\t});\r\n\t}\r\n};\r\n\r\n/*Action - updateBookerInfo - To udpate a user from the system*/\r\nexport const updateBookerInfo = (data) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tconst filteredData = { ...data };\r\n\t\tif (!data.email || data.email.trim().length == 0) {\r\n\t\t\tdelete filteredData['email'];\r\n\t\t}\r\n\t\tif (!data.phone || data.phone.trim().length == 0) {\r\n\t\t\tdelete filteredData['phone'];\r\n\t\t}\r\n\t\tif (\r\n\t\t\t!(\r\n\t\t\t\tObject.keys(filteredData).length === 0 &&\r\n\t\t\t\tfilteredData.constructor === Object\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tres = await axios.post('/api/bookers/update', filteredData, config);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_BOOKER_INFO,\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_BOOKER_INFO_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t} finally {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(true);\r\n\t\t});\r\n\t}\r\n};\r\n/*Action - updateDriverInfo - To update a driver in the system*/\r\nexport const updateDriverInfo = (data) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\r\n\ttry {\r\n\t\tlet res;\r\n\t\tconst filteredData = { ...data };\r\n\t\tif (!data.email || data.email.trim().length == 0) {\r\n\t\t\tdelete filteredData['email'];\r\n\t\t}\r\n\t\tif (!data.carType || data.carType.trim().length == 0) {\r\n\t\t\tdelete filteredData['carType'];\r\n\t\t}\r\n\t\tif (!data.location || data.location.trim().length == 0) {\r\n\t\t\tdelete filteredData['location'];\r\n\t\t}\r\n\t\tif (\r\n\t\t\t!data.drivingExperience ||\r\n\t\t\tString(data.drivingExperience).trim().length == 0\r\n\t\t) {\r\n\t\t\tdelete filteredData['drivingExperience'];\r\n\t\t}\r\n\t\tif (\r\n\t\t\t!(\r\n\t\t\t\tObject.keys(filteredData).length === 0 &&\r\n\t\t\t\tfilteredData.constructor === Object\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tres = await axios.post('/api/drivers/update', filteredData, config);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_DRIVER_INFO,\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_DRIVER_INFO_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t} finally {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(true);\r\n\t\t});\r\n\t}\r\n};\r\n\r\n/*Action - updateHelperInfo - To update a helper in the system*/\r\nexport const updateHelperInfo = (data) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\r\n\ttry {\r\n\t\tlet res;\r\n\t\tconst filteredData = { ...data };\r\n\t\tif (!data.email || data.email.trim().length == 0) {\r\n\t\t\tdelete filteredData['email'];\r\n\t\t}\r\n\t\tif (!data.location || data.location.trim().length == 0) {\r\n\t\t\tdelete filteredData['location'];\r\n\t\t}\r\n\t\tif (\r\n\t\t\t!(\r\n\t\t\t\tObject.keys(filteredData).length === 0 &&\r\n\t\t\t\tfilteredData.constructor === Object\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tres = await axios.post('/api/helpers/update', filteredData, config);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_HELPER_INFO,\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_HELPER_INFO_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t} finally {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(true);\r\n\t\t});\r\n\t}\r\n};\r\n/*Action - updatePassword - To update a password for a a user logged in*/\r\nexport const updatePassword = (userData) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\tlet res;\r\n\ttry {\r\n\t\tif (localStorage.typeOfUser === 'booker')\r\n\t\t\tres = await axios.post('/api/bookers/updatePassword', userData, config);\r\n\t\telse if (localStorage.typeOfUser === 'driver')\r\n\t\t\tres = await axios.post('/api/drivers/updatePassword', userData, config);\r\n\t\telse if (localStorage.typeOfUser === 'helper')\r\n\t\t\tres = await axios.post('/api/helpers/updatePassword', userData, config);\r\n\t\tdispatch({ type: UPDATE_PASSWORD });\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_PASSWORD_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n/*Action - logout - To logout a user from the system*/\r\nexport const logout = () => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tres = await axios.get('/api/bookers/logout', null, config);\r\n\t\tif (res.data.logout) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGOUT_USER,\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (err) {\r\n\t} finally {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tresolve(true);\r\n\t\t});\r\n\t}\r\n};\r\n/*Action - deleteAccount - To delete a user from the system*/\r\nexport const deleteAccount = (data) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tconst header = {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t'x-auth-token': localStorage.jwt,\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\tif (localStorage.typeOfUser === 'booker')\r\n\t\t\t\tres = await axios.delete('/api/bookers/', { header, data });\r\n\t\t\telse if (localStorage.typeOfUser === 'driver')\r\n\t\t\t\tres = await axios.delete('/api/drivers/', { header, data });\r\n\t\t\telse if (localStorage.typeOfUser === 'helper')\r\n\t\t\t\tres = await axios.delete('/api/helpers/', { header, data });\r\n\t\t\tvar promise = new Promise((resolve) => {\r\n\t\t\t\tresolve(res);\r\n\t\t\t});\r\n\t\t\treturn promise;\r\n\t\t} catch (err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_ACCOUNT_FAIL,\r\n\t\t\t\tpayload: err.response.data.errors,\r\n\t\t\t});\r\n\r\n\t\t\tvar promise = new Promise((resolve) => {\r\n\t\t\t\tresolve(err.response);\r\n\t\t\t});\r\n\t\t\treturn promise;\r\n\t\t}\r\n\t}\r\n};\r\n/*Action - forgotPassword - To send a mail to a user to update the password*/\r\nexport const forgotPassword = (data) => async (dispatch) => {\r\n\ttry {\r\n\t\tlet res;\r\n\t\tif (data.typeOfUser === 'booker')\r\n\t\t\tres = await axios.post('/api/bookers/forgotPassword', data);\r\n\t\telse if (data.typeOfUser === 'driver')\r\n\t\t\tres = await axios.post('/api/drivers/forgotPassword', data);\r\n\t\telse if (data.typeOfUser === 'helper')\r\n\t\t\tres = await axios.post('/api/helpers/forgotPassword', data);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: FORGOT_PASSWORD,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: FORGOT_PASSWORD_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n/*Action - changePassword - To change the password*/\r\nexport const changePassword = (data, id) => async (dispatch) => {\r\n\ttry {\r\n\t\tlet res;\r\n\t\tres = await axios.post(`/api/bookers/changePassword/${id}`, data);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: CHANGE_PASSWORD,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: CHANGE_PASSWORD_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\nexport const clearErrors = () => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CLEAR_ERRORS,\r\n\t});\r\n};\r\n","import React, { Fragment, useState, useEffect, useMemo } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nimport { logout } from './../../actions/auth';\r\nimport PropTypes from 'prop-types';\r\n//React router\r\nimport { Redirect } from 'react-router-dom';\r\nexport const NavBar = ({ isAuthenticated, logout, user }) => {\r\n\tconst userName = useMemo(() => {\r\n\t\tif (isAuthenticated && user) {\r\n\t\t\treturn user.name;\r\n\t\t}\r\n\t}, [isAuthenticated, user]);\r\n\tconst logoutAndRedirect = () => {\r\n\t\tlogout();\r\n\t};\r\n\t/*Fields to show in the navbar when the user is not logged in */\r\n\tconst notLoggedIn = (\r\n\t\t<ul className='flexDisplay alignItemsCenter fontSize2_5'>\r\n\t\t\t<Link\r\n\t\t\t\tto='/signUp'\r\n\t\t\t\tclassName='fontSize2_5 navBarLinks '\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t>\r\n\t\t\t\t<li className='colorWhite fillColor'>Sign Up</li>\r\n\t\t\t</Link>\r\n\t\t\t<Link\r\n\t\t\t\tto='/login'\r\n\t\t\t\tclassName='fontSize2_5 navBarLinks'\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t>\r\n\t\t\t\t<li className='btn btn-white colorBlack'>Login</li>\r\n\t\t\t</Link>\r\n\t\t</ul>\r\n\t);\r\n\tconst availability = (\r\n\t\t<Link\r\n\t\t\tto='/availability'\r\n\t\t\tclassName='fontSize2_5 navBarLinks '\r\n\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t>\r\n\t\t\t<li className='colorWhite fillColor'>Availability</li>\r\n\t\t</Link>\r\n\t);\r\n\r\n\tconst profileLinkTo = `/${localStorage.getItem('typeOfUser')}/profile`;\r\n\t/*Fields to show in the navbar when the user is logged in */\r\n\tconst loggedIn = (\r\n\t\t<ul className='flexDisplay alignItemsCenter fontSize2_5'>\r\n\t\t\t<div\r\n\t\t\t\tid='userName'\r\n\t\t\t\tclassName='fontSize2_5 navBarLinks'\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t>\r\n\t\t\t\t<li className='colorWhite'>\r\n\t\t\t\t\tWelcome <em className='fontSize1_5'>{userName}</em>\r\n\t\t\t\t</li>\r\n\t\t\t</div>\r\n\t\t\t<Link\r\n\t\t\t\tto={profileLinkTo}\r\n\t\t\t\tclassName='fontSize2_5 colorWhite navBarLinks fillColor'\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t>\r\n\t\t\t\t<li className=''>Profile</li>\r\n\t\t\t</Link>\r\n\t\t\t{localStorage.typeOfUser == 'driver' ||\r\n\t\t\tlocalStorage.typeOfUser == 'helper'\r\n\t\t\t\t? availability\r\n\t\t\t\t: null}\r\n\t\t\t<Link\r\n\t\t\t\tto='/bookings'\r\n\t\t\t\tclassName='fontSize2_5 colorWhite navBarLinks fillColor'\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t>\r\n\t\t\t\t<li className=''>Bookings</li>\r\n\t\t\t</Link>\r\n\t\t\t<div\r\n\t\t\t\tclassName='fontSize2_5 pointer navBarLinks'\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t>\r\n\t\t\t\t<li className='btn btn-white colorBlack' onClick={logoutAndRedirect}>\r\n\t\t\t\t\tLogout\r\n\t\t\t\t</li>\r\n\t\t\t</div>\r\n\t\t</ul>\r\n\t);\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<section className='padding2 colorLightBlue flexDisplay justifySpaceBetween alignItemsCenter'>\r\n\t\t\t\t<Link to='/' className='fontSize2_5' style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t<h1 className='colorWhite navBarLinks'>S_MOVERS</h1>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div>{isAuthenticated ? loggedIn : notLoggedIn}</div>\r\n\t\t\t</section>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n/*Proptypes */\r\nNavBar.propTypes = {\r\n\tlogout: PropTypes.func.isRequired,\r\n};\r\n/*map state which we want to use with the props */\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n\tuser: state.auth.user,\r\n});\r\nexport default withRouter(connect(mapStateToProps, { logout })(NavBar));\r\n","export const vehicleTypes = [\r\n\t{\r\n\t\tlabel: '-- select an option --',\r\n\t\tvalue: 'default',\r\n\t\tdisabled: true,\r\n\t},\r\n\t{\r\n\t\tlabel: 'SUV',\r\n\t\tvalue: 'suv',\r\n\t\tdisabled: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'Hatchback',\r\n\t\tvalue: 'hatchback',\r\n\t\tdisabled: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'Pickup Truck',\r\n\t\tvalue: 'pickup_truck',\r\n\t\tdisabled: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'Sedan',\r\n\t\tvalue: 'sedan',\r\n\t\tdisabled: false,\r\n\t},\r\n];\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { vehicleTypes } from './../../lib/vehicleTypes';\r\n//Redux\r\nimport { getDrivers } from './../../actions/drivers';\r\nimport { getHelpers } from './../../actions/helpers';\r\n\r\nexport const SearchBar = ({ getDrivers, getHelpers, changeTypeOfUser }) => {\r\n\tconst [location, setLocation] = useState();\r\n\tconst [carType, setCarType] = useState();\r\n\tconst [date, setDate] = useState();\r\n\tconst [typeOfUser, setTypeOfUser] = useState('driver');\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newLocation;\r\n\t\tif (location) newLocation = location.trim();\r\n\t\telse newLocation = null;\r\n\t\tif (typeOfUser === 'driver')\r\n\t\t\tgetDrivers({ location: newLocation, carType, date });\r\n\t\telse if (typeOfUser === 'helper') {\r\n\t\t\tgetHelpers({ location: newLocation, date });\r\n\t\t}\r\n\t}, [location, carType, date, getDrivers, typeOfUser]);\r\n\r\n\tlet updateFilters = (e) => {\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase 'location':\r\n\t\t\t\tsetLocation(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'carType':\r\n\t\t\t\tsetCarType(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'date':\r\n\t\t\t\tsetDate(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'typeOfUser':\r\n\t\t\t\t//disable the car type for helper\r\n\t\t\t\tif (e.target.value === 'helper') {\r\n\t\t\t\t\tdocument.getElementById('carType').disabled = true;\r\n\t\t\t\t} //enable the car type for helper\r\n\t\t\t\telse if (e.target.value === 'driver') {\r\n\t\t\t\t\tdocument.getElementById('carType').disabled = false;\r\n\t\t\t\t}\r\n\t\t\t\tchangeTypeOfUser(e.target.value);\r\n\t\t\t\tsetTypeOfUser(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<section className='flexDisplay justifyCenter flexWrap alignItemsStart searchBar'>\r\n\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t<label htmlFor='location' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tLocation\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tname='location'\r\n\t\t\t\t\t\tid='location'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tonChange={updateFilters}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t<label htmlFor='carType' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tCar Type\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname='carType'\r\n\t\t\t\t\t\tid='carType'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tonChange={updateFilters}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{vehicleTypes.map((vehicleType) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={vehicleType.value}\r\n\t\t\t\t\t\t\t\tvalue={vehicleType.value}\r\n\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{vehicleType.label}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t<label htmlFor='date' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tDate\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\tname='date'\r\n\t\t\t\t\t\tid='date'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tonChange={updateFilters}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flexDisplayColumn fieldSet fontSize2_5 padding2'>\r\n\t\t\t\t\t<label htmlFor='typeOfUser' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tType of service\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div className='fieldSet fontSize2_5 padding1'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\t\t\tid='typeOfUser'\r\n\t\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\t\tvalue='driver'\r\n\t\t\t\t\t\t\tdefaultChecked\r\n\t\t\t\t\t\t\tonChange={updateFilters}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label htmlFor='driver' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tDriver\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\t\t\tid='typeOfUser'\r\n\t\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\t\tvalue='helper'\r\n\t\t\t\t\t\t\tonChange={updateFilters}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<label htmlFor='helper' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tHelper\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t<h4\r\n\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\tstyle={{ display: 'inline-block', margin: '2rem auto' }}\r\n\t\t\t>\r\n\t\t\t\tAvailable {typeOfUser}s\r\n\t\t\t</h4>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n/*Proptypes is used to do the type checking as the application will get bigger it will be \r\na good option to check the type of the props that we are gonna use in the components */\r\nSearchBar.propTypes = {\r\n\tgetDrivers: PropTypes.func.isRequired,\r\n\tgetHelpers: PropTypes.func.isRequired,\r\n};\r\n/*connect to connect this component to redux and pass null as first parameter as we do not want any state updates \r\nsecond parameter is use to dispatch an action */\r\nexport default connect(null, { getDrivers, getHelpers })(SearchBar);\r\n","import axios from 'axios';\r\nimport {\r\n\tGET_DRIVERS_FAIL,\r\n\tGET_DRIVERS_SUCCESS,\r\n\tPROVIDE_AVAILABILITY,\r\n\tPROVIDE_AVAILABILITY_FAIL,\r\n} from './types';\r\n\r\nimport setAuthToken from '../lib/setAuthToken';\r\n/*Action - GetDrivers - To fetch the drivers from database based on the data passed to it\r\n\tLocation, Date, Car Type\r\n */\r\nexport const getDrivers = ({ location, date, carType }) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await axios.get('api/bookers/searchDrivers', {\r\n\t\t\tparams: {\r\n\t\t\t\tlocation,\r\n\t\t\t\tdate,\r\n\t\t\t\tcarType,\r\n\t\t\t},\r\n\t\t});\r\n\t\tdispatch({\r\n\t\t\ttype: GET_DRIVERS_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: GET_DRIVERS_FAIL,\r\n\t\t});\r\n\t}\r\n};\r\n","import axios from 'axios';\r\nimport { GET_HELPERS_FAIL, GET_HELPERS_SUCCESS } from './types';\r\n/*Action - getHelpers - To fetch the helpers from database based on the data passed to it\r\n\tLocation, Date\r\n */\r\nexport const getHelpers = ({ location, date }) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await axios.get('api/bookers/searchHelpers', {\r\n\t\t\tparams: {\r\n\t\t\t\tlocation,\r\n\t\t\t\tdate,\r\n\t\t\t},\r\n\t\t});\r\n\t\tconsole.log(123);\r\n\t\tdispatch({\r\n\t\t\ttype: GET_HELPERS_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: GET_HELPERS_FAIL,\r\n\t\t});\r\n\t}\r\n};\r\n","export default \"data:image/png;base64,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\"","/*Driver Card- Component used to display the available drivers available in the system*/\r\nimport React, { Fragment, useState } from 'react';\r\nimport star from './../../images/star.png';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nexport const Card = ({ dataFromParent, typeOfUser }) => {\r\n\t/*State to redirect the page to view driver profile */\r\n\tconst [viewProfile, setViewProfile] = useState(false);\r\n\t/*Check if data is present in the data which is being sent from thwe parent*/\r\n\tif (!dataFromParent) return <div></div>;\r\n\t/*Destructure the data sent from the parent */\r\n\tconst {\r\n\t\tavailability,\r\n\t\tcarType,\r\n\t\tname,\r\n\t\tlocation,\r\n\t\ttotalTrips,\r\n\t\trating,\r\n\t} = dataFromParent;\r\n\t/*show the index of the driver */\r\n\tconst displayProfile = () => {\r\n\t\tsetViewProfile(true);\r\n\t};\r\n\t/*Use availability array to display to the user*/\r\n\tconst availabilityDisplay = availability.map((item, index) => {\r\n\t\tconst date = new Date();\r\n\t\tdate.setDate(date.getDate() - date.getDay() + index);\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t/*Check if driver is available on this day */\r\n\t\tif (item) {\r\n\t\t\treturn (\r\n\t\t\t\t<li key={index} className='fontSize1_5'>\r\n\t\t\t\t\t<h3\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '1rem',\r\n\t\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\t\tbackgroundColor: '#99FF99',\r\n\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tYes\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3>{date.toLocaleDateString()}</h3>\r\n\t\t\t\t</li>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<li key={index} className='fontSize1_5'>\r\n\t\t\t\t<h3\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tpadding: '1rem',\r\n\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\tbackgroundColor: '#FF6666',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tNo\r\n\t\t\t\t</h3>\r\n\t\t\t\t<h3>{date.toLocaleDateString()}</h3>\r\n\t\t\t</li>\r\n\t\t);\r\n\t});\r\n\treturn viewProfile ? (\r\n\t\t<Redirect\r\n\t\t\tto={{\r\n\t\t\t\tpathname: '/viewProfile',\r\n\t\t\t\tstate: {\r\n\t\t\t\t\tdataFromParent: { dataFromParent },\r\n\t\t\t\t\ttypeOfUser: { typeOfUser },\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t) : (\r\n\t\t<Fragment>\r\n\t\t\t<section className='flexDisplay cardContainer padding2 pointer'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='flexDisplayColumn'\r\n\t\t\t\t\tstyle={{ flexGrow: 2 }}\r\n\t\t\t\t\tonClick={displayProfile}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t\t<strong className='fontSize1_5'>Name: </strong> {name}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t\t<strong className='fontSize1_5'>Location: </strong>\r\n\t\t\t\t\t\t{location\r\n\t\t\t\t\t\t\t? location.charAt(0).toUpperCase() + location.slice(1)\r\n\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t\t<strong className='fontSize1_5'>Total Services: </strong>\r\n\t\t\t\t\t\t{totalTrips}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t{typeOfUser === 'driver' ? (\r\n\t\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t\t\t<strong className='fontSize1_5'>Car Type: </strong>\r\n\t\t\t\t\t\t\t{carType.toUpperCase()}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t\t\t<strong className='fontSize1_5 '>Availability</strong>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<ul className='flexDisplay flexWrap fontSize1_5'>\r\n\t\t\t\t\t\t\t{availabilityDisplay}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flexDisplayColumn' style={{ flexGrow: '1' }}>\r\n\t\t\t\t\t<div style={{ flexGrow: '1' }}>\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t<strong className='fontSize1_5'>Rating</strong>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<pre className='fontSize1_5 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t{rating} &nbsp;\r\n\t\t\t\t\t\t\t<img src={star} style={{ width: '20%' }}></img>\r\n\t\t\t\t\t\t</pre>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\tpathname: '/book',\r\n\t\t\t\t\t\t\tstate: {\r\n\t\t\t\t\t\t\t\tcity: dataFromParent.location,\r\n\t\t\t\t\t\t\t\temail: dataFromParent.email,\r\n\t\t\t\t\t\t\t\tfromURL: false,\r\n\t\t\t\t\t\t\t\ttypeOfUser: typeOfUser,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button className='btn btn-theme fontSize1_5'>Book</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default Card;\r\n","import React, { Fragment, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Card } from '../layout/Card';\r\n\r\nexport const AvailableDrivers = ({ drivers }) => {\r\n\tconst driversNested = drivers.drivers;\r\n\t/*Display the  available drivers to the user if there is any dirver fetched form the database*/\r\n\tconst availableDrivers =\r\n\t\tdriversNested != null &&\r\n\t\tdriversNested.length > 0 &&\r\n\t\tdriversNested.map((driver, index) => {\r\n\t\t\tif (driver !== undefined)\r\n\t\t\t\t/*If the driver is present then show it to the user by sending data to the Display Card */\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tkey={driver[0]._id}\r\n\t\t\t\t\t\tdataFromParent={driver[0]}\r\n\t\t\t\t\t\ttypeOfUser={'driver'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t});\r\n\r\n\tif (!availableDrivers) {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='fontSize2_5'\r\n\t\t\t\t\tstyle={{ display: 'block', margin: '2rem auto' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tNo Driver available\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\treturn <Fragment>{availableDrivers}</Fragment>;\r\n};\r\nAvailableDrivers.propTypes = {};\r\n/*Map state to props - Means map the state which we want to use in this component to props so we can pass \r\nit to the component as props and use the value of it to dynamically update the driver cards\r\n*/\r\nconst mapStateToProps = (state) => ({ drivers: state.drivers });\r\n\r\n/*We use connect() to connect any component that we want to use with redux\r\n1st parameter is maptStateToProps which states the state values that we want to use in this component */\r\nexport default connect(mapStateToProps)(AvailableDrivers);\r\n","import React, { Fragment, useEffect } from 'react';\r\nimport { Card as DriverCard } from '../layout/Card';\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nexport const AvailableHelpers = ({ helpers }) => {\r\n\tlet helpersNested = helpers.helpers;\r\n\r\n\t/*Display the  available helpers to the user if there is any dirver fetched form the database*/\r\n\tconst availableHelpers =\r\n\t\thelpersNested != null &&\r\n\t\thelpersNested.length > 0 &&\r\n\t\thelpersNested.map((helper, index) => {\r\n\t\t\tif (helper !== undefined)\r\n\t\t\t\t/*If the helper is present then show it to the user by sending data to the Display Card */\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<DriverCard\r\n\t\t\t\t\t\tkey={helper[0]._id}\r\n\t\t\t\t\t\tdataFromParent={helper[0]}\r\n\t\t\t\t\t\ttypeOfUser={'helper'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t});\r\n\r\n\tif (!availableHelpers) {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='fontSize2_5'\r\n\t\t\t\t\tstyle={{ display: 'block', margin: '2rem auto' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tNo Helper available\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\treturn <Fragment>{availableHelpers}</Fragment>;\r\n};\r\nAvailableHelpers.propTypes = {};\r\n/*Map state to props - Means map the state which we want to use in this component to props so we can pass \r\nit to the component as props and use the value of it to dynamically update the driver cards\r\n*/\r\nconst mapStateToProps = (state) => ({ helpers: state.helpers });\r\n\r\n/*We use connect() to connect any component that we want to use with redux\r\n1st parameter is maptStateToProps which states the state values that we want to use in this component */\r\nexport default connect(mapStateToProps)(AvailableHelpers);\r\n","import React, { Fragment, useState } from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport AvailableDrivers from './../drivers/AvailableDrivers';\r\nimport AvailableHelpers from './../helpers/AvailableHelpers';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n//Redux\r\nexport const Landing = ({ isAuthenticated }) => {\r\n\tconst [typeOfUser, setTypeOfUser] = useState('driver');\r\n\tconst changeTypeOfUser = (value) => {\r\n\t\tsetTypeOfUser(value);\r\n\t};\r\n\treturn isAuthenticated && localStorage.typeOfUser === 'driver' ? (\r\n\t\t<Redirect to='/driver/profile' />\r\n\t) : isAuthenticated && localStorage.typeOfUser === 'helper' ? (\r\n\t\t<Redirect to='/helper/profile' />\r\n\t) : (\r\n\t\t<Fragment>\r\n\t\t\t<div className='flexDisplayColumn'>\r\n\t\t\t\t<SearchBar changeTypeOfUser={changeTypeOfUser} />\r\n\t\t\t\t{typeOfUser === 'driver' ? <AvailableDrivers /> : <AvailableHelpers />}\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\n/*We use connect() to connect any component that we want to use with redux\r\n1st parameter is maptStateToProps which states the state values that we want to use in this component */\r\nconst maptStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\nexport default connect(maptStateToProps)(Landing);\r\n","export const cities = [\r\n\t{\r\n\t\tlabel: '-- select an option -- ',\r\n\t\tvalue: '0',\r\n\t\tdisabled: true,\r\n\t\tdefault: true,\r\n\t},\r\n\t{\r\n\t\tlabel: 'Toronto',\r\n\t\tvalue: 'toronto',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'Kitchener',\r\n\t\tvalue: 'kitchener',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'Waterloo',\r\n\t\tvalue: 'waterloo',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'Cambridge',\r\n\t\tvalue: 'cambridge',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n];\r\n","import React from 'react';\r\n\r\nexport const Loader = ({ msg }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=' flexDisplayColumn justifyCenter alignItemsCenter'\r\n\t\t\tid='spinnerContainer'\r\n\t\t>\r\n\t\t\t<div id='spinner' className='padding1 '></div>\r\n\t\t\t<div className='padding2 fontSize1_5 colorWhite'>{msg}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Loader;\r\n","import React, { Fragment, useEffect, useState, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { cities } from './../../lib/servicableAreas';\r\nimport { vehicleTypes } from './../../lib/vehicleTypes';\r\nimport { signUp, loadUser } from './../../actions/auth';\r\nimport Loader from './../layout/Loader';\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nexport const SignUp = ({ signUp, errors, loadUser, isAuthenticated }) => {\r\n\tconst [loading, setLoading] = useState(true);\r\n\t/*State to store the form data which is updated on data change  */\r\n\tconst [formData, setFormData] = useState({\r\n\t\ttypeOfUser: 'booker',\r\n\t\temail: '',\r\n\t\tname: '',\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t\tlocation: 'toronto',\r\n\t\tcarType: 'suv',\r\n\t\trate: '',\r\n\t\tdrivingExperience: '',\r\n\t\tlicenseIssuedDate: Date.now(),\r\n\t});\r\n\t/*State to store the errors which are updated on form submission  */\r\n\tconst [messages, setMessages] = useState({\r\n\t\temail: '',\r\n\t\tname: '',\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t\trate: '',\r\n\t\tdrivingExperience: '',\r\n\t});\r\n\tconst messagesHack = {\r\n\t\temail: '',\r\n\t\tname: '',\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t\trate: '',\r\n\t\tdrivingExperience: '',\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (errors) {\r\n\t\t\terrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (isAuthenticated) {\r\n\t\t\tdocument.getElementById('form').disabled = true;\r\n\t\t\tsetTimeout(() => setLoading(false), 4000);\r\n\t\t}\r\n\t\tsetMessages(messagesHack);\r\n\t}, [errors, isAuthenticated]);\r\n\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\t/*method to update the state of typeOfUser to show the sign up form accordingly */\r\n\tconst updateData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tconst submitForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\thideErrors();\r\n\t\t//call the signup action by sending form data\r\n\t\tsignUp(formData).then(() => {\r\n\t\t\tloadUser();\r\n\t\t});\r\n\t};\r\n\t/*Fields that shoule be displayed for the driver */\r\n\tconst carType = (\r\n\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t<label htmlFor='carType' className='fontWeight500 padding1'>\r\n\t\t\t\tCar Type\r\n\t\t\t</label>\r\n\t\t\t<select\r\n\t\t\t\tname='carType'\r\n\t\t\t\tid='carType'\r\n\t\t\t\tclassName='padding1'\r\n\t\t\t\tvalue={formData.carType}\r\n\t\t\t\tonChange={updateData}\r\n\t\t\t>\r\n\t\t\t\t{vehicleTypes.map((vehicleType) => (\r\n\t\t\t\t\t<option\r\n\t\t\t\t\t\tkey={vehicleType.value}\r\n\t\t\t\t\t\tvalue={vehicleType.value}\r\n\t\t\t\t\t\tname='carType'\r\n\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\tdisabled={vehicleType.disabled}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{vehicleType.label}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n\tconst drivingExp = (\r\n\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t<label htmlFor='drivingExperience' className='fontWeight500 padding1'>\r\n\t\t\t\tDriving Experience\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\ttype='number'\r\n\t\t\t\tname='drivingExperience'\r\n\t\t\t\tid='drivingExperience'\r\n\t\t\t\tclassName='padding1'\r\n\t\t\t\tonChange={updateData}\r\n\t\t\t\tmin='1'\r\n\t\t\t\trequired\r\n\t\t\t></input>\r\n\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t{messages.drivingExperience}\r\n\t\t\t</h5>\r\n\t\t</div>\r\n\t);\r\n\t/*Fields that should be displayed for the helper */\r\n\tconst driverHelperCommon = (\r\n\t\t<div>\r\n\t\t\t{/*Location */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='location' className='fontWeight500 padding1'>\r\n\t\t\t\t\tLocation\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='location'\r\n\t\t\t\t\tid='location'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={formData.location}\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t>\r\n\t\t\t\t\t{cities.map((city) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={city.value}\r\n\t\t\t\t\t\t\t\tvalue={city.value}\r\n\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\tdisabled={city.disabled}\r\n\t\t\t\t\t\t\t\tname='location'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{city.label}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t{/*Car Type */ formData.typeOfUser === 'driver' && carType}\r\n\t\t\t{/*Rate*/}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='rate' className='fontWeight500 padding1'>\r\n\t\t\t\t\tRate\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tname='rate'\r\n\t\t\t\t\tid='rate'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tplaceholder='20/hr'\r\n\t\t\t\t\tmin='15'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.rate}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/*Driving experience*/ formData.typeOfUser === 'driver' && drivingExp}\r\n\t\t</div>\r\n\t);\r\n\tconst commonFields = (\r\n\t\t<form className='flexDisplayColumn' id='form'>\r\n\t\t\t<div className='fontSize2_5 padding1'>Sign Up</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='email' className='fontWeight500 padding1'>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.email}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='name' className='fontWeight500 padding1'>\r\n\t\t\t\t\tName\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.name}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='password' className='fontWeight500 padding1'>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tid='password'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.password}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='confirmPassword' className='fontWeight500 padding1'>\r\n\t\t\t\t\tConfirm Password\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='confirmPassword'\r\n\t\t\t\t\tid='confirmPassword'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.confirmPassword}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\t/*Conditional display fo the sign up fields based on the type of user\r\n\t\t\tselected*/\r\n\t\t\t\t(formData.typeOfUser === 'helper' ||\r\n\t\t\t\t\tformData.typeOfUser === 'driver') &&\r\n\t\t\t\t\tdriverHelperCommon\r\n\t\t\t}\r\n\t\t\t<div className='fieldSet fontSize2_5 padding2'>\r\n\t\t\t\t<label className='fontWeight500 padding1 displayBlock'>\r\n\t\t\t\t\tType of Account\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='radio'\r\n\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue='booker'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\tdefaultChecked\r\n\t\t\t\t></input>\r\n\t\t\t\t<label htmlFor='booker' className='fontWeight500 padding1'>\r\n\t\t\t\t\tBooker\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='radio'\r\n\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\tvalue='driver'\r\n\t\t\t\t></input>\r\n\t\t\t\t<label htmlFor='driver' className='fontWeight500 padding1'>\r\n\t\t\t\t\tDriver\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='radio'\r\n\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\tvalue='helper'\r\n\t\t\t\t></input>\r\n\t\t\t\t<label htmlFor='helper' className='fontWeight500 padding1'>\r\n\t\t\t\t\tHelper\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='padding2'>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tonClick={submitForm}\r\n\t\t\t\t\tclassName='btn padding2 fontSize1_5 btn-theme width50'\r\n\t\t\t\t\tvalue='Submit'\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{isAuthenticated && <Loader msg='Loading' />}\r\n\t\t\t{\r\n\t\t\t\t/*Check  if the user has been loaded into the system*/\r\n\t\t\t\tisAuthenticated && !loading && <Redirect to='/' />\r\n\t\t\t}\r\n\t\t\t{commonFields}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nSignUp.propTypes = {\r\n\tloadUser: PropTypes.func.isRequired,\r\n\tsignUp: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\terrors: state.auth.errors,\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { signUp, loadUser })(SignUp);\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from './../layout/Loader';\r\n//React Router\r\nimport { Link, Redirect } from 'react-router-dom';\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nimport { login, loadUser } from './../../actions/auth';\r\n\r\nexport const Login = ({ loginErrors, loadUser, login, isAuthenticated }) => {\r\n\tconst [loading, setLoading] = useState(true);\r\n\t/*State to store the form data which is updated on data change  */\r\n\tconst [formData, setFormData] = useState({\r\n\t\ttypeOfUser: 'booker',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\t/*State to store the errors which are updated on form submission  */\r\n\tconst [messages, setMessages] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tnotFound: '',\r\n\t});\r\n\tconst messagesHack = {\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tnotFound: '',\r\n\t};\r\n\r\n\tif (isAuthenticated) {\r\n\t\tsetTimeout(() => setLoading(false), 4000);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loginErrors) {\r\n\t\t\tloginErrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tsetMessages(messagesHack);\r\n\t}, [loginErrors]);\r\n\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\t/*method to update the state of data to show the sign up form accordingly */\r\n\tconst updateData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tconst submitForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\thideErrors();\r\n\t\t//call the signup action by sending form data\r\n\t\tlogin(formData).then(() => {\r\n\t\t\tloadUser();\r\n\t\t});\r\n\t};\r\n\tconst form = (\r\n\t\t<form className='flexDisplayColumn' id='form'>\r\n\t\t\t<div className='fontSize2_5 padding1'>Login</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='email' className='fontWeight500 padding1'>\r\n\t\t\t\t\tEmail\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={formData.email}\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.email}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='password' className='fontWeight500 padding1'>\r\n\t\t\t\t\tPassword\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tid='password'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={formData.password}\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.password}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet fontSize2_5 padding2'>\r\n\t\t\t\t<label className='fontWeight500 padding1 displayBlock'>\r\n\t\t\t\t\tType of Account\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='radio'\r\n\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue='booker'\r\n\t\t\t\t\tdefaultChecked\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t></input>\r\n\t\t\t\t<label htmlFor='booker' className='fontWeight500 padding1'>\r\n\t\t\t\t\tBooker\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='radio'\r\n\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue='driver'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t></input>\r\n\t\t\t\t<label htmlFor='driver' className='fontWeight500 padding1'>\r\n\t\t\t\t\tDriver\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='radio'\r\n\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue='helper'\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t></input>\r\n\t\t\t\t<label htmlFor='helper' className='fontWeight500 padding1'>\r\n\t\t\t\t\tHelper\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<input hidden id='notFound'></input>\r\n\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t{messages.notFound}\r\n\t\t\t</h5>\r\n\t\t\t<div className='padding2'>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tclassName='btn padding2 fontSize1_5 btn-theme width50'\r\n\t\t\t\t\tvalue='Submit'\r\n\t\t\t\t\tonClick={submitForm}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t\t<Link\r\n\t\t\t\tto='/forgotPassword'\r\n\t\t\t\tclassName='fontSize2_5 navBarLinks padding2 '\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t>\r\n\t\t\t\t<li style={{ listStyle: 'none' }}>Forgot password?</li>\r\n\t\t\t</Link>\r\n\t\t</form>\r\n\t);\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{isAuthenticated && <Loader msg='Loading' />}\r\n\t\t\t{\r\n\t\t\t\t/*Check  if the user has been loaded into the system*/\r\n\t\t\t\tisAuthenticated && !loading && <Redirect to='/' />\r\n\t\t\t}\r\n\t\t\t{form}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nLogin.propTypes = {\r\n\tlogin: PropTypes.func.isRequired,\r\n\tloadUser: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\tloginErrors: state.auth.loginErrors,\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\n/*We use connect() to connect any component that we want to use with redux\r\n1st parameter is maptStateToProps which states the state values that we want to use in this component */\r\nexport default connect(mapStateToProps, { login, loadUser })(Login);\r\n","/*Reducer - Alert - Contains reducer for alert actions */\r\nimport { SET_MESSAGE, REMOVE_MESSAGE } from './../actions/types';\r\nconst initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase SET_MESSAGE:\r\n\t\t\treturn [...state, payload];\r\n\t\tcase REMOVE_MESSAGE:\r\n\t\t\treturn state.filter((alert) => alert.id != payload);\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tGET_DRIVERS_SUCCESS,\r\n\tGET_DRIVERS_FAIL,\r\n\tPROVIDE_AVAILABILITY_FAIL,\r\n\tPROVIDE_AVAILABILITY,\r\n} from './../actions/types';\r\nconst initialState = {\r\n\tdrivers: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase GET_DRIVERS_SUCCESS:\r\n\t\t\treturn { ...state, drivers: payload };\r\n\t\tcase GET_DRIVERS_FAIL:\r\n\t\t\treturn { ...state, drivers: null };\r\n\t\tcase PROVIDE_AVAILABILITY:\r\n\t\tcase PROVIDE_AVAILABILITY_FAIL:\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { GET_HELPERS_FAIL, GET_HELPERS_SUCCESS } from './../actions/types';\r\nconst initialState = {\r\n\thelpers: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase GET_HELPERS_SUCCESS:\r\n\t\t\treturn { ...state, helpers: payload };\r\n\t\tcase GET_HELPERS_FAIL:\r\n\t\t\treturn { ...state, helpers: null };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","/*Reducer - Auth - Contains reducer for Authorization actions */\r\nimport {\r\n\tSIGNUP_FAIL,\r\n\tSIGNUP_SUCCESS,\r\n\tCLEAR_ERRORS,\r\n\tLOAD_USER,\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT_USER,\r\n\tUPDATE_BOOKER_INFO_FAIL,\r\n\tUPDATE_BOOKER_INFO,\r\n\tUPDATE_PASSWORD,\r\n\tUPDATE_PASSWORD_FAIL,\r\n\tDELETE_ACCOUNT,\r\n\tDELETE_ACCOUNT_FAIL,\r\n\tCLEAR_DELETE_ERRORS,\r\n\tUPDATE_DRIVER_INFO_FAIL,\r\n\tUPDATE_DRIVER_INFO,\r\n\tUPDATE_HELPER_INFO,\r\n\tUPDATE_HELPER_INFO_FAIL,\r\n\tFORGOT_PASSWORD,\r\n\tFORGOT_PASSWORD_FAIL,\r\n\tCHANGE_PASSWORD,\r\n\tCHANGE_PASSWORD_FAIL,\r\n} from './../actions/types';\r\nconst initialState = {\r\n\ttoken: localStorage.getItem('jwt'),\r\n\tuser: null,\r\n\tisAuthenticated: false,\r\n\terrors: null,\r\n\tloginErrors: null,\r\n\tupdateErrors: null,\r\n\tupdatePasswordErrors: null,\r\n\tdeleteErrors: null,\r\n\tforgotPasswordErrors: null,\r\n\tchangePasswordErrors: null,\r\n};\r\nexport default (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase LOAD_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tuser: payload.user,\r\n\t\t\t};\r\n\t\tcase SIGNUP_SUCCESS:\r\n\t\t\tlocalStorage.setItem('jwt', payload.data.token);\r\n\t\t\tlocalStorage.setItem('typeOfUser', payload.typeOfUser);\r\n\t\t\treturn { ...state, isAuthenticated: true, errors: null };\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\t\tlocalStorage.setItem('jwt', payload.data.token);\r\n\t\t\tlocalStorage.setItem('typeOfUser', payload.typeOfUser);\r\n\t\t\treturn { ...state, isAuthenticated: true, loginErrors: null };\r\n\t\tcase SIGNUP_FAIL:\r\n\t\t\tlocalStorage.removeItem('jwt');\r\n\t\t\tlocalStorage.removeItem('typeOfUser');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\terrors: [...payload],\r\n\t\t\t};\r\n\t\tcase LOGIN_FAIL:\r\n\t\t\tlocalStorage.removeItem('jwt');\r\n\t\t\tlocalStorage.removeItem('typeOfUser');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tloginErrors: [...payload],\r\n\t\t\t};\r\n\t\tcase UPDATE_BOOKER_INFO:\r\n\t\tcase UPDATE_DRIVER_INFO:\r\n\t\tcase UPDATE_HELPER_INFO:\r\n\t\t\treturn { ...state, updateErrors: null };\r\n\t\tcase UPDATE_BOOKER_INFO_FAIL:\r\n\t\tcase UPDATE_DRIVER_INFO_FAIL:\r\n\t\tcase UPDATE_HELPER_INFO_FAIL:\r\n\t\t\treturn { ...state, updateErrors: [...payload] };\r\n\t\tcase UPDATE_PASSWORD:\r\n\t\t\treturn { ...state, updatePasswordErrors: null };\r\n\t\tcase UPDATE_PASSWORD_FAIL:\r\n\t\t\treturn { ...state, updatePasswordErrors: [...payload] };\r\n\t\tcase AUTH_ERROR:\r\n\t\tcase LOGOUT_USER:\r\n\t\tcase DELETE_ACCOUNT:\r\n\t\t\tlocalStorage.removeItem('jwt');\r\n\t\t\tlocalStorage.removeItem('typeOfUser');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tdeleteErrors: null,\r\n\t\t\t};\r\n\t\tcase DELETE_ACCOUNT_FAIL:\r\n\t\t\treturn { ...state, deleteErrors: [...payload] };\r\n\t\tcase CLEAR_DELETE_ERRORS:\r\n\t\t\treturn { ...state, deleteErrors: null };\r\n\t\tcase CLEAR_ERRORS:\r\n\t\t\treturn { ...state, errors: null, loginErrors: null };\r\n\t\tcase FORGOT_PASSWORD_FAIL:\r\n\t\t\treturn { ...state, forgotPasswordErrors: [...payload] };\r\n\t\tcase FORGOT_PASSWORD:\r\n\t\t\treturn { ...state, forgotPasswordErrors: null };\r\n\t\tcase CHANGE_PASSWORD:\r\n\t\t\treturn { ...state, changePasswordErrors: null };\r\n\t\tcase CHANGE_PASSWORD_FAIL:\r\n\t\t\treturn { ...state, changePasswordErrors: [...payload] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { GET_BOOKINGS } from './../actions/types';\r\nconst initialState = {\r\n\tpreviousBookings: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase GET_BOOKINGS:\r\n\t\t\treturn { ...state, previousBookings: payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tPROVIDE_AVAILABILITY_FAIL,\r\n\tPROVIDE_AVAILABILITY,\r\n\tGET_AVAILABILTIY_FAIL,\r\n\tGET_AVAILABILTIY,\r\n\tSEND_BOOKING_PROPOSAL,\r\n\tSEND_BOOKING_PROPOSAL_FAIL,\r\n\tBOOKING_RESPONSE_FAIL,\r\n\tBOOKING_RESPONSE,\r\n\tVIEW_UPCOMING_BOOKINGS,\r\n\tCANCEL_BOOKING_FAIL,\r\n\tCANCEL_BOOKING,\r\n\tPOST_RATING,\r\n\tPOST_RATING_FAIL,\r\n} from './../actions/types';\r\nconst initialState = {\r\n\tavailability: [],\r\n\tdateUpdated: null,\r\n\terrors: null,\r\n\tresponseErrors: null,\r\n\tbookings: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase GET_AVAILABILTIY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tavailability: payload.availability,\r\n\t\t\t\tdateUpdated: payload.dateUpdated,\r\n\t\t\t};\r\n\t\tcase GET_AVAILABILTIY_FAIL:\r\n\t\t\treturn { ...state, availability: [], dateUpdated: null };\r\n\t\tcase SEND_BOOKING_PROPOSAL_FAIL:\r\n\t\t\treturn { ...state, errors: [...payload] };\r\n\t\tcase SEND_BOOKING_PROPOSAL:\r\n\t\t\treturn { ...state, errors: null };\r\n\t\tcase PROVIDE_AVAILABILITY:\r\n\t\tcase PROVIDE_AVAILABILITY_FAIL:\r\n\t\tcase BOOKING_RESPONSE_FAIL:\r\n\t\t\treturn { ...state, responseErrors: [...payload] };\r\n\t\tcase BOOKING_RESPONSE:\r\n\t\t\treturn { ...state, responseErrors: null };\r\n\t\tcase VIEW_UPCOMING_BOOKINGS:\r\n\t\t\treturn { ...state, bookings: payload };\r\n\t\tcase CANCEL_BOOKING:\r\n\t\tcase CANCEL_BOOKING_FAIL:\r\n\t\tcase POST_RATING_FAIL:\r\n\t\tcase POST_RATING:\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport alert from './alert';\r\nimport drivers from './drivers';\r\nimport helpers from './helpers';\r\nimport auth from './auth';\r\nimport bookers from './bookers';\r\nimport booking from './booking';\r\nexport default combineReducers({\r\n\talert,\r\n\tdrivers,\r\n\tauth,\r\n\thelpers,\r\n\tbookers,\r\n\tbooking,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from './../layout/Loader';\r\nimport { Redirect } from 'react-router-dom';\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nimport { deleteAccount } from './../../actions/auth';\r\nimport store from './../../store';\r\nimport { CLEAR_DELETE_ERRORS, DELETE_ACCOUNT } from './../../actions/types';\r\n\r\nexport const DeleteModal = ({ cancelModal, deleteAccount, deleteErrors }) => {\r\n\t/*State to store the updated field values */\r\n\tconst [formData, setFormData] = useState({\r\n\t\tpassword: '',\r\n\t});\r\n\t/*State to update the error messages */\r\n\tconst [messages, setMessages] = useState({\r\n\t\tpassword: '',\r\n\t});\r\n\tconst messagesHack = {\r\n\t\tpassword: '',\r\n\t};\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\t/*State to check if the page needs to show the loader or not */\r\n\tconst [loader, setLoader] = useState(false);\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst cancel = () => {\r\n\t\tstore.dispatch({\r\n\t\t\ttype: CLEAR_DELETE_ERRORS,\r\n\t\t});\r\n\t\tcancelModal();\r\n\t};\r\n\tconst updateFormData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tconst deletAccountAndRedirect = () => {\r\n\t\thideErrors();\r\n\t\tdeleteAccount(formData).then((res) => {\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\ttriggerLoader();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tstore.dispatch({\r\n\t\t\t\t\t\ttype: DELETE_ACCOUNT,\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t/*method to trigger the loader */\r\n\tconst triggerLoader = () => {\r\n\t\tsetLoader(true);\r\n\t};\r\n\t/*To check if page is done loading then redirect to home screen*/\r\n\tif (loader) {\r\n\t\tsetTimeout(() => setRedirect(true), 5000);\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (deleteErrors) {\r\n\t\t\tdeleteErrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetMessages(messagesHack);\r\n\t\t}\r\n\t}, [deleteErrors]);\r\n\tconst deletForm = (\r\n\t\t<section id='modalBox' className=' flexDisplay alignItemsCenter'>\r\n\t\t\t<div\r\n\t\t\t\tid='modalHolder'\r\n\t\t\t\tclassName='flexDisplayColumn justifyCenter alignItemCenter center padding2'\r\n\t\t\t>\r\n\t\t\t\t<h2 className='fontSize1_5 padding1'>Confirm Password</h2>\r\n\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding1'>\r\n\t\t\t\t\t<label htmlFor='password' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tPassword\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tvalue={formData.password}\r\n\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t{messages.password}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flexDisplay'>\r\n\t\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-danger'\r\n\t\t\t\t\t\t\tvalue='Delete'\r\n\t\t\t\t\t\t\tonClick={deletAccountAndRedirect}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='padding2'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme'\r\n\t\t\t\t\t\t\tvalue='Cancel'\r\n\t\t\t\t\t\t\tonClick={cancel}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n\treturn redirect ? (\r\n\t\t<Redirect to='/' />\r\n\t) : loader ? (\r\n\t\t<Loader msg='Hope to see you back!' />\r\n\t) : (\r\n\t\t<Fragment>{deletForm}</Fragment>\r\n\t);\r\n};\r\nDeleteModal.propTypes = {\r\n\tdeleteAccount: PropTypes.func.isRequired,\r\n};\r\n/*map state which we want to use with the props */\r\nconst mapStateToProps = (state) => ({\r\n\tdeleteErrors: state.auth.deleteErrors,\r\n});\r\nexport default connect(mapStateToProps, { deleteAccount })(DeleteModal);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { updatePassword } from './../../actions/auth';\r\nimport PropTypes from 'prop-types';\r\nimport { LOGOUT_USER } from './../../actions/types';\r\nimport store from './../../store';\r\n//redux\r\nimport { connect } from 'react-redux';\r\nexport const UpdatePassword = ({ updatePassword, errors, triggerLoader }) => {\r\n\t/*State to store the form data when it changes */\r\n\tconst [formData, setFormData] = useState({\r\n\t\tcurrentPassword: '',\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t});\r\n\t/*State to store the errors which are updated on form submission  */\r\n\tconst [messages, setMessages] = useState({\r\n\t\tcurrentPassword: '',\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t\totherMessage: '',\r\n\t});\r\n\tconst messagesHack = {\r\n\t\tcurrentPassword: '',\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t\totherMessage: '',\r\n\t};\r\n\tconst updateData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\thideErrors();\r\n\t\tif (errors) {\r\n\t\t\terrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetMessages(messagesHack);\r\n\t\t} else if (!errors) {\r\n\t\t\tsetFormData({\r\n\t\t\t\t...messages,\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tcurrentPassword: '',\r\n\t\t\t\tconfirmPassword: '',\r\n\t\t\t});\r\n\t\t}\r\n\t}, [errors]);\r\n\t/*Method to submit the data/password */\r\n\tconst submitData = () => {\r\n\t\tupdatePassword(formData).then((res) => {\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\ttriggerLoader();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tstore.dispatch({\r\n\t\t\t\t\t\ttype: LOGOUT_USER,\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='currentPassword' className='fontWeight500 padding1'>\r\n\t\t\t\t\tCurrent Password\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='currentPassword'\r\n\t\t\t\t\tid='currentPassword'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={formData.currentPassword}\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.currentPassword}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='password' className='fontWeight500 padding1'>\r\n\t\t\t\t\tNew Password\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tid='password'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={formData.password}\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.password}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='confirmPassword' className='fontWeight500 padding1'>\r\n\t\t\t\t\tConfirm Password\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='confirmPassword'\r\n\t\t\t\t\tid='confirmPassword'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={formData.confirmPassword}\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.confirmPassword}\r\n\t\t\t\t</h5>\r\n\t\t\t\t<div id='otherError'></div>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorSuccess margin1_0'>\r\n\t\t\t\t\t{messages.otherError}\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t<div className='padding2 '>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme'\r\n\t\t\t\t\tvalue='Change Password'\r\n\t\t\t\t\tonClick={submitData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n/*Proptypes to typecheck*/\r\nUpdatePassword.propTypes = {\r\n\tupdatePassword: PropTypes.func.isRequired,\r\n};\r\n/*Map the redux store thsi component */\r\nconst mapStateToProps = (state) => ({\r\n\terrors: state.auth.updatePasswordErrors,\r\n});\r\nexport default connect(mapStateToProps, { updatePassword })(UpdatePassword);\r\n","import React, { Fragment, useEffect, useMemo, useState } from 'react';\r\nimport star from './../../images/star.png';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from './../layout/Loader';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DeleteModal from './../common/DeleteModal';\r\n//Redux\r\nimport { updateBookerInfo, loadUser } from './../../actions/auth';\r\nimport { connect } from 'react-redux';\r\nimport UpdatePassword from '../common/UpdatePassword';\r\n\r\nexport const Profile = ({\r\n\tuser,\r\n\tupdateBookerInfo,\r\n\tupdateErrors,\r\n\tloadUser,\r\n\tisAuthenticated,\r\n}) => {\r\n\t/*State to store the data from the udpate form  */\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\tphone: '',\r\n\t});\r\n\t/*State to store whether we are showing Editable fields or non editable fields */\r\n\tconst [editingInfo, setEditingInfo] = useState(false);\r\n\t/*State to store the errors which are updated on form submission  */\r\n\tconst [messages, setMessages] = useState({\r\n\t\temail: '',\r\n\t\tphone: '',\r\n\t\totherError: '',\r\n\t});\r\n\t/*State to check if the page needs to show the loader or not */\r\n\tconst [loader, setLoader] = useState(false);\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\t/*State to load the delete account modal*/\r\n\tconst [deleteModal, setDeleteModal] = useState(false);\r\n\tconst messagesHack = {\r\n\t\temail: '',\r\n\t\tphone: '',\r\n\t\totherError: '',\r\n\t};\r\n\r\n\t/*method to trigger the loader */\r\n\tconst triggerLoader = () => {\r\n\t\tsetLoader(true);\r\n\t};\r\n\t/*To check if page is done loading then redirect to home screen*/\r\n\tif (loader) {\r\n\t\tsetTimeout(() => setRedirect(true), 5000);\r\n\t}\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\tlet img = useMemo(() => {\r\n\t\tif (user) {\r\n\t\t\treturn `https://robohash.org/${user.name}`;\r\n\t\t}\r\n\t}, [user]);\r\n\t/*useEffect */\r\n\tuseEffect(() => {\r\n\t\tif (user && !editingInfo) {\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: user.email ? user.email : '',\r\n\t\t\t\tphone: user.phone ? user.phone : '',\r\n\t\t\t});\r\n\t\t} else if (editingInfo && formData) {\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: formData.email ? formData.email : '',\r\n\t\t\t\tphone: formData.phone ? formData.phone : '',\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (updateErrors) {\r\n\t\t\tupdateErrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetMessages(messagesHack);\r\n\t\t} else if (!updateErrors && editingInfo) {\r\n\t\t\tcancelEditing();\r\n\t\t\t//Display the success message\r\n\t\t\tconst messageBox = document.getElementById('otherError').nextSibling;\r\n\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\tsetMessages({\r\n\t\t\t\t...messages,\r\n\t\t\t\temail: '',\r\n\t\t\t\tphone: '',\r\n\t\t\t\totherError: 'Updated Successfully!',\r\n\t\t\t});\r\n\t\t}\r\n\t}, [user, updateErrors]);\r\n\t/*method to display the editable fields and hide non editablefields */\r\n\tconst editOrConfirm = () => {\r\n\t\thideErrors();\r\n\t\tif (!editingInfo) {\r\n\t\t\t//if button shows 'Edit' text hide non editable fields and show editable fields\r\n\t\t\tconst nonEditables = document.getElementsByClassName(\r\n\t\t\t\t'nonEditableFieldSet'\r\n\t\t\t);\r\n\t\t\tlet i;\r\n\t\t\tfor (i = 0; i < nonEditables.length; i++) {\r\n\t\t\t\tnonEditables[i].classList.add('displayNone');\r\n\t\t\t\tnonEditables[i].classList.remove('displayBlock');\r\n\t\t\t}\r\n\t\t\tconst editables = document.getElementsByClassName('editableFieldSet');\r\n\t\t\tfor (i = 0; i < editables.length; i++) {\r\n\t\t\t\teditables[i].classList.remove('displayNone');\r\n\t\t\t\teditables[i].classList.add('displayBlock');\r\n\t\t\t}\r\n\t\t\tsetEditingInfo(true);\r\n\t\t}\r\n\r\n\t\tif (editingInfo) {\r\n\t\t\tupdateBookerInfo(formData).then(() => {\r\n\t\t\t\tloadUser();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst cancel = () => {\r\n\t\thideErrors();\r\n\t\tcancelEditing();\r\n\t\tif (user)\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: user.email ? user.email : '',\r\n\t\t\t\tphone: user.phone ? user.phone : '',\r\n\t\t\t});\r\n\t};\r\n\tconst cancelEditing = () => {\r\n\t\tif (editingInfo) {\r\n\t\t\t//if button shows 'Cancel' text show non editable fields and hide editable fields\r\n\t\t\tconst nonEditables = document.getElementsByClassName(\r\n\t\t\t\t'nonEditableFieldSet'\r\n\t\t\t);\r\n\t\t\tlet i;\r\n\t\t\tfor (i = 0; i < nonEditables.length; i++) {\r\n\t\t\t\tnonEditables[i].classList.add('displayBlock');\r\n\t\t\t\tnonEditables[i].classList.remove('displayNone');\r\n\t\t\t}\r\n\t\t\tconst editables = document.getElementsByClassName('editableFieldSet');\r\n\t\t\tfor (i = 0; i < editables.length; i++) {\r\n\t\t\t\teditables[i].classList.remove('displayBlock');\r\n\t\t\t\teditables[i].classList.add('displayNone');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetEditingInfo(false);\r\n\t};\r\n\t/*Method to update the form data when user changes any data on the page */\r\n\tconst updateFormData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\t/*Update the deleteModal state to open the modal screen */\r\n\tconst openDeleteModal = () => {\r\n\t\tsetDeleteModal(true);\r\n\t};\r\n\t/*Update the deleteModal state to close the modal screen */\r\n\tconst closeDeleteModal = () => {\r\n\t\tsetDeleteModal(false);\r\n\t};\r\n\treturn !isAuthenticated || redirect ? (\r\n\t\t<Redirect to='/' />\r\n\t) : deleteModal ? (\r\n\t\t<DeleteModal id='deleteModal' cancelModal={closeDeleteModal} />\r\n\t) : loader ? (\r\n\t\t<Loader msg='Password changed! Please login again.' />\r\n\t) : (\r\n\t\t<Fragment>\r\n\t\t\t<div\r\n\t\t\t\tclassName='fontSize2_5 padding1 flexDisplay justifyCenter'\r\n\t\t\t\tid='profileTitle'\r\n\t\t\t>\r\n\t\t\t\tProfile\r\n\t\t\t</div>\r\n\t\t\t<section className='flexDisplay padding2 justifyCenter alignItemsStart updateForm'>\r\n\t\t\t\t<div className='flexDisplayColumn '>\r\n\t\t\t\t\t<div id='userImage'>\r\n\t\t\t\t\t\t<img className='' src={img} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h2 className='fontSize1_5 padding2' style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t{user ? user.name : ''}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flexDisplayColumn'>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label htmlFor='email' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user ? user.email : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tvalue={formData ? formData.email : ''}\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.email}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label htmlFor='phone' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tPhone\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user && user.phone ? user.phone : 'Not provided'}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='phone'\r\n\t\t\t\t\t\t\tname='phone'\r\n\t\t\t\t\t\t\tid='phone'\r\n\t\t\t\t\t\t\tvalue={formData && formData.phone ? formData.phone : ''}\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.phone}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id='otherError'></div>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorSuccess margin1_0'>\r\n\t\t\t\t\t\t{messages.otherError}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<div className='flexDisplay'>\r\n\t\t\t\t\t\t<div className='padding2'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme'\r\n\t\t\t\t\t\t\t\tvalue={!editingInfo ? 'Edit' : 'Confirm'}\r\n\t\t\t\t\t\t\t\tonClick={editOrConfirm}\r\n\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tclassName='btn colorDanger padding1 fontSize1_5 btn-danger displayNone editableFieldSet'\r\n\t\t\t\t\t\t\t\tvalue='Cancel'\r\n\t\t\t\t\t\t\t\tonClick={cancel}\r\n\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<UpdatePassword triggerLoader={triggerLoader} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tRating\r\n\t\t\t\t\t\t\t<em className='fontSize0_5'>\r\n\t\t\t\t\t\t\t\t(provided by drivers and helpers){' '}\r\n\t\t\t\t\t\t\t</em>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t{user ? user.rating : ''} &nbsp;\r\n\t\t\t\t\t\t\t<img src={star} style={{ width: '10%' }}></img>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label className='fontWeight500 padding1'>Services booked</label>\r\n\t\t\t\t\t\t<div className='padding1 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t{user ? user.numberOfServices : ''} &nbsp;\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='btn colorDanger padding1 fontSize1_5 btn-danger'\r\n\t\t\t\t\t\t\tvalue='Delete Account'\r\n\t\t\t\t\t\t\tonClick={openDeleteModal}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nProfile.propTypes = {\r\n\tupdateBookerInfo: PropTypes.func.isRequired,\r\n\tloadUser: PropTypes.func.isRequired,\r\n};\r\n/*map state which we want to use with the props */\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.auth.user,\r\n\tupdateErrors: state.auth.updateErrors,\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { updateBookerInfo, loadUser })(\r\n\tProfile\r\n);\r\n","/*Driver Card- Component used to display the available drivers available in the system*/\r\nimport React, { Fragment, useMemo } from 'react';\r\nimport star from './../../images/star.png';\r\nimport { Link } from 'react-router-dom';\r\nexport const ShowProfile = (props) => {\r\n\tconst { dataFromParent } = props.location.state.dataFromParent;\r\n\tconst { typeOfUser } = props.location.state.typeOfUser;\r\n\t/*Destructure the data sent from the parent */\r\n\tconst {\r\n\t\tavailability,\r\n\t\tcarType,\r\n\t\tname,\r\n\t\tlocation,\r\n\t\ttotalTrips,\r\n\t\trating,\r\n\t} = dataFromParent;\r\n\t/*Use availability array to display to the user*/\r\n\tconst availabilityDisplay = availability.map((item, index) => {\r\n\t\tconst date = new Date();\r\n\t\tdate.setDate(date.getDate() - date.getDay() + index);\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t/*Check if driver is available on this day */\r\n\t\tif (item) {\r\n\t\t\treturn (\r\n\t\t\t\t<li key={index} className='fontSize1_5'>\r\n\t\t\t\t\t<h3\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '1rem',\r\n\t\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\t\tbackgroundColor: '#99FF99',\r\n\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tYes\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3>{date.toLocaleDateString()}</h3>\r\n\t\t\t\t</li>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<li key={index} className='fontSize1_5 padding1'>\r\n\t\t\t\t<h3\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tpadding: '1rem',\r\n\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\tbackgroundColor: '#FF6666',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tNo\r\n\t\t\t\t</h3>\r\n\t\t\t\t<h3>{date.toLocaleDateString()}</h3>\r\n\t\t\t</li>\r\n\t\t);\r\n\t});\r\n\tlet img = useMemo(() => {\r\n\t\tif (name) {\r\n\t\t\treturn `https://robohash.org/${name}`;\r\n\t\t}\r\n\t}, [name]);\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div\r\n\t\t\t\tclassName='flexDisplayColumn availabilitySection center alignItemsCenter padding2 shadow'\r\n\t\t\t\tstyle={{ margin: '2rem auto' }}\r\n\t\t\t>\r\n\t\t\t\t<h3 className='fontSize1_5'>\r\n\t\t\t\t\t{typeOfUser === 'driver' ? 'Driver' : 'Helper'} Profile\r\n\t\t\t\t</h3>\r\n\t\t\t\t<section className='flexDisplay padding2 justifyCenter alignItemsStart profileView'>\r\n\t\t\t\t\t<div className='flexDisplayColumn '>\r\n\t\t\t\t\t\t<div id='userImage'>\r\n\t\t\t\t\t\t\t<img className='' src={img} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h2\r\n\t\t\t\t\t\t\tclassName='fontSize1_5 padding2'\r\n\t\t\t\t\t\t\tstyle={{ textAlign: 'center' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className='flexDisplayColumn padding2 '>\r\n\t\t\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400 padding2 '>\r\n\t\t\t\t\t\t\t\t<strong className='fontSize1_5'>Location: </strong>\r\n\t\t\t\t\t\t\t\t{location.charAt(0).toUpperCase() + location.slice(1)}\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400 padding2'>\r\n\t\t\t\t\t\t\t\t<strong className='fontSize1_5'>Total Services: </strong>\r\n\t\t\t\t\t\t\t\t{totalTrips}\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t{typeOfUser === 'driver' ? (\r\n\t\t\t\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400 padding2'>\r\n\t\t\t\t\t\t\t\t\t<strong className='fontSize1_5'>Car Type: </strong>\r\n\t\t\t\t\t\t\t\t\t{carType.toUpperCase()}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h3 className='fontSize1_5 fontWeight400 padding2'>\r\n\t\t\t\t\t\t\t\t\t<strong className='fontSize1_5 '>Availability</strong>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<ul className='flexDisplay flexWrap fontSize1_5 padding1'>\r\n\t\t\t\t\t\t\t\t\t{availabilityDisplay}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='flexDisplayColumn alignItemsStart'>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h3 className='padding2 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t\t\t<strong className=' padding2 fontSize1_5'>Rating :</strong>\r\n\t\t\t\t\t\t\t\t\t<span className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t\t\t\t\t\t{rating} &nbsp;\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<img src={star} style={{ width: '5%' }}></img>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\t\t\tpathname: '/book',\r\n\t\t\t\t\t\t\t\t\tstate: {\r\n\t\t\t\t\t\t\t\t\t\tcity: dataFromParent.location,\r\n\t\t\t\t\t\t\t\t\t\temail: dataFromParent.email,\r\n\t\t\t\t\t\t\t\t\t\ttypeOfUser: typeOfUser,\r\n\t\t\t\t\t\t\t\t\t\tfromURL: false,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName='padding2 '\r\n\t\t\t\t\t\t\t\tstyle={{ alignSelf: 'center' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<button className='btn btn-theme fontSize1_5 '>Book</button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default ShowProfile;\r\n","import axios from 'axios';\r\nimport {\r\n\tPROVIDE_AVAILABILITY,\r\n\tPROVIDE_AVAILABILITY_FAIL,\r\n\tGET_AVAILABILTIY,\r\n\tGET_AVAILABILTIY_FAIL,\r\n\tSEND_BOOKING_PROPOSAL,\r\n\tSEND_BOOKING_PROPOSAL_FAIL,\r\n\tBOOKING_RESPONSE,\r\n\tBOOKING_RESPONSE_FAIL,\r\n\tVIEW_UPCOMING_BOOKINGS,\r\n\tCANCEL_BOOKING,\r\n\tCANCEL_BOOKING_FAIL,\r\n\tPOST_RATING,\r\n\tPOST_RATING_FAIL,\r\n} from './types';\r\n\r\nimport setAuthToken from '../lib/setAuthToken';\r\n\r\n/*Action - provideAVailability - To provide the availability\r\n */\r\nexport const provideAvailability = (data) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tif (localStorage.typeOfUser == 'driver')\r\n\t\t\tres = await axios.put('api/drivers', data, config);\r\n\t\telse if (localStorage.typeOfUser == 'helper')\r\n\t\t\tres = await axios.put('api/helpers', data, config);\r\n\t\tdispatch({\r\n\t\t\ttype: PROVIDE_AVAILABILITY,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: PROVIDE_AVAILABILITY_FAIL,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n\r\n/*Action - getAvailability - To provide the availability\r\n */\r\nexport const getAvailability = () => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tif (localStorage.typeOfUser == 'driver')\r\n\t\t\tres = await axios.get('api/drivers/availability', null, config);\r\n\t\telse if (localStorage.typeOfUser == 'helper')\r\n\t\t\tres = await axios.get('api/helpers/availability', null, config);\r\n\t\tdispatch({\r\n\t\t\ttype: GET_AVAILABILTIY,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: GET_AVAILABILTIY_FAIL,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n\r\n/*Action - bookDriver -TO book a driver\r\n */\r\nexport const bookDriver = (data) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tres = await axios.post('api/bookers/bookDriver', data, config);\r\n\t\tdispatch({\r\n\t\t\ttype: SEND_BOOKING_PROPOSAL,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: SEND_BOOKING_PROPOSAL_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n/*Action - bookhelper -TO book a helper\r\n */\r\nexport const bookHelper = (data) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\tconst config = {\r\n\t\theader: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t};\r\n\ttry {\r\n\t\tlet res;\r\n\t\tres = await axios.post('api/bookers/bookHelper', data, config);\r\n\t\tdispatch({\r\n\t\t\ttype: SEND_BOOKING_PROPOSAL,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: SEND_BOOKING_PROPOSAL_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n\r\n/*Action - bookingReponse -to accept or reject the booking request\r\n */\r\nexport const bookingResponse = (data) => async (dispatch) => {\r\n\ttry {\r\n\t\tconsole.log(data.id, data.accept);\r\n\t\tlet res;\r\n\t\tif (String(data.typeOfUser).toLowerCase() == 'driver')\r\n\t\t\tres = await axios.put(\r\n\t\t\t\t`/api/drivers/bookingProposal/${data.id}/${data.accept}`\r\n\t\t\t);\r\n\t\telse\r\n\t\t\tres = await axios.put(\r\n\t\t\t\t`/api/helpers/bookingProposal/${data.id}/${data.accept}`\r\n\t\t\t);\r\n\t\tdispatch({\r\n\t\t\ttype: BOOKING_RESPONSE,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tconsole.log(err.response);\r\n\t\tdispatch({\r\n\t\t\ttype: BOOKING_RESPONSE_FAIL,\r\n\t\t\tpayload: err.response.data.errors,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n\r\n/*Action - getUpComingBookings -to get the upcoming bookings\r\n */\r\nexport const getUpComingBookings = () => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\t\tlet res;\r\n\t\tif (localStorage.typeOfUser == 'booker')\r\n\t\t\tres = await axios.get('api/bookers/futureBookings', null, config);\r\n\t\telse if (localStorage.typeOfUser == 'driver')\r\n\t\t\tres = await axios.get('api/drivers/futureBookings', null, config);\r\n\t\telse if ((localStorage.typeOfUser = 'helper'))\r\n\t\t\tres = await axios.get('api/helpers/futureBookings', null, config);\r\n\t\tdispatch({\r\n\t\t\ttype: VIEW_UPCOMING_BOOKINGS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {}\r\n};\r\n\r\n/*Action - cancelBooking -to cancel an upcoming booking\r\n */\r\nexport const cancelBooking = (id, bookerEmail) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tlet res;\r\n\t\tif (localStorage.typeOfUser == 'booker')\r\n\t\t\tres = await axios.get(`/api/bookers/cancelBooking/${id}`);\r\n\t\telse if (localStorage.typeOfUser == 'driver')\r\n\t\t\tres = await axios.post(\r\n\t\t\t\t`/api/drivers/cancelBooking/${id}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tbookerEmail,\r\n\t\t\t\t},\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\t\tif (localStorage.typeOfUser == 'helper')\r\n\t\t\tres = await axios.post(\r\n\t\t\t\t`/api/helpers/cancelBooking/${id}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tbookerEmail,\r\n\t\t\t\t},\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\t\tdispatch({\r\n\t\t\ttype: CANCEL_BOOKING,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: CANCEL_BOOKING_FAIL,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n\r\n/*Action - postRating -to cancel an upcoming booking\r\n */\r\nexport const postRating = (id, rating) => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst res = await axios.post(`api/bookers/rate/${id}/${rating}`);\r\n\t\tdispatch({\r\n\t\t\ttype: POST_RATING,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(res);\r\n\t\t});\r\n\t\treturn promise;\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: POST_RATING_FAIL,\r\n\t\t});\r\n\t\tvar promise = new Promise((resolve) => {\r\n\t\t\tresolve(err.response);\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n};\r\n","import axios from 'axios';\r\nimport { GET_BOOKINGS } from './types';\r\nimport setAuthToken from '../lib/setAuthToken';\r\n/*Action - getBookings - To fetch the bookigns from database based on the user logged in\r\n */\r\nexport const getPreviousBookings = () => async (dispatch) => {\r\n\tif (localStorage.jwt && localStorage.typeOfUser) {\r\n\t\tsetAuthToken(localStorage.jwt);\r\n\t}\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst res = await axios.get('api/bookers/bookings', null, config);\r\n\t\tdispatch({\r\n\t\t\ttype: GET_BOOKINGS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {}\r\n};\r\n","import React, { useState } from 'react';\r\nimport {\r\n\tcancelBooking,\r\n\tgetUpComingBookings,\r\n\tpostRating,\r\n} from './../../actions/booking';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { getPreviousBookings } from '../../actions/bookers';\r\nexport const BookingsCard = ({\r\n\tbooking,\r\n\tdataFromParent,\r\n\tcancelBooking,\r\n\tpostRating,\r\n\tgetPreviousBookings,\r\n\tgetUpComingBookings,\r\n}) => {\r\n\t//dataFromParent = > false - from previous bookings\r\n\t//\ttrue - from upcoming bookings\r\n\t//rating section from 1 to 5\r\n\tconst rates = [1, 2, 3, 4, 5];\r\n\tconst [rating, setRating] = useState(rates[rates.length - 1]);\r\n\tconst deleteBooking = () => {\r\n\t\tcancelBooking(String(booking._id), booking.bookerEmail).then((res) => {\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tgetUpComingBookings();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst postReview = () => {\r\n\t\tpostRating(String(booking._id), rating).then((res) => {\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tgetPreviousBookings();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst updateData = (e) => {\r\n\t\tsetRating(e.target.value);\r\n\t};\r\n\tconst giveRating = (\r\n\t\t<div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 alignItemsCenter padding2'>\r\n\t\t\t\t<label htmlFor='rating' className='fontWeight500 '>\r\n\t\t\t\t\tRating\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='rating'\r\n\t\t\t\t\tid='rating'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\tstyle={{ width: '50px' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{rates.map((rate) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={rate}\r\n\t\t\t\t\t\t\tvalue={rate}\r\n\t\t\t\t\t\t\tname='carType'\r\n\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{rate}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme flexDisplay center'\r\n\t\t\t\t\tvalue='Post Rating'\r\n\t\t\t\t\tonClick={postReview}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\treturn (\r\n\t\t<section className='flexDisplayColumn cardContainer padding2 pointer'>\r\n\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t<strong className='fontSize2_5'>\r\n\t\t\t\t\t{booking.driverEmail ? 'Driver' : 'Helper'}\r\n\t\t\t\t</strong>\r\n\t\t\t</h3>\r\n\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t<strong className='fontSize1_5'>Name: </strong>{' '}\r\n\t\t\t\t{booking.driverName ? booking.driverName : booking.helperName}\r\n\t\t\t</h3>\r\n\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t<strong className='fontSize1_5'>Date: </strong>\r\n\t\t\t\t{booking.date.split('T')[0]}\r\n\t\t\t</h3>\r\n\t\t\t{booking.carType ? (\r\n\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t<strong className='fontSize1_5'>Car Type: </strong>\r\n\t\t\t\t\t{booking.carType}\r\n\t\t\t\t</h3>\r\n\t\t\t) : null}\r\n\t\t\t<div>\r\n\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t<strong className='fontSize1_5 '>Pick up: </strong>{' '}\r\n\t\t\t\t\t{`${booking.pickUp.number} ${booking.pickUp.street}, ${booking.pickUp.city}, ${booking.pickUp.province}, ${booking.pickUp.zipCode}`}\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t<strong className='fontSize1_5 '>Drop up: </strong>\r\n\t\t\t\t\t{`${booking.drop.number} ${booking.drop.street}, ${booking.drop.city}, ${booking.drop.province}, ${booking.drop.zipCode}`}\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t<strong className='fontSize1_5 '>Purpose: </strong> {booking.motive}\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t\t{dataFromParent ? (\r\n\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-danger flexDisplay center'\r\n\t\t\t\t\t\tvalue='Cancel Booking'\r\n\t\t\t\t\t\tonClick={deleteBooking}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t) : booking.rated ? (\r\n\t\t\t\t<h3 className='fontSize1_5 fontWeight400'>\r\n\t\t\t\t\t<strong className='fontSize1_5'>Rating: </strong>\r\n\t\t\t\t\t{booking.rating}\r\n\t\t\t\t</h3>\r\n\t\t\t) : (\r\n\t\t\t\tgiveRating\r\n\t\t\t)}\r\n\t\t</section>\r\n\t);\r\n};\r\nBookingsCard.propTypes = {\r\n\tcancelBooking: PropTypes.func.isRequired,\r\n\tpostRating: PropTypes.func.isRequired,\r\n\tgetPreviousBookings: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, {\r\n\tcancelBooking,\r\n\tpostRating,\r\n\tgetPreviousBookings,\r\n\tgetUpComingBookings,\r\n})(BookingsCard);\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport BookingsCard from './BookingsCard';\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nimport { getPreviousBookings } from '../../actions/bookers';\r\nimport { getUpComingBookings } from '../../actions/booking';\r\nexport const Bookings = ({\r\n\tgetPreviousBookings,\r\n\tpreviousBookings,\r\n\tisAuthenticated,\r\n\tgetUpComingBookings,\r\n\tfutureBookings,\r\n}) => {\r\n\tconst [showPreviousBookings, setShowPreviousBookings] = useState(false);\r\n\tconst [mount, setMount] = useState(false);\r\n\tconst changeBookingsState = (e) => {\r\n\t\tif (e.target.id === 'prevBookings') {\r\n\t\t\tsetActiveLink(true);\r\n\t\t\tsetShowPreviousBookings(true);\r\n\t\t\tgetPreviousBookings();\r\n\t\t} else {\r\n\t\t\tsetActiveLink(false);\r\n\t\t\tsetShowPreviousBookings(false);\r\n\t\t\tgetUpComingBookings();\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tsetMount(true);\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tif (mount) setActiveLink(showPreviousBookings);\r\n\t}, [mount]);\r\n\r\n\tconst setActiveLink = (value) => {\r\n\t\tif (value) {\r\n\t\t\tdocument.getElementById('prevBookings').classList.add('btn-active');\r\n\t\t\tdocument\r\n\t\t\t\t.getElementById('upcomingBookings')\r\n\t\t\t\t.classList.remove('btn-active');\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('upcomingBookings').classList.add('btn-active');\r\n\t\t\tif (localStorage.typeOfUser == 'booker')\r\n\t\t\t\tdocument.getElementById('prevBookings').classList.remove('btn-active');\r\n\t\t}\r\n\t};\r\n\tconst buttons = (\r\n\t\t<div className='flexDisplay justifyCenter'>\r\n\t\t\t{localStorage.typeOfUser == 'booker' ? (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn fontSize1_5 margin2 btn-theme colorWhite'\r\n\t\t\t\t\tid='prevBookings'\r\n\t\t\t\t\tonClick={changeBookingsState}\r\n\t\t\t\t>\r\n\t\t\t\t\tPrevious Bookings\r\n\t\t\t\t</button>\r\n\t\t\t) : null}\r\n\t\t\t<button\r\n\t\t\t\tclassName='btn fontSize1_5 margin2 btn-theme colorWhite'\r\n\t\t\t\tid='upcomingBookings'\r\n\t\t\t\tonClick={changeBookingsState}\r\n\t\t\t>\r\n\t\t\t\tUpcoming Bookings\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n\t/*Display the  previous booking to the user if there were any fetched form the database*/\r\n\tconst prevBookings =\r\n\t\tpreviousBookings != null &&\r\n\t\tpreviousBookings.length > 0 &&\r\n\t\tpreviousBookings.map((booking, index) => {\r\n\t\t\tif (booking)\r\n\t\t\t\t/*If the booking is present then show it to the user by sending data to the Booking Card */\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<BookingsCard\r\n\t\t\t\t\t\tkey={booking._id}\r\n\t\t\t\t\t\tbooking={booking}\r\n\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\tdataFromParent={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t});\r\n\t/*Display the  future booking to the user if there were any fetched form the database*/\r\n\tconst upcomingBookings =\r\n\t\tfutureBookings != null &&\r\n\t\tfutureBookings.length > 0 &&\r\n\t\tfutureBookings.map((booking, index) => {\r\n\t\t\tif (booking)\r\n\t\t\t\t/*If the booking is present then show it to the user by sending data to the Booking Card */\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<BookingsCard\r\n\t\t\t\t\t\tkey={booking._id}\r\n\t\t\t\t\t\tbooking={booking}\r\n\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\tdataFromParent={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t});\r\n\r\n\treturn !isAuthenticated ? (\r\n\t\t<Redirect to='/' />\r\n\t) : (\r\n\t\t<Fragment>\r\n\t\t\t<section className='flexDisplayColumn justifyCenter padding2'>\r\n\t\t\t\t{buttons}\r\n\t\t\t\t{showPreviousBookings ? (\r\n\t\t\t\t\tprevBookings ? (\r\n\t\t\t\t\t\tprevBookings\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName='fontSize2_5'\r\n\t\t\t\t\t\t\tstyle={{ display: 'block', margin: '2rem auto' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStart booking a service!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t) : upcomingBookings ? (\r\n\t\t\t\t\tupcomingBookings\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='fontSize2_5'\r\n\t\t\t\t\t\tstyle={{ display: 'block', margin: '2rem auto' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tStart booking a service!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</section>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nBookings.propTypes = {\r\n\tgetPreviousBookings: PropTypes.func.isRequired,\r\n\tgetUpComingBookings: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\tpreviousBookings: state.bookers.previousBookings,\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n\tfutureBookings: state.booking.bookings,\r\n});\r\nexport default connect(mapStateToProps, {\r\n\tgetPreviousBookings,\r\n\tgetUpComingBookings,\r\n})(Bookings);\r\n","import React, { Fragment, useEffect, useMemo, useState } from 'react';\r\nimport star from './../../images/star.png';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from './../layout/Loader';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DeleteModal from './../common/DeleteModal';\r\nimport { vehicleTypes } from './../../lib/vehicleTypes';\r\nimport { cities } from './../../lib/servicableAreas';\r\n//Redux\r\nimport { updateDriverInfo, loadUser } from './../../actions/auth';\r\nimport { connect } from 'react-redux';\r\nimport UpdatePassword from '../common/UpdatePassword';\r\n\r\nexport const Profile = ({\r\n\tuser,\r\n\tupdateDriverInfo,\r\n\tupdateErrors,\r\n\tloadUser,\r\n\tisAuthenticated,\r\n}) => {\r\n\t/*State to store the data from the udpate form  */\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\tlocation: '',\r\n\t\tdrivingExperience: '',\r\n\t\tcarType: '',\r\n\t});\r\n\t/*State to store whether we are showing Editable fields or non editable fields */\r\n\tconst [editingInfo, setEditingInfo] = useState(false);\r\n\t/*State to store the errors which are updated on form submission  */\r\n\tconst [messages, setMessages] = useState({\r\n\t\temail: '',\r\n\t\tlocation: '',\r\n\t\tdrivingExperience: '',\r\n\t\tcarType: '',\r\n\t\totherError: '',\r\n\t});\r\n\t/*State to check if the page needs to show the loader or not */\r\n\tconst [loader, setLoader] = useState(false);\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\t/*State to load the delete account modal*/\r\n\tconst [deleteModal, setDeleteModal] = useState(false);\r\n\tconst messagesHack = {\r\n\t\temail: '',\r\n\t\tlocation: '',\r\n\t\tdrivingExperience: '',\r\n\t\tcarType: '',\r\n\t\totherError: '',\r\n\t};\r\n\r\n\t/*method to trigger the loader */\r\n\tconst triggerLoader = () => {\r\n\t\tsetLoader(true);\r\n\t};\r\n\t/*To check if page is done loading then redirect to home screen*/\r\n\tif (loader) {\r\n\t\tsetTimeout(() => setRedirect(true), 5000);\r\n\t}\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\tlet img = useMemo(() => {\r\n\t\tif (user) {\r\n\t\t\treturn `https://robohash.org/${user.name}`;\r\n\t\t}\r\n\t}, [user]);\r\n\t/*useEffect */\r\n\tuseEffect(() => {\r\n\t\tif (user && !editingInfo) {\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: user.email ? user.email : '',\r\n\t\t\t\tlocation: user.location ? user.location : '',\r\n\t\t\t\tdrivingExperience: user.drivingExperience ? user.drivingExperience : '',\r\n\t\t\t\tcarType: user.carType ? user.carType : '',\r\n\t\t\t});\r\n\t\t} else if (editingInfo && formData) {\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: formData.email ? formData.email : '',\r\n\t\t\t\tlocation: formData.location ? formData.location : '',\r\n\t\t\t\tdrivingExperience: formData.drivingExperience\r\n\t\t\t\t\t? formData.drivingExperience\r\n\t\t\t\t\t: '',\r\n\t\t\t\tcarType: formData.carType ? formData.carType : '',\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (updateErrors) {\r\n\t\t\tupdateErrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetMessages(messagesHack);\r\n\t\t} else if (!updateErrors && editingInfo) {\r\n\t\t\tcancelEditing();\r\n\t\t\t//Display the success message\r\n\t\t\tconst messageBox = document.getElementById('otherError').nextSibling;\r\n\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\tsetMessages({\r\n\t\t\t\t...messages,\r\n\t\t\t\temail: '',\r\n\t\t\t\tlocation: '',\r\n\t\t\t\tdrivingExperience: '',\r\n\t\t\t\tcarType: '',\r\n\t\t\t\totherError: 'Updated Successfully!',\r\n\t\t\t});\r\n\t\t}\r\n\t}, [user, updateErrors]);\r\n\t/*method to display the editable fields and hide non editablefields */\r\n\tconst editOrConfirm = () => {\r\n\t\thideErrors();\r\n\t\tif (!editingInfo) {\r\n\t\t\t//if button shows 'Edit' text hide non editable fields and show editable fields\r\n\t\t\tconst nonEditables = document.getElementsByClassName(\r\n\t\t\t\t'nonEditableFieldSet'\r\n\t\t\t);\r\n\t\t\tlet i;\r\n\t\t\tfor (i = 0; i < nonEditables.length; i++) {\r\n\t\t\t\tnonEditables[i].classList.add('displayNone');\r\n\t\t\t\tnonEditables[i].classList.remove('displayBlock');\r\n\t\t\t}\r\n\t\t\tconst editables = document.getElementsByClassName('editableFieldSet');\r\n\t\t\tfor (i = 0; i < editables.length; i++) {\r\n\t\t\t\teditables[i].classList.remove('displayNone');\r\n\t\t\t\teditables[i].classList.add('displayBlock');\r\n\t\t\t}\r\n\t\t\tsetEditingInfo(true);\r\n\t\t}\r\n\r\n\t\tif (editingInfo) {\r\n\t\t\tupdateDriverInfo(formData).then(() => {\r\n\t\t\t\tloadUser();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst cancel = () => {\r\n\t\thideErrors();\r\n\t\tcancelEditing();\r\n\t\tif (user)\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: user.email ? user.email : '',\r\n\t\t\t\tlocation: user.location ? user.location : '',\r\n\t\t\t\tdrivingExperience: user.drivingExperience ? user.drivingExperience : '',\r\n\t\t\t\tcarType: user.carType ? user.carType : '',\r\n\t\t\t});\r\n\t};\r\n\tconst cancelEditing = () => {\r\n\t\tif (editingInfo) {\r\n\t\t\t//if button shows 'Cancel' text show non editable fields and hide editable fields\r\n\t\t\tconst nonEditables = document.getElementsByClassName(\r\n\t\t\t\t'nonEditableFieldSet'\r\n\t\t\t);\r\n\t\t\tlet i;\r\n\t\t\tfor (i = 0; i < nonEditables.length; i++) {\r\n\t\t\t\tnonEditables[i].classList.add('displayBlock');\r\n\t\t\t\tnonEditables[i].classList.remove('displayNone');\r\n\t\t\t}\r\n\t\t\tconst editables = document.getElementsByClassName('editableFieldSet');\r\n\t\t\tfor (i = 0; i < editables.length; i++) {\r\n\t\t\t\teditables[i].classList.remove('displayBlock');\r\n\t\t\t\teditables[i].classList.add('displayNone');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetEditingInfo(false);\r\n\t};\r\n\t/*Method to update the form data when user changes any data on the page */\r\n\tconst updateFormData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\t/*Update the deleteModal state to open the modal screen */\r\n\tconst openDeleteModal = () => {\r\n\t\tsetDeleteModal(true);\r\n\t};\r\n\t/*Update the deleteModal state to close the modal screen */\r\n\tconst closeDeleteModal = () => {\r\n\t\tsetDeleteModal(false);\r\n\t};\r\n\treturn !isAuthenticated || redirect ? (\r\n\t\t<Redirect to='/' />\r\n\t) : deleteModal ? (\r\n\t\t<DeleteModal id='deleteModal' cancelModal={closeDeleteModal} />\r\n\t) : loader ? (\r\n\t\t<Loader msg='Password changed! Please login again.' />\r\n\t) : (\r\n\t\t<Fragment>\r\n\t\t\t<div\r\n\t\t\t\tclassName='fontSize2_5 padding1 flexDisplay justifyCenter'\r\n\t\t\t\tid='profileTitle'\r\n\t\t\t>\r\n\t\t\t\tProfile\r\n\t\t\t</div>\r\n\t\t\t<section className='flexDisplay padding2 justifyCenter alignItemsStart updateForm'>\r\n\t\t\t\t<div className='flexDisplayColumn '>\r\n\t\t\t\t\t<div id='userImage'>\r\n\t\t\t\t\t\t<img className='' src={img} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h2 className='fontSize1_5 padding2' style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t{user ? user.name : ''}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flexDisplayColumn'>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label htmlFor='email' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user ? user.email : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tvalue={formData ? formData.email : ''}\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.email}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t\t<label htmlFor='carType' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tCar Type\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user ? user.carType.toUpperCase() : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname='carType'\r\n\t\t\t\t\t\t\tid='carType'\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\tvalue={formData ? formData.carType : ''}\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{vehicleTypes.map((vehicleType) => {\r\n\t\t\t\t\t\t\t\tif (!vehicleType.disabled)\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\tkey={vehicleType.value}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={vehicleType.value}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{vehicleType.label}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.carType}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='drivingExperience'\r\n\t\t\t\t\t\t\tclassName='fontWeight500 padding1'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDriving Experience\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user ? user.drivingExperience : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tname='drivingExperience'\r\n\t\t\t\t\t\t\tid='drivingExperience'\r\n\t\t\t\t\t\t\tvalue={formData ? formData.drivingExperience : ''}\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.drivingExperience}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t\t<label htmlFor='location' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tLocation\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user\r\n\t\t\t\t\t\t\t\t? user.location.charAt(0).toUpperCase() + user.location.slice(1)\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname='location'\r\n\t\t\t\t\t\t\tid='location'\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\tvalue={formData ? formData.location : ''}\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cities.map((city) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\tkey={city.value}\r\n\t\t\t\t\t\t\t\t\t\tvalue={city.value}\r\n\t\t\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\t\t\tdisabled={city.disabled}\r\n\t\t\t\t\t\t\t\t\t\tname='location'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{city.label}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.location}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id='otherError'></div>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorSuccess margin1_0'>\r\n\t\t\t\t\t\t{messages.otherError}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<div className='flexDisplay'>\r\n\t\t\t\t\t\t<div className='padding2'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme'\r\n\t\t\t\t\t\t\t\tvalue={!editingInfo ? 'Edit' : 'Confirm'}\r\n\t\t\t\t\t\t\t\tonClick={editOrConfirm}\r\n\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tclassName='btn colorDanger padding1 fontSize1_5 btn-danger displayNone editableFieldSet'\r\n\t\t\t\t\t\t\t\tvalue='Cancel'\r\n\t\t\t\t\t\t\t\tonClick={cancel}\r\n\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<UpdatePassword triggerLoader={triggerLoader} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tRating\r\n\t\t\t\t\t\t\t<em className='fontSize0_5'>(provided by bookers) </em>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t{user ? user.rating : ''} &nbsp;\r\n\t\t\t\t\t\t\t<img src={star} style={{ width: '10%' }}></img>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label className='fontWeight500 padding1'>Services booked</label>\r\n\t\t\t\t\t\t<div className='padding1 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t{user ? user.totalTrips : ''} &nbsp;\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='btn colorDanger padding1 fontSize1_5 btn-danger'\r\n\t\t\t\t\t\t\tvalue='Delete Account'\r\n\t\t\t\t\t\t\tonClick={openDeleteModal}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nProfile.propTypes = {\r\n\tupdateDriverInfo: PropTypes.func.isRequired,\r\n\tloadUser: PropTypes.func.isRequired,\r\n};\r\n/*map state which we want to use with the props */\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.auth.user,\r\n\tupdateErrors: state.auth.updateErrors,\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { updateDriverInfo, loadUser })(\r\n\tProfile\r\n);\r\n","import React, { Fragment, useEffect, useMemo, useState } from 'react';\r\nimport star from './../../images/star.png';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from './../layout/Loader';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DeleteModal from './../common/DeleteModal';\r\nimport { cities } from './../../lib/servicableAreas';\r\n//Redux\r\nimport { updateHelperInfo, loadUser } from './../../actions/auth';\r\nimport { connect } from 'react-redux';\r\nimport UpdatePassword from '../common/UpdatePassword';\r\n\r\nexport const Profile = ({\r\n\tuser,\r\n\tupdateHelperInfo,\r\n\tupdateErrors,\r\n\tloadUser,\r\n\tisAuthenticated,\r\n}) => {\r\n\t/*State to store the data from the udpate form  */\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\tlocation: '',\r\n\t});\r\n\t/*State to store whether we are showing Editable fields or non editable fields */\r\n\tconst [editingInfo, setEditingInfo] = useState(false);\r\n\t/*State to store the errors which are updated on form submission  */\r\n\tconst [messages, setMessages] = useState({\r\n\t\temail: '',\r\n\t\tlocation: '',\r\n\t\totherError: '',\r\n\t});\r\n\t/*State to check if the page needs to show the loader or not */\r\n\tconst [loader, setLoader] = useState(false);\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\t/*State to load the delete account modal*/\r\n\tconst [deleteModal, setDeleteModal] = useState(false);\r\n\tconst messagesHack = {\r\n\t\temail: '',\r\n\t\tlocation: '',\r\n\t\totherError: '',\r\n\t};\r\n\r\n\t/*method to trigger the loader */\r\n\tconst triggerLoader = () => {\r\n\t\tsetLoader(true);\r\n\t};\r\n\t/*To check if page is done loading then redirect to home screen*/\r\n\tif (loader) {\r\n\t\tsetTimeout(() => setRedirect(true), 5000);\r\n\t}\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\tlet img = useMemo(() => {\r\n\t\tif (user) {\r\n\t\t\treturn `https://robohash.org/${user.name}`;\r\n\t\t}\r\n\t}, [user]);\r\n\t/*useEffect */\r\n\tuseEffect(() => {\r\n\t\tif (user && !editingInfo) {\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: user.email ? user.email : '',\r\n\t\t\t\tlocation: user.location ? user.location : '',\r\n\t\t\t});\r\n\t\t} else if (editingInfo && formData) {\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: formData.email ? formData.email : '',\r\n\t\t\t\tlocation: formData.location ? formData.location : '',\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (updateErrors) {\r\n\t\t\tupdateErrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetMessages(messagesHack);\r\n\t\t} else if (!updateErrors && editingInfo) {\r\n\t\t\tcancelEditing();\r\n\t\t\t//Display the success message\r\n\t\t\tconst messageBox = document.getElementById('otherError').nextSibling;\r\n\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\tsetMessages({\r\n\t\t\t\t...messages,\r\n\t\t\t\temail: '',\r\n\t\t\t\tlocation: '',\r\n\t\t\t\totherError: 'Updated Successfully!',\r\n\t\t\t});\r\n\t\t}\r\n\t}, [user, updateErrors]);\r\n\t/*method to display the editable fields and hide non editablefields */\r\n\tconst editOrConfirm = () => {\r\n\t\thideErrors();\r\n\t\tif (!editingInfo) {\r\n\t\t\t//if button shows 'Edit' text hide non editable fields and show editable fields\r\n\t\t\tconst nonEditables = document.getElementsByClassName(\r\n\t\t\t\t'nonEditableFieldSet'\r\n\t\t\t);\r\n\t\t\tlet i;\r\n\t\t\tfor (i = 0; i < nonEditables.length; i++) {\r\n\t\t\t\tnonEditables[i].classList.add('displayNone');\r\n\t\t\t\tnonEditables[i].classList.remove('displayBlock');\r\n\t\t\t}\r\n\t\t\tconst editables = document.getElementsByClassName('editableFieldSet');\r\n\t\t\tfor (i = 0; i < editables.length; i++) {\r\n\t\t\t\teditables[i].classList.remove('displayNone');\r\n\t\t\t\teditables[i].classList.add('displayBlock');\r\n\t\t\t}\r\n\t\t\tsetEditingInfo(true);\r\n\t\t}\r\n\r\n\t\tif (editingInfo) {\r\n\t\t\tupdateHelperInfo(formData).then(() => {\r\n\t\t\t\tloadUser();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst cancel = () => {\r\n\t\thideErrors();\r\n\t\tcancelEditing();\r\n\t\tif (user)\r\n\t\t\tsetFormData({\r\n\t\t\t\t...formData,\r\n\t\t\t\temail: user.email ? user.email : '',\r\n\t\t\t\tlocation: user.location ? user.location : '',\r\n\t\t\t\tdrivingExperience: user.drivingExperience ? user.drivingExperience : '',\r\n\t\t\t\tcarType: user.carType ? user.carType : '',\r\n\t\t\t});\r\n\t};\r\n\tconst cancelEditing = () => {\r\n\t\tif (editingInfo) {\r\n\t\t\t//if button shows 'Cancel' text show non editable fields and hide editable fields\r\n\t\t\tconst nonEditables = document.getElementsByClassName(\r\n\t\t\t\t'nonEditableFieldSet'\r\n\t\t\t);\r\n\t\t\tlet i;\r\n\t\t\tfor (i = 0; i < nonEditables.length; i++) {\r\n\t\t\t\tnonEditables[i].classList.add('displayBlock');\r\n\t\t\t\tnonEditables[i].classList.remove('displayNone');\r\n\t\t\t}\r\n\t\t\tconst editables = document.getElementsByClassName('editableFieldSet');\r\n\t\t\tfor (i = 0; i < editables.length; i++) {\r\n\t\t\t\teditables[i].classList.remove('displayBlock');\r\n\t\t\t\teditables[i].classList.add('displayNone');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetEditingInfo(false);\r\n\t};\r\n\t/*Method to update the form data when user changes any data on the page */\r\n\tconst updateFormData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\t/*Update the deleteModal state to open the modal screen */\r\n\tconst openDeleteModal = () => {\r\n\t\tsetDeleteModal(true);\r\n\t};\r\n\t/*Update the deleteModal state to close the modal screen */\r\n\tconst closeDeleteModal = () => {\r\n\t\tsetDeleteModal(false);\r\n\t};\r\n\treturn !isAuthenticated || redirect ? (\r\n\t\t<Redirect to='/' />\r\n\t) : deleteModal ? (\r\n\t\t<DeleteModal id='deleteModal' cancelModal={closeDeleteModal} />\r\n\t) : loader ? (\r\n\t\t<Loader msg='Password changed! Please login again.' />\r\n\t) : (\r\n\t\t<Fragment>\r\n\t\t\t<div\r\n\t\t\t\tclassName='fontSize2_5 padding1 flexDisplay justifyCenter'\r\n\t\t\t\tid='profileTitle'\r\n\t\t\t>\r\n\t\t\t\tProfile\r\n\t\t\t</div>\r\n\t\t\t<section className='flexDisplay padding2 justifyCenter alignItemsStart updateForm'>\r\n\t\t\t\t<div className='flexDisplayColumn '>\r\n\t\t\t\t\t<div id='userImage'>\r\n\t\t\t\t\t\t<img className='' src={img} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h2 className='fontSize1_5 padding2' style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t{user ? user.name : ''}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flexDisplayColumn'>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label htmlFor='email' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user ? user.email : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tvalue={formData ? formData.email : ''}\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.email}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t\t<label htmlFor='location' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tLocation\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 nonEditableFieldSet'>\r\n\t\t\t\t\t\t\t{user\r\n\t\t\t\t\t\t\t\t? user.location.charAt(0).toUpperCase() + user.location.slice(1)\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname='location'\r\n\t\t\t\t\t\t\tid='location'\r\n\t\t\t\t\t\t\tclassName='padding1 displayNone editableFieldSet'\r\n\t\t\t\t\t\t\tvalue={formData ? formData.location : ''}\r\n\t\t\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{cities.map((city) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\tkey={city.value}\r\n\t\t\t\t\t\t\t\t\t\tvalue={city.value}\r\n\t\t\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\t\t\tdisabled={city.disabled}\r\n\t\t\t\t\t\t\t\t\t\tname='location'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{city.label}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t\t{messages.location}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id='otherError'></div>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorSuccess margin1_0'>\r\n\t\t\t\t\t\t{messages.otherError}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<div className='flexDisplay'>\r\n\t\t\t\t\t\t<div className='padding2'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme'\r\n\t\t\t\t\t\t\t\tvalue={!editingInfo ? 'Edit' : 'Confirm'}\r\n\t\t\t\t\t\t\t\tonClick={editOrConfirm}\r\n\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tclassName='btn colorDanger padding1 fontSize1_5 btn-danger displayNone editableFieldSet'\r\n\t\t\t\t\t\t\t\tvalue='Cancel'\r\n\t\t\t\t\t\t\t\tonClick={cancel}\r\n\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<UpdatePassword triggerLoader={triggerLoader} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label className='fontWeight500 padding1'>\r\n\t\t\t\t\t\t\tRating\r\n\t\t\t\t\t\t\t<em className='fontSize0_5'>(provided by bookers) </em>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div className='padding1 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t{user ? user.rating : ''} &nbsp;\r\n\t\t\t\t\t\t\t<img src={star} style={{ width: '10%' }}></img>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flexDisplayColumn fontSize2_5 padding2 '>\r\n\t\t\t\t\t\t<label className='fontWeight500 padding1'>Services booked</label>\r\n\t\t\t\t\t\t<div className='padding1 flexDisplay alignItemsCenter'>\r\n\t\t\t\t\t\t\t{user ? user.numberOfServices : ''} &nbsp;\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='btn colorDanger padding1 fontSize1_5 btn-danger'\r\n\t\t\t\t\t\t\tvalue='Delete Account'\r\n\t\t\t\t\t\t\tonClick={openDeleteModal}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nProfile.propTypes = {\r\n\tupdateHelperInfo: PropTypes.func.isRequired,\r\n\tloadUser: PropTypes.func.isRequired,\r\n};\r\n/*map state which we want to use with the props */\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.auth.user,\r\n\tupdateErrors: state.auth.updateErrors,\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { updateHelperInfo, loadUser })(\r\n\tProfile\r\n);\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n//Redux\r\nimport { connect } from 'react-redux';\r\nimport { forgotPassword } from './../../actions/auth';\r\n\r\nexport const ForgotPasswordModal = ({\r\n\tforgotPassword,\r\n\tforgotPasswordErrors,\r\n}) => {\r\n\t/*State to store the email id that will be entered by the user*/\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\ttypeOfUser: 'booker',\r\n\t});\r\n\t/*State to update the error messages */\r\n\tconst [messages, setMessages] = useState({\r\n\t\temail: '',\r\n\t\tmsg: '',\r\n\t\tsuccessMsg: '',\r\n\t});\r\n\tconst messagesHack = {\r\n\t\temail: '',\r\n\t\tmsg: '',\r\n\t\tsuccessMsg: '',\r\n\t};\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (forgotPasswordErrors) {\r\n\t\t\tforgotPasswordErrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetMessages(messagesHack);\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\thideErrors();\r\n\t\t};\r\n\t}, [forgotPasswordErrors]);\r\n\tconst updateData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst sendData = () => {\r\n\t\thideErrors();\r\n\t\tforgotPassword(formData).then((result) => {\r\n\t\t\tif (result.status == 200) {\r\n\t\t\t\tconst messageBox = document.getElementById('successMsg').nextSibling;\r\n\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\tsetMessages({\r\n\t\t\t\t\t...messages,\r\n\t\t\t\t\tsuccessMsg: 'Email sent to change the password',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<section id='modalBox' className=' flexDisplay alignItemsCenter'>\r\n\t\t\t<div\r\n\t\t\t\tid='modalHolder'\r\n\t\t\t\tclassName='flexDisplayColumn justifyCenter alignItemCenter center padding2'\r\n\t\t\t>\r\n\t\t\t\t<h2 className='fontSize1_5 padding1'>Enter registered email</h2>\r\n\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding1'>\r\n\t\t\t\t\t<label htmlFor='email' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tEmail\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tvalue={formData.email}\r\n\t\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t{messages.email}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='fieldSet fontSize2_5 padding2'>\r\n\t\t\t\t\t<label className='fontWeight500 padding1 displayBlock'>\r\n\t\t\t\t\t\tType of Account\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tvalue='booker'\r\n\t\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\t\tdefaultChecked\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<label htmlFor='booker' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tBooker\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tvalue='driver'\r\n\t\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<label htmlFor='driver' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tDriver\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\tname='typeOfUser'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\t\tvalue='helper'\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<label htmlFor='helper' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tHelper\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id='msg'></div>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t{messages.msg}\r\n\t\t\t\t</h5>\r\n\r\n\t\t\t\t<div id='successMsg'></div>\r\n\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorSuccess displayNone margin1_0'>\r\n\t\t\t\t\t{messages.successMsg}\r\n\t\t\t\t</h5>\r\n\t\t\t\t<div className='flexDisplay'>\r\n\t\t\t\t\t<div className='padding2'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme'\r\n\t\t\t\t\t\t\tvalue='Send'\r\n\t\t\t\t\t\t\tonClick={sendData}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto='/login'\r\n\t\t\t\t\t\tclassName='fontSize2_5 navBarLinks padding2 '\r\n\t\t\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div type='submit' className='btn padding1 fontSize1_5 btn-danger'>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nForgotPasswordModal.propTypes = {\r\n\tforgotPassword: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tforgotPasswordErrors: state.auth.forgotPasswordErrors,\r\n});\r\nexport default connect(mapStateToProps, { forgotPassword })(\r\n\tForgotPasswordModal\r\n);\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//redux\r\nimport { connect } from 'react-redux';\r\nimport { changePassword } from './../../actions/auth';\r\nexport const ChangePassword = (props) => {\r\n\tconst id = props.match.params.id;\r\n\tconst changePassword = props.changePassword;\r\n\tconst errors = props.changePasswordErrors;\r\n\tconst [formData, setFormData] = useState({\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t});\r\n\t/*State to update the error messages */\r\n\tconst [messages, setMessages] = useState({\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t\tmsg: '',\r\n\t\totherError: '',\r\n\t});\r\n\tconst messagesHack = {\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: '',\r\n\t\tmsg: '',\r\n\t\totherError: '',\r\n\t};\r\n\t/*To hide the errors on changing the type of user */\r\n\tconst hideErrors = () => {\r\n\t\tconst messageBoxes = document.querySelectorAll('h5');\r\n\t\tlet i = 0;\r\n\t\tfor (; i < messageBoxes.length; i++) {\r\n\t\t\tmessageBoxes[i].classList.remove('displayBlock');\r\n\t\t\tmessageBoxes[i].classList.add('displayNone');\r\n\t\t\tmessageBoxes[i].classList.remove('padding0_5');\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (errors) {\r\n\t\t\terrors.map((error) => {\r\n\t\t\t\tif (document.getElementById(error.param)) {\r\n\t\t\t\t\tconst messageBox = document.getElementById(error.param).nextSibling;\r\n\t\t\t\t\tmessagesHack[error.param] = error.msg;\r\n\t\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetMessages(messagesHack);\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\thideErrors();\r\n\t\t};\r\n\t}, [errors]);\r\n\r\n\tconst updateData = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst sendData = () => {\r\n\t\thideErrors();\r\n\t\tchangePassword(formData, id).then((result) => {\r\n\t\t\tif (result.status == 200) {\r\n\t\t\t\tconst messageBox = document.getElementById('msg').nextSibling;\r\n\t\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\t\tsetMessages({\r\n\t\t\t\t\t...messages,\r\n\t\t\t\t\tmsg: 'Password changed! Try login.',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div id='changePassword'>\r\n\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t<label htmlFor='password' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tNew Password\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\t\tvalue={formData.password}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t{messages.password}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t\t<label htmlFor='confirmPassword' className='fontWeight500 padding1'>\r\n\t\t\t\t\t\tConfirm Password\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tname='confirmPassword'\r\n\t\t\t\t\t\tid='confirmPassword'\r\n\t\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\t\tvalue={formData.confirmPassword}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger displayNone margin1_0'>\r\n\t\t\t\t\t\t{messages.confirmPassword}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<div id='msg'></div>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorSuccess margin1_0'>\r\n\t\t\t\t\t\t{messages.msg}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<div id='otherError'></div>\r\n\t\t\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger margin1_0'>\r\n\t\t\t\t\t\t{messages.otherError}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='padding2 '>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tclassName='btn padding1 fontSize1_5 btn-theme flexDisplay center'\r\n\t\t\t\t\t\tvalue='Change Password'\r\n\t\t\t\t\t\tonClick={sendData}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nChangePassword.propTypes = {\r\n\tchangePassword: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\tchangePasswordErrors: state.auth.changePasswordErrors,\r\n});\r\nexport default connect(mapStateToProps, { changePassword })(ChangePassword);\r\n","export const week = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { week } from './../../lib/week';\r\nimport PropTypes from 'prop-types';\r\n//Redux\r\nimport { provideAvailability, getAvailability } from './../../actions/booking';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport store from './../../store';\r\nexport const Availability = ({\r\n\tprovideAvailability,\r\n\tisAuthenticated,\r\n\tavailability,\r\n\tdateUpdated,\r\n\tgetAvailability,\r\n}) => {\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst [data, setData] = useState({\r\n\t\tavailability: [0, 0, 0, 0, 0, 0, 0],\r\n\t});\r\n\t/*State to show the error */\r\n\tconst [messages, setMessages] = useState({\r\n\t\terrorMsg: '',\r\n\t\tsuccessMsg: '',\r\n\t});\r\n\tconst updateData = (e) => {\r\n\t\tconst updatedAvailability = data.availability.map((item, index) => {\r\n\t\t\tif (e.target.attributes.day.value == index) {\r\n\t\t\t\treturn Number(e.target.value);\r\n\t\t\t}\r\n\t\t\treturn item;\r\n\t\t});\r\n\t\tsetData({ ...data, availability: updatedAvailability });\r\n\t};\r\n\tconst options = ['No', 'Yes'];\r\n\tconst checkSunday = new Date();\r\n\tcheckSunday.setHours(0, 0, 0, 0);\r\n\tconst dates = [];\r\n\tfor (var i = 0; i < 7; i++) {\r\n\t\tconst date = new Date();\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\tdate.setDate(date.getDate() + i);\r\n\t\tdates.push(date);\r\n\t}\r\n\tconst submitAvailability = () => {\r\n\t\tprovideAvailability(data).then((result) => {\r\n\t\t\tif (result.status == 200) {\r\n\t\t\t\tgetAvailability();\r\n\t\t\t\tsetMessages({\r\n\t\t\t\t\t...messages,\r\n\t\t\t\t\terrorMsg: '',\r\n\t\t\t\t\tsuccessMsg: 'Availability Updated!',\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetMessages({\r\n\t\t\t\t\t...messages,\r\n\t\t\t\t\terrorMsg: 'Please try again later!',\r\n\t\t\t\t\tsuccessMsg: '',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAvailability();\r\n\t\tif (!isAuthenticated) {\r\n\t\t\tsetRedirect(true);\r\n\t\t}\r\n\t\tif (messages.successMsg.trim().length != 0) {\r\n\t\t\t//Display the success message\r\n\t\t\tconst messageBox = document.getElementById('successMsg').nextSibling;\r\n\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\tmessageBox.classList.remove('displayBlock');\r\n\t\t\tmessageBox.classList.add('displayNone');\r\n\t\t\tmessageBox.classList.remove('padding0_5');\r\n\t\t} else if (messages.errorMsg.trim().length != 0) {\r\n\t\t\t//Display the success message\r\n\t\t\tconst messageBox = document.getElementById('errorMsg').nextSibling;\r\n\t\t\tmessageBox.classList.add('displayBlock');\r\n\t\t\tmessageBox.classList.remove('displayNone');\r\n\t\t\tmessageBox.classList.add('padding0_5');\r\n\t\t\tmessageBox.classList.remove('displayBlock');\r\n\t\t\tmessageBox.classList.add('displayNone');\r\n\t\t\tmessageBox.classList.remove('padding0_5');\r\n\t\t}\r\n\t}, [isAuthenticated]);\r\n\tconst prevUpdatedDate = new Date(dateUpdated);\r\n\tconst providedAvailability = (\r\n\t\t<div\r\n\t\t\tclassName='flexDisplayColumn availabilitySection center alignItemsCenter padding2 shadow'\r\n\t\t\tstyle={{ margin: '2rem auto' }}\r\n\t\t>\r\n\t\t\t<h3 className='fontSize1_5'>Last updated availability</h3>\r\n\t\t\t{dates.map((date, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tclassName=' padding2 flexDisplay alignItemsCenter justifySpaceBetween'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName='fontSize1_5 fontWeight500'\r\n\t\t\t\t\t\t\tstyle={{ margin: 'auto 2rem' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{`${date.toLocaleDateString()}, \r\n                            ${week[date.getDay()]}`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{availability[index] == 0 ? (\r\n\t\t\t\t\t\t\t<div className='fontSize1_5 colorDanger padding0_5'>\r\n\t\t\t\t\t\t\t\t{options[availability[index]]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className='fontSize1_5 colorSuccess padding0_5'>\r\n\t\t\t\t\t\t\t\t{options[availability[index]]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<div className='fontSize1_5 margin2'>\r\n\t\t\t\t<span className='fontSize1_5 fontWeight500'>Last udpated -</span>\r\n\t\t\t\t{`${prevUpdatedDate.toLocaleDateString()}, \r\n                            ${week[prevUpdatedDate.getDay()]}`}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst getUpdatedAvailability = (\r\n\t\t<div\r\n\t\t\tclassName='flexDisplayColumn availabilitySection center alignItemsCenter padding2 shadow'\r\n\t\t\tstyle={{ margin: '2rem auto' }}\r\n\t\t>\r\n\t\t\t<h3 className='fontSize1_5'>Provide availability</h3>\r\n\t\t\t{dates.map((date, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tclassName=' padding2 flexDisplay alignItemsCenter justifySpaceBetween'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className='fontSize1_5' style={{ margin: 'auto 2rem' }}>\r\n\t\t\t\t\t\t\t{`${date.toLocaleDateString()}, \r\n                            ${week[date.getDay()]}`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclassName='fontSize1_5 padding1 '\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 'auto 2rem' }}\r\n\t\t\t\t\t\t\t\tday={index}\r\n\t\t\t\t\t\t\t\tname='option'\r\n\t\t\t\t\t\t\t\tonChange={updateData}\r\n\t\t\t\t\t\t\t\tvalue={data.availability[index]}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{options.map((option, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option key={index} value={index} className='fontSize1_5'>\r\n\t\t\t\t\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<div id='successMsg'></div>\r\n\t\t\t<h5 className='fontSize1_5 fontWeight400 colorSuccess margin1_0'>\r\n\t\t\t\t{messages.successMsg}\r\n\t\t\t</h5>\r\n\t\t\t<div id='errorMsg'></div>\r\n\t\t\t<h5 className='fontSize1_5 fontWeight400 colorDanger margin1_0'>\r\n\t\t\t\t{messages.errorMsg}\r\n\t\t\t</h5>\r\n\t\t\t<div className='padding2 '>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tclassName='btn  padding1 fontSize1_5 btn-theme'\r\n\t\t\t\t\tvalue='Submit'\r\n\t\t\t\t\tonClick={submitAvailability}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\treturn redirect ? (\r\n\t\t<Redirect to='/' />\r\n\t) : (\r\n\t\t<Fragment>\r\n\t\t\t<div\r\n\t\t\t\tclassName='fontSize2_5 padding1 flexDisplay justifyCenter'\r\n\t\t\t\tid='profileTitle'\r\n\t\t\t>\r\n\t\t\t\tAvailability\r\n\t\t\t</div>\r\n\t\t\t<div className='flexDisplay' id='availabilityBlock'>\r\n\t\t\t\t{providedAvailability}\r\n\t\t\t\t{checkSunday.getDay() === 0 ? getUpdatedAvailability : null}\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nAvailability.propTypes = {\r\n\tprovideAvailability: PropTypes.func.isRequired,\r\n\tgetAvailability: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n\tavailability: state.booking.availability,\r\n\tdateUpdated: state.booking.dateUpdated,\r\n});\r\nexport default connect(mapStateToProps, {\r\n\tprovideAvailability,\r\n\tgetAvailability,\r\n})(Availability);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { bookingResponse } from './../../actions/booking';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nexport const BookingResponse = (props) => {\r\n\tconst accept = props.match.params.accept;\r\n\tconst id = props.match.params.id;\r\n\tconst typeOfUser = props.match.params.typeOfUser;\r\n\tconst { bookingResponse } = props;\r\n\tconst [mount, setMount] = useState(false);\r\n\t/*State to update the error messages */\r\n\tconst [messages, setMessages] = useState({\r\n\t\terror: null,\r\n\t\tsuccess: null,\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tif (!mount) {\r\n\t\t\tbookingResponse({ accept, id, typeOfUser }).then((res) => {\r\n\t\t\t\tif (res.status == 200) {\r\n\t\t\t\t\tif (accept == 'true')\r\n\t\t\t\t\t\tsetMessages({\r\n\t\t\t\t\t\t\t...messages,\r\n\t\t\t\t\t\t\terror: null,\r\n\t\t\t\t\t\t\tsuccess:\r\n\t\t\t\t\t\t\t\t'You accepted the request. If you want to cancel it go to your bookings!',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tsetMessages({\r\n\t\t\t\t\t\t\t...messages,\r\n\t\t\t\t\t\t\terror: null,\r\n\t\t\t\t\t\t\tsuccess:\r\n\t\t\t\t\t\t\t\t'You rejected the request. Login to see upcoming bookings!',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetMessages({\r\n\t\t\t\t\t\t...messages,\r\n\t\t\t\t\t\tsuccess: null,\r\n\t\t\t\t\t\terror: 'Cannot use the link again!',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tsetMount(true);\r\n\t}, [mount]);\r\n\tuseEffect(() => {\r\n\t\tif (messages.error) {\r\n\t\t\tdocument.getElementById('msg').classList.add('colorDanger');\r\n\t\t\tdocument.getElementById('msg').classList.remove('colorSuccess');\r\n\t\t\tdocument.getElementById('msg').classList.remove('displayNone');\r\n\t\t} else if (messages.success) {\r\n\t\t\tdocument.getElementById('msg').classList.add('colorSuccess');\r\n\t\t\tdocument.getElementById('msg').classList.remove('colorDanger');\r\n\t\t\tdocument.getElementById('msg').classList.remove('displayNone');\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('msg').classList.add('displayNone');\r\n\t\t\tdocument.getElementById('msg').classList.add('padding0_5');\r\n\t\t\tdocument.getElementById('msg').classList.remove('colorDanger');\r\n\t\t\tdocument.getElementById('msg').classList.remove('colorSuccess');\r\n\t\t}\r\n\t}, [messages]);\r\n\treturn (\r\n\t\t<div className='center alignItemsCenter padding2 bookingBlock'>\r\n\t\t\t<h5 className='fontSize1_5 fontWeight400 displayNone margin1_0' id='msg'>\r\n\t\t\t\t{messages.error ? messages.error : messages.success}\r\n\t\t\t</h5>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nBookingResponse.propTypes = {\r\n\tbookingResponse: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\tresponseErrors: state.booking.responseErrors,\r\n});\r\n\r\nexport default connect(mapStateToProps, { bookingResponse })(BookingResponse);\r\n","export const provinces = [\r\n\t{\r\n\t\tlabel: '-- select an option -- ',\r\n\t\tvalue: '0',\r\n\t\tdisabled: true,\r\n\t\tdefault: true,\r\n\t},\r\n\t{\r\n\t\tlabel: 'ON',\r\n\t\tvalue: 'ontario',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'BC',\r\n\t\tvalue: 'britishColumbia',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'QC',\r\n\t\tvalue: 'Quebec',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n\t{\r\n\t\tlabel: 'NS',\r\n\t\tvalue: 'Nova Scotia',\r\n\t\tdisabled: false,\r\n\t\tdefault: false,\r\n\t},\r\n];\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { provinces } from './../../lib/servicableProvinces';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bookDriver, bookHelper } from './../../actions/booking';\r\nimport { cities } from './../../lib/servicableAreas';\r\nexport const BookingProposal = (props) => {\r\n\tconst { bookDriver } = props;\r\n\tconst { bookHelper } = props;\r\n\tlet email = '';\r\n\tlet city = '';\r\n\tlet typeOfUser = '';\r\n\tlet fromURL = true;\r\n\tif (props.location.state) {\r\n\t\temail = props.location.state.email;\r\n\t\tcity = props.location.state.city;\r\n\t\tfromURL = props.location.state.fromURL;\r\n\t\ttypeOfUser = props.location.state.typeOfUser;\r\n\t}\r\n\tconsole.log(typeOfUser, email);\r\n\tconst [pickUp, setPickUpData] = useState({\r\n\t\tstreet: '',\r\n\t\tnumber: '',\r\n\t\tcity: city,\r\n\t\tprovince: 'ontario',\r\n\t\tzipCode: '',\r\n\t\tcountry: 'Canada',\r\n\t});\r\n\tconst [drop, setDropData] = useState({\r\n\t\tstreet: '',\r\n\t\tnumber: '',\r\n\t\tcity: city,\r\n\t\tprovince: 'ontario',\r\n\t\tzipCode: '',\r\n\t\tcountry: 'Canada',\r\n\t});\r\n\tconst [formData, setFormData] = useState({\r\n\t\tdriverEmail: email,\r\n\t\thelperEmail: email,\r\n\t\tdate: '',\r\n\t\tstartTime: '',\r\n\t\tmotive: '',\r\n\t});\r\n\tconst [mount, setMount] = useState(false);\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\t/*State to update the error messages */\r\n\tconst [messages, setMessages] = useState({\r\n\t\terror: null,\r\n\t\tsuccess: null,\r\n\t});\r\n\tconst submitData = () => {\r\n\t\tconst dataToBeSubmitted = { ...formData, pickUp, drop };\r\n\t\tif (typeOfUser == 'driver') {\r\n\t\t\tbookDriver(dataToBeSubmitted).then((res) => {\r\n\t\t\t\tif (res.status == 200) {\r\n\t\t\t\t\tsetMessages({\r\n\t\t\t\t\t\t...messages,\r\n\t\t\t\t\t\terror: null,\r\n\t\t\t\t\t\tsuccess:\r\n\t\t\t\t\t\t\t'Request sent. Will inform you within 5 minutes on the status.',\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetMessages({\r\n\t\t\t\t\t\t...messages,\r\n\t\t\t\t\t\tsuccess: null,\r\n\t\t\t\t\t\terror: 'All fields are necessary!',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log(dataToBeSubmitted);\r\n\t\t\tbookHelper(dataToBeSubmitted).then((res) => {\r\n\t\t\t\tif (res.status == 200) {\r\n\t\t\t\t\tsetMessages({\r\n\t\t\t\t\t\t...messages,\r\n\t\t\t\t\t\terror: null,\r\n\t\t\t\t\t\tsuccess:\r\n\t\t\t\t\t\t\t'Request sent. Will inform you within 5 minutes on the status.',\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetMessages({\r\n\t\t\t\t\t\t...messages,\r\n\t\t\t\t\t\tsuccess: null,\r\n\t\t\t\t\t\terror: 'All fields are necessary!',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tconst updateFormData = (e) => {\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\tconst updateDropData = (e) => {\r\n\t\tsetDropData({ ...drop, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst updatePickUpData = (e) => {\r\n\t\tsetPickUpData({ ...pickUp, [e.target.name]: e.target.value });\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tconsole.log('frist');\r\n\t\tif (fromURL) {\r\n\t\t\tsetRedirect(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetMount(true);\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tconsole.log('second');\r\n\t\tif (mount) {\r\n\t\t\tif (messages.error) {\r\n\t\t\t\tdocument.getElementById('msg').classList.add('colorDanger');\r\n\t\t\t\tdocument.getElementById('msg').classList.remove('colorSuccess');\r\n\t\t\t\tdocument.getElementById('msg').classList.remove('displayNone');\r\n\t\t\t} else if (messages.success) {\r\n\t\t\t\tdocument.getElementById('msg').classList.add('colorSuccess');\r\n\t\t\t\tdocument.getElementById('msg').classList.remove('colorDanger');\r\n\t\t\t\tdocument.getElementById('msg').classList.remove('displayNone');\r\n\t\t\t} else {\r\n\t\t\t\tdocument.getElementById('msg').classList.add('displayNone');\r\n\t\t\t\tdocument.getElementById('msg').classList.add('padding0_5');\r\n\t\t\t\tdocument.getElementById('msg').classList.remove('colorDanger');\r\n\t\t\t\tdocument.getElementById('msg').classList.remove('colorSuccess');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [messages]);\r\n\r\n\t//Redirect to homepage if tries to access this page from URL\r\n\tif (redirect) {\r\n\t\treturn <Redirect to='/' />;\r\n\t}\r\n\t//Redirect to login page if user tries to book a service without being logged in first\r\n\t{\r\n\t\tif (!props.isAuthenticated) return <Redirect to='/login' />;\r\n\t}\r\n\tconst pickUpInputs = (\r\n\t\t<div className='center flexDisplayColumn bookingBlock'>\r\n\t\t\t<h3 className='fontSize1_5 padding2'>Pick up address: </h3>\r\n\t\t\t{/*Building number */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='pickup.number' className='fontWeight500 padding1'>\r\n\t\t\t\t\tBuilding\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tname='number'\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tid='pickup.number'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={pickUp.number}\r\n\t\t\t\t\tonChange={updatePickUpData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/**Street name */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='pickup.street' className='fontWeight500 padding1'>\r\n\t\t\t\t\tStreet\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='street'\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tid='pickup.street'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={pickUp.street}\r\n\t\t\t\t\tonChange={updatePickUpData}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t\t{/*City */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='pickUp.city' className='fontWeight500 padding1'>\r\n\t\t\t\t\tCity\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='city'\r\n\t\t\t\t\tid='pickUp.city'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={pickUp.city}\r\n\t\t\t\t\tonChange={updatePickUpData}\r\n\t\t\t\t>\r\n\t\t\t\t\t{cities.map((city) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={city.value}\r\n\t\t\t\t\t\t\t\tvalue={city.value}\r\n\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\tdisabled={city.disabled}\r\n\t\t\t\t\t\t\t\tname='city'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{city.label}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t{/**Province */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='pickup.province' className='fontWeight500 padding1'>\r\n\t\t\t\t\tProvince\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='province'\r\n\t\t\t\t\tid='pickup.province'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={pickUp.province}\r\n\t\t\t\t\tonChange={updatePickUpData}\r\n\t\t\t\t>\r\n\t\t\t\t\t{provinces.map((province) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={province.value}\r\n\t\t\t\t\t\t\t\tvalue={province.value}\r\n\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\tdisabled={province.disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{province.label}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t{/*Zip code */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='pickup.zipCode' className='fontWeight500 padding1'>\r\n\t\t\t\t\tPostal Code\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='zipCode'\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tid='pickup.zipCode'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tmaxLength={6}\r\n\t\t\t\t\tvalue={pickUp.zipCode}\r\n\t\t\t\t\tonChange={updatePickUpData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='pickup.country' className='fontWeight500 padding1'>\r\n\t\t\t\t\tCountry\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='country'\r\n\t\t\t\t\tid='pickup.country'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue='Canada'\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t\tvalue={pickUp.country}\r\n\t\t\t\t\tonChange={updatePickUpData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\tconst dropInputs = (\r\n\t\t<div className='center flexDisplayColumn bookingBlock'>\r\n\t\t\t<h3 className='fontSize1_5 padding2'>Drop point address: </h3>\r\n\t\t\t{/*Building number */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='drop.number' className='fontWeight500 padding1'>\r\n\t\t\t\t\tBuilding\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tname='number'\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tid='drop.number'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={drop.number}\r\n\t\t\t\t\tonChange={updateDropData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t\t{/**Street name */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='drop.street' className='fontWeight500 padding1'>\r\n\t\t\t\t\tStreet\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='street'\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tid='drop.street'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={drop.street}\r\n\t\t\t\t\tonChange={updateDropData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t\t{/*City */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='drop.city' className='fontWeight500 padding1'>\r\n\t\t\t\t\tCity\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='city'\r\n\t\t\t\t\tid='drop.city'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={drop.city}\r\n\t\t\t\t\tonChange={updateDropData}\r\n\t\t\t\t>\r\n\t\t\t\t\t{cities.map((city) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={city.value}\r\n\t\t\t\t\t\t\t\tvalue={city.value}\r\n\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\tdisabled={city.disabled}\r\n\t\t\t\t\t\t\t\tname='city'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{city.label}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t{/**Province */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='drop.province' className='fontWeight500 padding1'>\r\n\t\t\t\t\tProvince\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='province'\r\n\t\t\t\t\tid='drop.province'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={drop.province}\r\n\t\t\t\t\tonChange={updateDropData}\r\n\t\t\t\t>\r\n\t\t\t\t\t{provinces.map((province) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={province.value}\r\n\t\t\t\t\t\t\t\tvalue={province.value}\r\n\t\t\t\t\t\t\t\tclassName='fontSize1_5'\r\n\t\t\t\t\t\t\t\tdisabled={province.disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{province.label}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t{/*Zip code */}\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='drop.zipCode' className='fontWeight500 padding1'>\r\n\t\t\t\t\tPostal Code\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='zipCode'\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tid='drop.zipCode'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tmaxLength={6}\r\n\t\t\t\t\tvalue={drop.zipCode}\r\n\t\t\t\t\tonChange={updateDropData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='drop.country' className='fontWeight500 padding1'>\r\n\t\t\t\t\tCountry\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='country'\r\n\t\t\t\t\tid='drop.country'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue='Canada'\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t\tvalue={drop.country}\r\n\t\t\t\t\tonChange={updateDropData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\tconst motive = (\r\n\t\t<div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='motive' className='fontWeight500 padding1'>\r\n\t\t\t\t\tMotive\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='motive'\r\n\t\t\t\t\tid='motive'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tplaceholder='Moving, Pick up a thing...'\r\n\t\t\t\t\tvalue={formData.motive}\r\n\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\tconst dateAndTime = (\r\n\t\t<div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='date' className='fontWeight500 padding1'>\r\n\t\t\t\t\tDate\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='date'\r\n\t\t\t\t\tname='date'\r\n\t\t\t\t\tid='date'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={formData.date}\r\n\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t\t<div className='fieldSet flexDisplayColumn fontSize2_5 padding2'>\r\n\t\t\t\t<label htmlFor='startTime' className='fontWeight500 padding1'>\r\n\t\t\t\t\tTime\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='time'\r\n\t\t\t\t\tname='time'\r\n\t\t\t\t\tid='startTime'\r\n\t\t\t\t\tclassName='padding1'\r\n\t\t\t\t\tvalue={formData.startTime}\r\n\t\t\t\t\tonChange={updateFormData}\r\n\t\t\t\t></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div\r\n\t\t\t\tclassName=' availabilitySection center alignItemsCenter padding2 bookingBlock'\r\n\t\t\t\tstyle={{ margin: '2rem auto' }}\r\n\t\t\t>\r\n\t\t\t\t<h3 className='fontSize2_5 padding2 fontWeight400'>\r\n\t\t\t\t\tProvide booking details\r\n\t\t\t\t</h3>\r\n\t\t\t\t<div className='flexDisplay bookingLocations'>\r\n\t\t\t\t\t{pickUpInputs}\r\n\t\t\t\t\t{dropInputs}\r\n\t\t\t\t</div>\r\n\t\t\t\t{dateAndTime}\r\n\t\t\t\t{motive}\r\n\r\n\t\t\t\t<h5\r\n\t\t\t\t\tclassName='fontSize1_5 fontWeight400 displayNone margin1_0'\r\n\t\t\t\t\tid='msg'\r\n\t\t\t\t>\r\n\t\t\t\t\t{messages.error ? messages.error : messages.success}\r\n\t\t\t\t</h5>\r\n\t\t\t\t<div className='padding2'>\r\n\t\t\t\t\t<button className='btn btn-theme fontSize1_5 ' onClick={submitData}>\r\n\t\t\t\t\t\tSend proposal\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\nBookingProposal.propTypes = {\r\n\tbookDriver: PropTypes.func.isRequired,\r\n\tbookHelper: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { bookDriver, bookHelper })(\r\n\tBookingProposal\r\n);\r\n","import './App.css';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport NavBar from './components/layout/NavBar';\nimport Landing from './components/layout/Landing';\nimport SignUp from './components/auth/SignUp';\nimport Login from './components/auth/Login';\nimport BookerProfile from './components/bookers/Profile';\nimport ShowProfile from './components/bookers/ShowProfile';\nimport Bookings from './components/common/Bookings';\nimport DriverProfile from './components/drivers/Profile';\nimport HelperProfile from './components/helpers/Profile';\nimport ForgotPasswordModal from './components/common/ForgotPasswordModal';\nimport ChangePassword from './components/common/ChangePassword';\nimport Availability from './components/common/Availability';\nimport BookingResponse from './components/common/BookingResponse';\nimport BookingProposal from './components/booking/BookingProposal';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n//Redux\nimport { loadUser } from './actions/auth';\nimport { Provider } from 'react-redux';\nimport store from './store';\nconst App = () => {\n\tuseEffect(() => {\n\t\tstore.dispatch(loadUser());\n\t});\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<Router>\n\t\t\t\t<Fragment>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path='/' component={Landing} />\n\t\t\t\t\t\t<Route exact path='/signUp' component={SignUp} />\n\t\t\t\t\t\t<Route exact path='/login' component={Login} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/viewProfile'\n\t\t\t\t\t\t\trender={(props) => <ShowProfile {...props} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path='/booker/profile' component={BookerProfile} />\n\t\t\t\t\t\t<Route exact path='/bookings' component={Bookings} />\n\t\t\t\t\t\t<Route exact path='/driver/profile' component={DriverProfile} />\n\t\t\t\t\t\t<Route exact path='/helper/profile' component={HelperProfile} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/forgotPassword'\n\t\t\t\t\t\t\tcomponent={ForgotPasswordModal}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/changePassword/:id'\n\t\t\t\t\t\t\tcomponent={ChangePassword}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path='/availability' component={Availability} />\n\t\t\t\t\t\t<Route exact path='/book' component={BookingProposal} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/bookingResponse/:id/:accept/:typeOfUser'\n\t\t\t\t\t\t\tcomponent={BookingResponse}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Fragment>\n\t\t\t</Router>\n\t\t</Provider>\n\t);\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}